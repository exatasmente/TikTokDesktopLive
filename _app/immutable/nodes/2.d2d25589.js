import{i as _r,f as In,s as Gn,h as Rr,o as Hn,j as vt,k as Pr,n as Er}from"../chunks/scheduler.fe7ec8f5.js";import{S as Zn,i as zn,s as Se,g as ge,m as Ke,c as Le,h as ye,j as Me,f as ue,y as On,n as Je,l as J,k as K,a as ke,x as he,d as Bt,p as Ar,t as an,b as Tr,o as it,z as Qn,A as Mr,B as xr,r as kr,u as Sr,v as Lr,w as Ir}from"../chunks/index.2d7f3b1d.js";function Nt(p){return(p==null?void 0:p.length)!==void 0?p:Array.from(p)}const Or=!0,vi=Object.freeze(Object.defineProperty({__proto__:null,prerender:Or},Symbol.toStringTag,{value:"Module"}));function Ur(p){const v=p-1;return v*v*v+1}function Fr(p,{delay:v=0,duration:x=400,easing:k=_r}={}){const $=+getComputedStyle(p).opacity;return{delay:v,duration:x,easing:k,css:V=>`opacity: ${V*$}`}}function Yr(p,{delay:v=0,duration:x=400,easing:k=Ur,x:$=0,y:V=0,opacity:I=0}={}){const E=getComputedStyle(p),w=+E.opacity,Z=E.transform==="none"?"":E.transform,S=w*(1-I),[M,C]=In($),[u,Y]=In(V);return{delay:v,duration:x,easing:k,css:(W,j)=>`
			transform: ${Z} translate(${(1-W)*M}${C}, ${(1-W)*u}${Y});
			opacity: ${w-S*j}`}}const Ye=()=>{const p=["audio/ad.mp3","audio/ad1.mp3"];return p[Math.floor(Math.random()*p.length)]},Wt=()=>{const p=["audio/rosa.mp3","audio/rosa.mp3","audio/rosa1.mp3","audio/rosa.mp3","audio/flowers_1.mp3","audio/rosa.mp3","audio/rosa.mp3","audio/rosa.mp3","audio/rosa.mp3"];return p[Math.floor(Math.random()*p.length)]},$r=()=>{const p=["audio/tiktok.mp3","audio/tiktok_1.mp3","audio/tiktok_2.mp3"];return p[Math.floor(Math.random()*p.length)]},mt=()=>"audio/random_1.mp3",jr=()=>"audio/random_1.mp3",Wr=()=>{const p=["audio/coffe_3.mp3","audio/coffee.mp3","audio/coffee+2.mp3","audio/coffe_1.mp3"];return p[Math.floor(Math.random()*p.length)]},Dr=()=>"audio/numberone_1.mp3",Br=()=>Ye(),Dt=({giftId:p})=>{if(p=="6416"){const v=["audio/cookie_1.mp3","audio/cookie_2.mp3","audio/cookie_3.mp3","audio/cookie.mp3"];return v[Math.floor(Math.random()*v.length)]}return Ye()},Nr=()=>Ye(),Xr=({lastAudio:p})=>{if(p==="audio/rosa.mp3"){const x=["audio/flowers_and_chocolate_1.mp3","audio/flowers_and_chocolate.mp3"];return x[Math.floor(Math.random()*x.length)]}const v=["audio/chocolate.mp3","audio/chocolate1.mp3"];return v[Math.floor(Math.random()*v.length)]},Vr=()=>"audio/powerhug.mp3",Gr=()=>Ye(),Hr=()=>"audio/fire.mp3",Zr=()=>Ye(),zr=()=>Ye(),Qr=()=>Ye(),qr=()=>"audio/amei.mp3",Kr=()=>Ye(),Un=()=>{const p=["audio/asmr_1.mp3","audio/asmr_2.mp3"];return p[Math.floor(Math.random()*p.length)]},Jr=()=>Ye(),Pt=()=>Ye(),ei=()=>{const p=["audio/like_1.mp3","audio/like_2.mp3","audio/like_3.mp3"];return p[Math.floor(Math.random()*p.length)]},ti=()=>{const p=["audio/subscribe_1.mp3","audio/subscribe_2.mp3","audio/subscribe_3.mp3"];return p[Math.floor(Math.random()*p.length)]},ni=()=>"audio/join.mp3",ri=()=>{const p=["audio/wakeUp.mp3","audio/wakeUp1.mp3","audio/wakeUp2.mp3","audio/wakeUp3.mp3"];return p[Math.floor(Math.random()*p.length)]},ii={like:ei,subscribe:ti,wakeUp:ri,join:ni,5269:$r,5327:mt,5328:jr,5333:Wr,5338:Br,5460:Dr,5487:mt,5494:Ye,5547:Dt,5566:mt,5585:Nr,5586:mt,5630:Xr,5631:Vr,5655:Wt,5658:Gr,5719:Hr,5780:Wt,5867:Zr,5879:Dt,5886:zr,5983:Qr,5984:qr,6034:Wt,6097:Kr,6113:Dt,6148:Wt,6185:Un,6240:Un,6246:Jr,6247:mt,6265:Pt,6267:Pt,6271:Pt,6348:Pt,6369:Pt,6416:Dt,7934:mt},ai=p=>ii[p]||Ye,Fn=()=>{const p=[],v=M=>2*M+1,x=M=>2*M+2,k=M=>Math.floor((M-1)/2),$=(M,C)=>{const u=p[M];p[M]=p[C],p[C]=u},V=M=>{p.push(M);let C=p.length-1;for(;C>0&&p[k(C)].priority<p[C].priority;)$(C,k(C)),C=k(C)},I=M=>{const C=v(M),u=x(M);let Y=M;C<p.length&&p[C].priority>p[Y].priority&&(Y=C),u<p.length&&p[u].priority>p[Y].priority&&(Y=u),Y!==M&&($(M,Y),I(Y))},E=()=>{if(p.length===0)return null;const M=p[0];return p[0]=p[p.length-1],p.pop(),I(0),M};return{push:M=>{V(M)},pop:()=>E(),peek:()=>p[0],length:()=>p.length,toArray:()=>p}};var oi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},qn={exports:{}};(function(p,v){(function(k,$){p.exports=$()})(oi,()=>(()=>{var x=[,(I,E,w)=>{w.r(E),w.d(E,{default:()=>S});var Z=(()=>{var M=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return function(C={}){var u=C,Y,W;u.ready=new Promise((t,e)=>{Y=t,W=e});function j(){function t(f){const c=i;r=e=0,i=new Map,c.forEach(m=>{try{m(f)}catch(h){console.error(h)}}),this.Sa(),s&&s.pb()}let e=0,r=0,i=new Map,s=null,l=null;this.requestAnimationFrame=function(f){e||(e=requestAnimationFrame(t.bind(this)));const c=++r;return i.set(c,f),c},this.cancelAnimationFrame=function(f){i.delete(f),e&&i.size==0&&(cancelAnimationFrame(e),e=0)},this.nb=function(f){l&&(document.body.remove(l),l=null),f||(l=document.createElement("div"),l.style.backgroundColor="black",l.style.position="fixed",l.style.right=0,l.style.top=0,l.style.color="white",l.style.padding="4px",l.innerHTML="RIVE FPS",f=function(c){l.innerHTML="RIVE FPS "+c.toFixed(1)},document.body.appendChild(l)),s=new function(){let c=0,m=0;this.pb=function(){var h=performance.now();m?(++c,h-=m,1e3<h&&(f(1e3*c/h),c=m=0)):(m=h,c=0)}}},this.kb=function(){l&&(document.body.remove(l),l=null),s=null},this.Sa=function(){}}function ee(t){console.assert(!0);const e=new Map;let r=-1/0;this.push=function(i){return i=i+((1<<t)-1)>>t,e.has(i)&&clearTimeout(e.get(i)),e.set(i,setTimeout(function(){e.delete(i),e.length==0?r=-1/0:i==r&&(r=Math.max(...e.keys()),console.assert(r<i))},1e3)),r=Math.max(i,r),r<<t}}const de="createConicGradient createImageData createLinearGradient createPattern createRadialGradient getContextAttributes getImageData getLineDash getTransform isContextLost isPointInPath isPointInStroke measureText".split(" "),D=new function(){function t(){if(!e){let ve=function(Ce,z,ne){if(z=P.createShader(z),P.shaderSource(z,ne),P.compileShader(z),ne=P.getShaderInfoLog(z),0<ne.length)throw ne;P.attachShader(Ce,z)};var F=document.createElement("canvas"),G={alpha:1,depth:0,stencil:0,antialias:0,premultipliedAlpha:1,preserveDrawingBuffer:0,preferLowPowerToHighPerformance:0,failIfMajorPerformanceCaveat:0,enableExtensionsByDefault:1,explicitSwapControl:1,renderViaOffscreenBackBuffer:1};let P=F.getContext("webgl2",G);if(P)r=2;else if(P=F.getContext("webgl",G))r=1;else return console.log("No WebGL support. Image mesh will not be drawn."),!1;if(i=Math.min(P.getParameter(P.MAX_RENDERBUFFER_SIZE),P.getParameter(P.MAX_TEXTURE_SIZE)),F=P.createProgram(),ve(F,P.VERTEX_SHADER,`attribute vec2 vertex;
                attribute vec2 uv;
                uniform vec4 mat;
                uniform vec2 translate;
                varying vec2 st;
                void main() {
                    st = uv;
                    gl_Position = vec4(mat2(mat) * vertex + translate, 0, 1);
                }`),ve(F,P.FRAGMENT_SHADER,`precision highp float;
                uniform sampler2D image;
                varying vec2 st;
                void main() {
                    gl_FragColor = texture2D(image, st);
                }`),P.bindAttribLocation(F,0,"vertex"),P.bindAttribLocation(F,1,"uv"),P.linkProgram(F),G=P.getProgramInfoLog(F),0<G.trim().length)throw G;s=P.getUniformLocation(F,"mat"),l=P.getUniformLocation(F,"translate"),P.useProgram(F),P.bindBuffer(P.ARRAY_BUFFER,P.createBuffer()),P.enableVertexAttribArray(0),P.enableVertexAttribArray(1),P.bindBuffer(P.ELEMENT_ARRAY_BUFFER,P.createBuffer()),P.uniform1i(P.getUniformLocation(F,"image"),0),P.pixelStorei(P.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),e=P}return!0}let e=null,r=0,i=0,s=null,l=null,f=0,c=0;this.yb=function(){return t(),i},this.ib=function(F){if(!t())return null;const G=e.createTexture();return e.bindTexture(e.TEXTURE_2D,G),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,F),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),r==2?(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR_MIPMAP_LINEAR),e.generateMipmap(e.TEXTURE_2D)):e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),G};const m=new ee(8),h=new ee(8),R=new ee(10),U=new ee(10);this.mb=function(F,G,P,ve,Ce){if(t()){var z=m.push(F),ne=h.push(G);(e.canvas.width!=z||e.canvas.height!=ne)&&(e.canvas.width=z,e.canvas.height=ne),e.viewport(0,ne-G,F,G),e.disable(e.SCISSOR_TEST),e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT),e.enable(e.SCISSOR_TEST),P.sort((se,rt)=>rt.Wa-se.Wa),z=R.push(ve),f!=z&&(e.bufferData(e.ARRAY_BUFFER,8*z,e.DYNAMIC_DRAW),f=z),z=0;for(var _e of P)e.bufferSubData(e.ARRAY_BUFFER,z,_e.Fa),z+=4*_e.Fa.length;console.assert(z==4*ve);for(var Oe of P)e.bufferSubData(e.ARRAY_BUFFER,z,Oe.Za),z+=4*Oe.Za.length;console.assert(z==8*ve),z=U.push(Ce),c!=z&&(e.bufferData(e.ELEMENT_ARRAY_BUFFER,2*z,e.DYNAMIC_DRAW),c=z),_e=0;for(var qe of P)e.bufferSubData(e.ELEMENT_ARRAY_BUFFER,_e,qe.indices),_e+=2*qe.indices.length;console.assert(_e==2*Ce),qe=0,Oe=!0,z=_e=0;for(const se of P){se.image.Ba!=qe&&(e.bindTexture(e.TEXTURE_2D,se.image.fb||null),qe=se.image.Ba),se.Bb?(e.scissor(se.Ka,ne-se.La-se.Ra,se.Ib,se.Ra),Oe=!0):Oe&&(e.scissor(0,ne-G,F,G),Oe=!1),P=2/F;const rt=-2/G;e.uniform4f(s,se.qa[0]*P*se.xa,se.qa[1]*rt*se.ya,se.qa[2]*P*se.xa,se.qa[3]*rt*se.ya),e.uniform2f(l,se.qa[4]*P*se.xa+P*(se.Ka-se.zb*se.xa)-1,se.qa[5]*rt*se.ya+rt*(se.La-se.Ab*se.ya)+1),e.vertexAttribPointer(0,2,e.FLOAT,!1,0,z),e.vertexAttribPointer(1,2,e.FLOAT,!1,0,z+4*ve),e.drawElements(e.TRIANGLES,se.indices.length,e.UNSIGNED_SHORT,_e),z+=4*se.Fa.length,_e+=2*se.indices.length}console.assert(z==4*ve),console.assert(_e==2*Ce)}},this.canvas=function(){return t()&&e.canvas}};u.onRuntimeInitialized=function(){function t(_){switch(_){case h.srcOver:return"source-over";case h.screen:return"screen";case h.overlay:return"overlay";case h.darken:return"darken";case h.lighten:return"lighten";case h.colorDodge:return"color-dodge";case h.colorBurn:return"color-burn";case h.hardLight:return"hard-light";case h.softLight:return"soft-light";case h.difference:return"difference";case h.exclusion:return"exclusion";case h.multiply:return"multiply";case h.hue:return"hue";case h.saturation:return"saturation";case h.color:return"color";case h.luminosity:return"luminosity"}}function e(_){return"rgba("+((16711680&_)>>>16)+","+((65280&_)>>>8)+","+((255&_)>>>0)+","+((4278190080&_)>>>24)/255+")"}function r(){0<_e.length&&(D.mb(ne.drawWidth(),ne.drawHeight(),_e,Oe,qe),_e=[],qe=Oe=0,ne.reset(512,512));for(const _ of z){for(const X of _.fa)X();_.fa=[]}z.clear()}var i=u.RenderPaintStyle;const s=u.RenderPath,l=u.RenderPaint,f=u.Renderer,c=u.StrokeCap,m=u.StrokeJoin,h=u.BlendMode,R=i.fill,U=i.stroke,F=u.FillRule.evenOdd;let G=1;var P=u.RenderImage.extend("CanvasRenderImage",{__construct:function(){this.__parent.__construct.call(this),this.Ba=G,G=G+1&2147483647||1},decode:function(_){let X=nn;X.total++;var le=this,re=new Image;re.src=URL.createObjectURL(new Blob([_],{type:"image/png"})),re.onload=function(){if(le.cb=re,le.fb=D.ib(re),le.size(re.width,re.height),X.loaded++,X.loaded===X.total){const q=X.ready;q&&(q(),X.ready=null)}}}}),ve=s.extend("CanvasRenderPath",{__construct:function(){this.__parent.__construct.call(this),this.ka=new Path2D},rewind:function(){this.ka=new Path2D},addPath:function(_,X,le,re,q,me,ce){var pe=this.ka,Fe=pe.addPath;_=_.ka;const Pe=new DOMMatrix;Pe.a=X,Pe.b=le,Pe.c=re,Pe.d=q,Pe.e=me,Pe.f=ce,Fe.call(pe,_,Pe)},fillRule:function(_){this.Ia=_},moveTo:function(_,X){this.ka.moveTo(_,X)},lineTo:function(_,X){this.ka.lineTo(_,X)},cubicTo:function(_,X,le,re,q,me){this.ka.bezierCurveTo(_,X,le,re,q,me)},close:function(){this.ka.closePath()}}),Ce=l.extend("CanvasRenderPaint",{color:function(_){this.Ja=e(_)},thickness:function(_){this.gb=_},join:function(_){switch(_){case m.miter:this.Aa="miter";break;case m.round:this.Aa="round";break;case m.bevel:this.Aa="bevel"}},cap:function(_){switch(_){case c.butt:this.za="butt";break;case c.round:this.za="round";break;case c.square:this.za="square"}},style:function(_){this.eb=_},blendMode:function(_){this.bb=t(_)},clearGradient:function(){this.sa=null},linearGradient:function(_,X,le,re){this.sa={Xa:_,Ya:X,Na:le,Oa:re,Ea:[]}},radialGradient:function(_,X,le,re){this.sa={Xa:_,Ya:X,Na:le,Oa:re,Ea:[],wb:!0}},addStop:function(_,X){this.sa.Ea.push({color:_,stop:X})},completeGradient:function(){},draw:function(_,X,le){let re=this.eb;var q=this.Ja,me=this.sa;if(_.globalCompositeOperation=this.bb,me!=null){q=me.Xa;var ce=me.Ya;const Fe=me.Na;var pe=me.Oa;const Pe=me.Ea;me.wb?(me=Fe-q,pe-=ce,q=_.createRadialGradient(q,ce,0,q,ce,Math.sqrt(me*me+pe*pe))):q=_.createLinearGradient(q,ce,Fe,pe);for(let Ve=0,Te=Pe.length;Ve<Te;Ve++)ce=Pe[Ve],q.addColorStop(ce.stop,e(ce.color));this.Ja=q,this.sa=null}switch(re){case U:_.strokeStyle=q,_.lineWidth=this.gb,_.lineCap=this.za,_.lineJoin=this.Aa,_.stroke(X);break;case R:_.fillStyle=q,_.fill(X,le)}}});const z=new Set;let ne=null,_e=[],Oe=0,qe=0;var se=u.CanvasRenderer=f.extend("Renderer",{__construct:function(_){this.__parent.__construct.call(this),this.ja=[1,0,0,1,0,0],this.da=_.getContext("2d"),this.Ha=_,this.fa=[]},save:function(){this.ja.push(...this.ja.slice(this.ja.length-6)),this.fa.push(this.da.save.bind(this.da))},restore:function(){const _=this.ja.length-6;if(6>_)throw"restore() called without matching save().";this.ja.splice(_),this.fa.push(this.da.restore.bind(this.da))},transform:function(_,X,le,re,q,me){const ce=this.ja,pe=ce.length-6;ce.splice(pe,6,ce[pe]*_+ce[pe+2]*X,ce[pe+1]*_+ce[pe+3]*X,ce[pe]*le+ce[pe+2]*re,ce[pe+1]*le+ce[pe+3]*re,ce[pe]*q+ce[pe+2]*me+ce[pe+4],ce[pe+1]*q+ce[pe+3]*me+ce[pe+5]),this.fa.push(this.da.transform.bind(this.da,_,X,le,re,q,me))},rotate:function(_){const X=Math.sin(_);_=Math.cos(_),this.transform(_,X,-X,_,0,0)},_drawPath:function(_,X){this.fa.push(X.draw.bind(X,this.da,_.ka,_.Ia===F?"evenodd":"nonzero"))},_drawRiveImage:function(_,X,le){var re=_.cb;if(re){var q=this.da,me=t(X);this.fa.push(function(){q.globalCompositeOperation=me,q.globalAlpha=le,q.drawImage(re,0,0),q.globalAlpha=1})}},_getMatrix:function(_){const X=this.ja,le=X.length-6;for(let re=0;6>re;++re)_[re]=X[le+re]},_drawImageMesh:function(_,X,le,re,q,me,ce,pe,Fe,Pe){var Ve=this.da.canvas.width,Te=this.da.canvas.height;const xn=Fe-ce,kn=Pe-pe;ce=Math.max(ce,0),pe=Math.max(pe,0),Fe=Math.min(Fe,Ve),Pe=Math.min(Pe,Te);const _t=Fe-ce,Rt=Pe-pe;if(console.assert(_t<=Math.min(xn,Ve)),console.assert(Rt<=Math.min(kn,Te)),!(0>=_t||0>=Rt)){Fe=_t<xn||Rt<kn,Ve=Pe=1;var st=Math.ceil(_t*Pe),ut=Math.ceil(Rt*Ve);Te=D.yb(),st>Te&&(Pe*=Te/st,st=Te),ut>Te&&(Ve*=Te/ut,ut=Te),ne||(ne=new u.DynamicRectanizer(Te),ne.reset(512,512)),Te=ne.addRect(st,ut),0>Te&&(r(),z.add(this),Te=ne.addRect(st,ut),console.assert(0<=Te));var Sn=Te&65535,Ln=Te>>16;_e.push({qa:this.ja.slice(this.ja.length-6),image:_,Ka:Sn,La:Ln,zb:ce,Ab:pe,Ib:st,Ra:ut,xa:Pe,ya:Ve,Fa:new Float32Array(re),Za:new Float32Array(q),indices:new Uint16Array(me),Bb:Fe,Wa:_.Ba<<1|(Fe?1:0)}),Oe+=re.length,qe+=me.length;var pt=this.da,Cr=t(X);this.fa.push(function(){pt.save(),pt.resetTransform(),pt.globalCompositeOperation=Cr,pt.globalAlpha=le,pt.drawImage(D.canvas(),Sn,Ln,st,ut,ce,pe,_t,Rt),pt.restore()})}},_clipPath:function(_){this.fa.push(this.da.clip.bind(this.da,_.ka,_.Ia===F?"evenodd":"nonzero"))},clear:function(){z.add(this),this.fa.push(this.da.clearRect.bind(this.da,0,0,this.Ha.width,this.Ha.height))},flush:function(){},translate:function(_,X){this.transform(1,0,0,1,_,X)}});u.makeRenderer=function(_){const X=new se(_),le=X.da;return new Proxy(X,{get(re,q){if(typeof re[q]=="function")return function(...me){return re[q].apply(re,me)};if(typeof le[q]=="function"){if(-1<de.indexOf(q))throw Error("RiveException: Method call to '"+q+"()' is not allowed, as the renderer cannot immediately pass through the return                 values of any canvas 2d context methods.");return function(...me){X.fa.push(le[q].bind(le,...me))}}return re[q]},set(re,q,me){if(q in le)return le[q]=me,!0}})},u.renderFactory={makeRenderPaint:function(){return new Ce},makeRenderPath:function(){return new ve},makeRenderImage:function(){return new P}};let rt=u.load,nn=null;u.load=function(_){return new Promise(function(X){let le=null;nn={total:0,loaded:0,ready:function(){X(le)}},le=rt(_),nn.total==0&&X(le)})},i=new j,u.requestAnimationFrame=i.requestAnimationFrame.bind(i),u.cancelAnimationFrame=i.cancelAnimationFrame.bind(i),u.enableFPSCounter=i.nb.bind(i),u.disableFPSCounter=i.kb,i.Sa=r,u.cleanup=function(){ne&&ne.delete()}};var N=Object.assign({},u),y="./this.program",A=typeof window=="object",ae=typeof importScripts=="function",B="",O,ie;(A||ae)&&(ae?B=self.location.href:typeof document<"u"&&document.currentScript&&(B=document.currentScript.src),M&&(B=M),B.indexOf("blob:")!==0?B=B.substr(0,B.replace(/[?#].*/,"").lastIndexOf("/")+1):B="",ae&&(ie=t=>{var e=new XMLHttpRequest;return e.open("GET",t,!1),e.responseType="arraybuffer",e.send(null),new Uint8Array(e.response)}),O=(t,e,r)=>{var i=new XMLHttpRequest;i.open("GET",t,!0),i.responseType="arraybuffer",i.onload=()=>{i.status==200||i.status==0&&i.response?e(i.response):r()},i.onerror=r,i.send(null)});var te=u.print||console.log.bind(console),Ee=u.printErr||console.error.bind(console);Object.assign(u,N),N=null,u.thisProgram&&(y=u.thisProgram);var o;u.wasmBinary&&(o=u.wasmBinary),u.noExitRuntime,typeof WebAssembly!="object"&&at("no native wasm support detected");var n,a,d=!1,b,g,T,H,oe,L,fe,Re;function Ae(){var t=n.buffer;u.HEAP8=b=new Int8Array(t),u.HEAP16=T=new Int16Array(t),u.HEAP32=oe=new Int32Array(t),u.HEAPU8=g=new Uint8Array(t),u.HEAPU16=H=new Uint16Array(t),u.HEAPU32=L=new Uint32Array(t),u.HEAPF32=fe=new Float32Array(t),u.HEAPF64=Re=new Float64Array(t)}var be,je=[],We=[],ct=[];function Et(){var t=u.preRun.shift();je.unshift(t)}var De=0,et=null;function at(t){throw u.onAbort&&u.onAbort(t),t="Aborted("+t+")",Ee(t),d=!0,t=new WebAssembly.RuntimeError(t+". Build with -sASSERTIONS for more info."),W(t),t}function tt(t){return t.startsWith("data:application/octet-stream;base64,")}var Be;if(Be="canvas_advanced.wasm",!tt(Be)){var Ge=Be;Be=u.locateFile?u.locateFile(Ge,B):B+Ge}function on(t){if(t==Be&&o)return new Uint8Array(o);if(ie)return ie(t);throw"both async and sync fetching of the wasm failed"}function Kn(t){if(!o&&(A||ae)){if(typeof fetch=="function"&&!t.startsWith("file://"))return fetch(t,{credentials:"same-origin"}).then(e=>{if(!e.ok)throw"failed to load wasm binary file at '"+t+"'";return e.arrayBuffer()}).catch(()=>on(t));if(O)return new Promise((e,r)=>{O(t,i=>e(new Uint8Array(i)),r)})}return Promise.resolve().then(()=>on(t))}function sn(t,e,r){return Kn(t).then(i=>WebAssembly.instantiate(i,e)).then(i=>i).then(r,i=>{Ee("failed to asynchronously prepare wasm: "+i),at(i)})}function Jn(t,e){var r=Be;return o||typeof WebAssembly.instantiateStreaming!="function"||tt(r)||r.startsWith("file://")||typeof fetch!="function"?sn(r,t,e):fetch(r,{credentials:"same-origin"}).then(i=>WebAssembly.instantiateStreaming(i,t).then(e,function(s){return Ee("wasm streaming compile failed: "+s),Ee("falling back to ArrayBuffer instantiation"),sn(r,t,e)}))}var Xt=t=>{for(;0<t.length;)t.shift()(u)};function un(t){if(t===void 0)return"_unknown";t=t.replace(/[^a-zA-Z0-9_]/g,"$");var e=t.charCodeAt(0);return 48<=e&&57>=e?`_${t}`:t}function At(t,e){return t=un(t),{[t]:function(){return e.apply(this,arguments)}}[t]}function ln(){this.la=[void 0],this.Qa=[]}var Ue=new ln,ft=void 0;function Q(t){throw new ft(t)}var $e=t=>(t||Q("Cannot use deleted val. handle = "+t),Ue.get(t).value),Ne=t=>{switch(t){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:return Ue.ab({Va:1,value:t})}};function cn(t){var e=Error,r=At(t,function(i){this.name=t,this.message=i,i=Error(i).stack,i!==void 0&&(this.stack=this.toString()+`
`+i.replace(/^Error(:[^\n]*)?\n/,""))});return r.prototype=Object.create(e.prototype),r.prototype.constructor=r,r.prototype.toString=function(){return this.message===void 0?this.name:`${this.name}: ${this.message}`},r}var fn=void 0,hn=void 0;function we(t){for(var e="";g[t];)e+=hn[g[t++]];return e}var gt=[];function Vt(){for(;gt.length;){var t=gt.pop();t.Y.pa=!1,t.delete()}}var yt=void 0,He={};function Gt(t,e){for(e===void 0&&Q("ptr should not be undefined");t.ba;)e=t.ta(e),t=t.ba;return e}var ot={};function dn(t){t=Tn(t);var e=we(t);return Qe(t),e}function bt(t,e){var r=ot[t];return r===void 0&&Q(e+" has unknown type "+dn(t)),r}function Tt(){}var Ht=!1;function pn(t){--t.count.value,t.count.value===0&&(t.ea?t.ha.ma(t.ea):t.aa.Z.ma(t.$))}function mn(t,e,r){return e===r?t:r.ba===void 0?null:(t=mn(t,e,r.ba),t===null?null:r.lb(t))}var vn={};function er(t,e){return e=Gt(t,e),He[e]}var gn=void 0;function Mt(t){throw new gn(t)}function xt(t,e){return e.aa&&e.$||Mt("makeClassHandle requires ptr and ptrType"),!!e.ha!=!!e.ea&&Mt("Both smartPtrType and smartPtr must be specified"),e.count={value:1},ht(Object.create(t,{Y:{value:e}}))}function ht(t){return typeof FinalizationRegistry>"u"?(ht=e=>e,t):(Ht=new FinalizationRegistry(e=>{pn(e.Y)}),ht=e=>{var r=e.Y;return r.ea&&Ht.register(e,{Y:r},e),e},Tt=e=>{Ht.unregister(e)},ht(t))}var kt={};function wt(t){for(;t.length;){var e=t.pop();t.pop()(e)}}function Ct(t){return this.fromWireType(oe[t>>2])}var dt={},St={};function Ie(t,e,r){function i(c){c=r(c),c.length!==t.length&&Mt("Mismatched type converter count");for(var m=0;m<t.length;++m)Xe(t[m],c[m])}t.forEach(function(c){St[c]=e});var s=Array(e.length),l=[],f=0;e.forEach((c,m)=>{ot.hasOwnProperty(c)?s[m]=ot[c]:(l.push(c),dt.hasOwnProperty(c)||(dt[c]=[]),dt[c].push(()=>{s[m]=ot[c],++f,f===l.length&&i(s)}))}),l.length===0&&i(s)}function Lt(t){switch(t){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError(`Unknown type size: ${t}`)}}function tr(t,e,r={}){var i=e.name;if(t||Q(`type "${i}" must have a positive integer typeid pointer`),ot.hasOwnProperty(t)){if(r.vb)return;Q(`Cannot register type '${i}' twice`)}ot[t]=e,delete St[t],dt.hasOwnProperty(t)&&(e=dt[t],delete dt[t],e.forEach(s=>s()))}function Xe(t,e,r={}){if(!("argPackAdvance"in e))throw new TypeError("registerType registeredInstance requires argPackAdvance");tr(t,e,r)}function Zt(t){Q(t.Y.aa.Z.name+" instance already deleted")}function nt(){}function zt(t,e,r){if(t[e].ca===void 0){var i=t[e];t[e]=function(){return t[e].ca.hasOwnProperty(arguments.length)||Q(`Function '${r}' called with an invalid number of arguments (${arguments.length}) - expects one of (${t[e].ca})!`),t[e].ca[arguments.length].apply(this,arguments)},t[e].ca=[],t[e].ca[i.oa]=i}}function Qt(t,e,r){u.hasOwnProperty(t)?((r===void 0||u[t].ca!==void 0&&u[t].ca[r]!==void 0)&&Q(`Cannot register public name '${t}' twice`),zt(u,t,t),u.hasOwnProperty(r)&&Q(`Cannot register multiple overloads of a function with the same number of arguments (${r})!`),u[t].ca[r]=e):(u[t]=e,r!==void 0&&(u[t].Jb=r))}function nr(t,e,r,i,s,l,f,c){this.name=t,this.constructor=e,this.ia=r,this.ma=i,this.ba=s,this.qb=l,this.ta=f,this.lb=c,this.Ta=[]}function It(t,e,r){for(;e!==r;)e.ta||Q(`Expected null or instance of ${r.name}, got an instance of ${e.name}`),t=e.ta(t),e=e.ba;return t}function rr(t,e){return e===null?(this.Ca&&Q(`null is not a valid ${this.name}`),0):(e.Y||Q(`Cannot pass "${Kt(e)}" as a ${this.name}`),e.Y.$||Q(`Cannot pass deleted object as a pointer of type ${this.name}`),It(e.Y.$,e.Y.aa.Z,this.Z))}function ir(t,e){if(e===null){if(this.Ca&&Q(`null is not a valid ${this.name}`),this.wa){var r=this.Da();return t!==null&&t.push(this.ma,r),r}return 0}if(e.Y||Q(`Cannot pass "${Kt(e)}" as a ${this.name}`),e.Y.$||Q(`Cannot pass deleted object as a pointer of type ${this.name}`),!this.va&&e.Y.aa.va&&Q(`Cannot convert argument of type ${e.Y.ha?e.Y.ha.name:e.Y.aa.name} to parameter type ${this.name}`),r=It(e.Y.$,e.Y.aa.Z,this.Z),this.wa)switch(e.Y.ea===void 0&&Q("Passing raw pointer to smart pointer is illegal"),this.Hb){case 0:e.Y.ha===this?r=e.Y.ea:Q(`Cannot convert argument of type ${e.Y.ha?e.Y.ha.name:e.Y.aa.name} to parameter type ${this.name}`);break;case 1:r=e.Y.ea;break;case 2:if(e.Y.ha===this)r=e.Y.ea;else{var i=e.clone();r=this.Db(r,Ne(function(){i.delete()})),t!==null&&t.push(this.ma,r)}break;default:Q("Unsupporting sharing policy")}return r}function ar(t,e){return e===null?(this.Ca&&Q(`null is not a valid ${this.name}`),0):(e.Y||Q(`Cannot pass "${Kt(e)}" as a ${this.name}`),e.Y.$||Q(`Cannot pass deleted object as a pointer of type ${this.name}`),e.Y.aa.va&&Q(`Cannot convert argument of type ${e.Y.aa.name} to parameter type ${this.name}`),It(e.Y.$,e.Y.aa.Z,this.Z))}function Ze(t,e,r,i){this.name=t,this.Z=e,this.Ca=r,this.va=i,this.wa=!1,this.ma=this.Db=this.Da=this.Ua=this.Hb=this.Cb=void 0,e.ba!==void 0?this.toWireType=ir:(this.toWireType=i?rr:ar,this.ga=null)}function yn(t,e,r){u.hasOwnProperty(t)||Mt("Replacing nonexistant public symbol"),u[t].ca!==void 0&&r!==void 0?u[t].ca[r]=e:(u[t]=e,u[t].oa=r)}var or=(t,e)=>{var r=[];return function(){if(r.length=0,Object.assign(r,arguments),t.includes("j")){var i=u["dynCall_"+t];i=r&&r.length?i.apply(null,[e].concat(r)):i.call(null,e)}else i=be.get(e).apply(null,r);return i}};function xe(t,e){t=we(t);var r=t.includes("j")?or(t,e):be.get(e);return typeof r!="function"&&Q(`unknown function pointer with signature ${t}: ${e}`),r}var bn=void 0;function ze(t,e){function r(l){s[l]||ot[l]||(St[l]?St[l].forEach(r):(i.push(l),s[l]=!0))}var i=[],s={};throw e.forEach(r),new bn(`${t}: `+i.map(dn).join([", "]))}function Ot(t,e,r,i,s){var l=e.length;2>l&&Q("argTypes array size mismatch! Must at least get return value and 'this' types!");var f=e[1]!==null&&r!==null,c=!1;for(r=1;r<e.length;++r)if(e[r]!==null&&e[r].ga===void 0){c=!0;break}var m=e[0].name!=="void",h=l-2,R=Array(h),U=[],F=[];return function(){if(arguments.length!==h&&Q(`function ${t} called with ${arguments.length} arguments, expected ${h} args!`),F.length=0,U.length=f?2:1,U[0]=s,f){var G=e[1].toWireType(F,this);U[1]=G}for(var P=0;P<h;++P)R[P]=e[P+2].toWireType(F,arguments[P]),U.push(R[P]);if(P=i.apply(null,U),c)wt(F);else for(var ve=f?1:2;ve<e.length;ve++){var Ce=ve===1?G:R[ve-2];e[ve].ga!==null&&e[ve].ga(Ce)}return G=m?e[0].fromWireType(P):void 0,G}}function Ut(t,e){for(var r=[],i=0;i<t;i++)r.push(L[e+4*i>>2]);return r}function wn(t,e,r){return t instanceof Object||Q(`${r} with invalid "this": ${t}`),t instanceof e.Z.constructor||Q(`${r} incompatible with "this" of type ${t.constructor.name}`),t.Y.$||Q(`cannot call emscripten binding method ${r} on deleted object`),It(t.Y.$,t.Y.aa.Z,e.Z)}function qt(t){t>=Ue.Ga&&--Ue.get(t).Va===0&&Ue.$a(t)}function sr(t,e,r){switch(e){case 0:return function(i){return this.fromWireType((r?b:g)[i])};case 1:return function(i){return this.fromWireType((r?T:H)[i>>1])};case 2:return function(i){return this.fromWireType((r?oe:L)[i>>2])};default:throw new TypeError("Unknown integer type: "+t)}}function Kt(t){if(t===null)return"null";var e=typeof t;return e==="object"||e==="array"||e==="function"?t.toString():""+t}function ur(t,e){switch(e){case 2:return function(r){return this.fromWireType(fe[r>>2])};case 3:return function(r){return this.fromWireType(Re[r>>3])};default:throw new TypeError("Unknown float type: "+t)}}function lr(t,e,r){switch(e){case 0:return r?function(i){return b[i]}:function(i){return g[i]};case 1:return r?function(i){return T[i>>1]}:function(i){return H[i>>1]};case 2:return r?function(i){return oe[i>>2]}:function(i){return L[i>>2]};default:throw new TypeError("Unknown integer type: "+t)}}var Cn=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,_n=(t,e,r)=>{var i=e+r;for(r=e;t[r]&&!(r>=i);)++r;if(16<r-e&&t.buffer&&Cn)return Cn.decode(t.subarray(e,r));for(i="";e<r;){var s=t[e++];if(s&128){var l=t[e++]&63;if((s&224)==192)i+=String.fromCharCode((s&31)<<6|l);else{var f=t[e++]&63;s=(s&240)==224?(s&15)<<12|l<<6|f:(s&7)<<18|l<<12|f<<6|t[e++]&63,65536>s?i+=String.fromCharCode(s):(s-=65536,i+=String.fromCharCode(55296|s>>10,56320|s&1023))}}else i+=String.fromCharCode(s)}return i},Rn=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,cr=(t,e)=>{for(var r=t>>1,i=r+e/2;!(r>=i)&&H[r];)++r;if(r<<=1,32<r-t&&Rn)return Rn.decode(g.subarray(t,r));for(r="",i=0;!(i>=e/2);++i){var s=T[t+2*i>>1];if(s==0)break;r+=String.fromCharCode(s)}return r},fr=(t,e,r)=>{if(r===void 0&&(r=2147483647),2>r)return 0;r-=2;var i=e;r=r<2*t.length?r/2:t.length;for(var s=0;s<r;++s)T[e>>1]=t.charCodeAt(s),e+=2;return T[e>>1]=0,e-i},hr=t=>2*t.length,dr=(t,e)=>{for(var r=0,i="";!(r>=e/4);){var s=oe[t+4*r>>2];if(s==0)break;++r,65536<=s?(s-=65536,i+=String.fromCharCode(55296|s>>10,56320|s&1023)):i+=String.fromCharCode(s)}return i},pr=(t,e,r)=>{if(r===void 0&&(r=2147483647),4>r)return 0;var i=e;r=i+r-4;for(var s=0;s<t.length;++s){var l=t.charCodeAt(s);if(55296<=l&&57343>=l){var f=t.charCodeAt(++s);l=65536+((l&1023)<<10)|f&1023}if(oe[e>>2]=l,e+=4,e+4>r)break}return oe[e>>2]=0,e-i},mr=t=>{for(var e=0,r=0;r<t.length;++r){var i=t.charCodeAt(r);55296<=i&&57343>=i&&++r,e+=4}return e},vr={};function Ft(t){var e=vr[t];return e===void 0?we(t):e}var Yt=[];function gr(t){var e=Yt.length;return Yt.push(t),e}function yr(t,e){for(var r=Array(t),i=0;i<t;++i)r[i]=bt(L[e+4*i>>2],"parameter "+i);return r}var Pn=[],Jt={},En=()=>{if(!en){var t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:y||"./this.program"},e;for(e in Jt)Jt[e]===void 0?delete t[e]:t[e]=Jt[e];var r=[];for(e in t)r.push(`${e}=${t[e]}`);en=r}return en},en,br=[null,[],[]];Object.assign(ln.prototype,{get(t){return this.la[t]},has(t){return this.la[t]!==void 0},ab(t){var e=this.Qa.pop()||this.la.length;return this.la[e]=t,e},$a(t){this.la[t]=void 0,this.Qa.push(t)}}),ft=u.BindingError=class extends Error{constructor(t){super(t),this.name="BindingError"}},Ue.la.push({value:void 0},{value:null},{value:!0},{value:!1}),Ue.Ga=Ue.la.length,u.count_emval_handles=function(){for(var t=0,e=Ue.Ga;e<Ue.la.length;++e)Ue.la[e]!==void 0&&++t;return t},fn=u.PureVirtualError=cn("PureVirtualError");for(var An=Array(256),$t=0;256>$t;++$t)An[$t]=String.fromCharCode($t);hn=An,u.getInheritedInstanceCount=function(){return Object.keys(He).length},u.getLiveInheritedInstances=function(){var t=[],e;for(e in He)He.hasOwnProperty(e)&&t.push(He[e]);return t},u.flushPendingDeletes=Vt,u.setDelayFunction=function(t){yt=t,gt.length&&yt&&yt(Vt)},gn=u.InternalError=class extends Error{constructor(t){super(t),this.name="InternalError"}},nt.prototype.isAliasOf=function(t){if(!(this instanceof nt&&t instanceof nt))return!1;var e=this.Y.aa.Z,r=this.Y.$,i=t.Y.aa.Z;for(t=t.Y.$;e.ba;)r=e.ta(r),e=e.ba;for(;i.ba;)t=i.ta(t),i=i.ba;return e===i&&r===t},nt.prototype.clone=function(){if(this.Y.$||Zt(this),this.Y.ra)return this.Y.count.value+=1,this;var t=ht,e=Object,r=e.create,i=Object.getPrototypeOf(this),s=this.Y;return t=t(r.call(e,i,{Y:{value:{count:s.count,pa:s.pa,ra:s.ra,$:s.$,aa:s.aa,ea:s.ea,ha:s.ha}}})),t.Y.count.value+=1,t.Y.pa=!1,t},nt.prototype.delete=function(){this.Y.$||Zt(this),this.Y.pa&&!this.Y.ra&&Q("Object already scheduled for deletion"),Tt(this),pn(this.Y),this.Y.ra||(this.Y.ea=void 0,this.Y.$=void 0)},nt.prototype.isDeleted=function(){return!this.Y.$},nt.prototype.deleteLater=function(){return this.Y.$||Zt(this),this.Y.pa&&!this.Y.ra&&Q("Object already scheduled for deletion"),gt.push(this),gt.length===1&&yt&&yt(Vt),this.Y.pa=!0,this},Ze.prototype.rb=function(t){return this.Ua&&(t=this.Ua(t)),t},Ze.prototype.Ma=function(t){this.ma&&this.ma(t)},Ze.prototype.argPackAdvance=8,Ze.prototype.readValueFromPointer=Ct,Ze.prototype.deleteObject=function(t){t!==null&&t.delete()},Ze.prototype.fromWireType=function(t){function e(){return this.wa?xt(this.Z.ia,{aa:this.Cb,$:r,ha:this,ea:t}):xt(this.Z.ia,{aa:this,$:t})}var r=this.rb(t);if(!r)return this.Ma(t),null;var i=er(this.Z,r);if(i!==void 0)return i.Y.count.value===0?(i.Y.$=r,i.Y.ea=t,i.clone()):(i=i.clone(),this.Ma(t),i);if(i=this.Z.qb(r),i=vn[i],!i)return e.call(this);i=this.va?i.hb:i.pointerType;var s=mn(r,this.Z,i.Z);return s===null?e.call(this):this.wa?xt(i.Z.ia,{aa:i,$:s,ha:this,ea:t}):xt(i.Z.ia,{aa:i,$:s})},bn=u.UnboundTypeError=cn("UnboundTypeError");var wr={L:function(t,e,r){t=we(t),e=bt(e,"wrapper"),r=$e(r);var i=[].slice,s=e.Z,l=s.ia,f=s.ba.ia,c=s.ba.constructor;t=At(t,function(){s.ba.Ta.forEach((function(h){if(this[h]===f[h])throw new fn(`Pure virtual function ${h} must be implemented in JavaScript`)}).bind(this)),Object.defineProperty(this,"__parent",{value:l}),this.__construct.apply(this,i.call(arguments))}),l.__construct=function(){this===l&&Q("Pass correct 'this' to __construct");var h=c.implement.apply(void 0,[this].concat(i.call(arguments)));Tt(h);var R=h.Y;h.notifyOnDestruction(),R.ra=!0,Object.defineProperties(this,{Y:{value:R}}),ht(this),h=R.$,h=Gt(s,h),He.hasOwnProperty(h)?Q(`Tried to register registered instance: ${h}`):He[h]=this},l.__destruct=function(){this===l&&Q("Pass correct 'this' to __destruct"),Tt(this);var h=this.Y.$;h=Gt(s,h),He.hasOwnProperty(h)?delete He[h]:Q(`Tried to unregister unregistered instance: ${h}`)},t.prototype=Object.create(l);for(var m in r)t.prototype[m]=r[m];return Ne(t)},N:function(t){var e=kt[t];delete kt[t];var r=e.Da,i=e.ma,s=e.Pa,l=s.map(f=>f.ub).concat(s.map(f=>f.Fb));Ie([t],l,f=>{var c={};return s.forEach((m,h)=>{var R=f[h],U=m.sb,F=m.tb,G=f[h+s.length],P=m.Eb,ve=m.Gb;c[m.ob]={read:Ce=>R.fromWireType(U(F,Ce)),write:(Ce,z)=>{var ne=[];P(ve,Ce,G.toWireType(ne,z)),wt(ne)}}}),[{name:e.name,fromWireType:function(m){var h={},R;for(R in c)h[R]=c[R].read(m);return i(m),h},toWireType:function(m,h){for(var R in c)if(!(R in h))throw new TypeError(`Missing field: "${R}"`);var U=r();for(R in c)c[R].write(U,h[R]);return m!==null&&m.push(i,U),U},argPackAdvance:8,readValueFromPointer:Ct,ga:i}]})},C:function(){},J:function(t,e,r,i,s){var l=Lt(r);e=we(e),Xe(t,{name:e,fromWireType:function(f){return!!f},toWireType:function(f,c){return c?i:s},argPackAdvance:8,readValueFromPointer:function(f){if(r===1)var c=b;else if(r===2)c=T;else if(r===4)c=oe;else throw new TypeError("Unknown boolean type size: "+e);return this.fromWireType(c[f>>l])},ga:null})},f:function(t,e,r,i,s,l,f,c,m,h,R,U,F){R=we(R),l=xe(s,l),c&&(c=xe(f,c)),h&&(h=xe(m,h)),F=xe(U,F);var G=un(R);Qt(G,function(){ze(`Cannot construct ${R} due to unbound types`,[i])}),Ie([t,e,r],i?[i]:[],function(P){if(P=P[0],i)var ve=P.Z,Ce=ve.ia;else Ce=nt.prototype;P=At(G,function(){if(Object.getPrototypeOf(this)!==z)throw new ft("Use 'new' to construct "+R);if(ne.na===void 0)throw new ft(R+" has no accessible constructor");var Oe=ne.na[arguments.length];if(Oe===void 0)throw new ft(`Tried to invoke ctor of ${R} with invalid number of parameters (${arguments.length}) - expected (${Object.keys(ne.na).toString()}) parameters instead!`);return Oe.apply(this,arguments)});var z=Object.create(Ce,{constructor:{value:P}});P.prototype=z;var ne=new nr(R,P,z,F,ve,l,c,h);ne.ba&&(ne.ba.ua===void 0&&(ne.ba.ua=[]),ne.ba.ua.push(ne)),ve=new Ze(R,ne,!0,!1),Ce=new Ze(R+"*",ne,!1,!1);var _e=new Ze(R+" const*",ne,!1,!0);return vn[t]={pointerType:Ce,hb:_e},yn(G,P),[ve,Ce,_e]})},l:function(t,e,r,i,s,l,f){var c=Ut(r,i);e=we(e),l=xe(s,l),Ie([],[t],function(m){function h(){ze(`Cannot call ${R} due to unbound types`,c)}m=m[0];var R=`${m.name}.${e}`;e.startsWith("@@")&&(e=Symbol[e.substring(2)]);var U=m.Z.constructor;return U[e]===void 0?(h.oa=r-1,U[e]=h):(zt(U,e,R),U[e].ca[r-1]=h),Ie([],c,function(F){if(F=Ot(R,[F[0],null].concat(F.slice(1)),null,l,f),U[e].ca===void 0?(F.oa=r-1,U[e]=F):U[e].ca[r-1]=F,m.Z.ua)for(const G of m.Z.ua)G.constructor.hasOwnProperty(e)||(G.constructor[e]=F);return[]}),[]})},w:function(t,e,r,i,s,l,f,c){e=we(e),l=xe(s,l),Ie([],[t],function(m){m=m[0];var h=`${m.name}.${e}`,R={get(){ze(`Cannot access ${h} due to unbound types`,[r])},enumerable:!0,configurable:!0};return R.set=c?()=>{ze(`Cannot access ${h} due to unbound types`,[r])}:()=>{Q(`${h} is a read-only property`)},Object.defineProperty(m.Z.constructor,e,R),Ie([],[r],function(U){U=U[0];var F={get(){return U.fromWireType(l(i))},enumerable:!0};return c&&(c=xe(f,c),F.set=G=>{var P=[];c(i,U.toWireType(P,G)),wt(P)}),Object.defineProperty(m.Z.constructor,e,F),[]}),[]})},r:function(t,e,r,i,s,l){var f=Ut(e,r);s=xe(i,s),Ie([],[t],function(c){c=c[0];var m=`constructor ${c.name}`;if(c.Z.na===void 0&&(c.Z.na=[]),c.Z.na[e-1]!==void 0)throw new ft(`Cannot register multiple constructors with identical number of parameters (${e-1}) for class '${c.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return c.Z.na[e-1]=()=>{ze(`Cannot construct ${c.name} due to unbound types`,f)},Ie([],f,function(h){return h.splice(1,0,null),c.Z.na[e-1]=Ot(m,h,null,s,l),[]}),[]})},b:function(t,e,r,i,s,l,f,c){var m=Ut(r,i);e=we(e),l=xe(s,l),Ie([],[t],function(h){function R(){ze(`Cannot call ${U} due to unbound types`,m)}h=h[0];var U=`${h.name}.${e}`;e.startsWith("@@")&&(e=Symbol[e.substring(2)]),c&&h.Z.Ta.push(e);var F=h.Z.ia,G=F[e];return G===void 0||G.ca===void 0&&G.className!==h.name&&G.oa===r-2?(R.oa=r-2,R.className=h.name,F[e]=R):(zt(F,e,U),F[e].ca[r-2]=R),Ie([],m,function(P){return P=Ot(U,P,h,l,f),F[e].ca===void 0?(P.oa=r-2,F[e]=P):F[e].ca[r-2]=P,[]}),[]})},e:function(t,e,r,i,s,l,f,c,m,h){e=we(e),s=xe(i,s),Ie([],[t],function(R){R=R[0];var U=`${R.name}.${e}`,F={get(){ze(`Cannot access ${U} due to unbound types`,[r,f])},enumerable:!0,configurable:!0};return F.set=m?()=>{ze(`Cannot access ${U} due to unbound types`,[r,f])}:()=>{Q(U+" is a read-only property")},Object.defineProperty(R.Z.ia,e,F),Ie([],m?[r,f]:[r],function(G){var P=G[0],ve={get(){var z=wn(this,R,U+" getter");return P.fromWireType(s(l,z))},enumerable:!0};if(m){m=xe(c,m);var Ce=G[1];ve.set=function(z){var ne=wn(this,R,U+" setter"),_e=[];m(h,ne,Ce.toWireType(_e,z)),wt(_e)}}return Object.defineProperty(R.Z.ia,e,ve),[]}),[]})},I:function(t,e){e=we(e),Xe(t,{name:e,fromWireType:function(r){var i=$e(r);return qt(r),i},toWireType:function(r,i){return Ne(i)},argPackAdvance:8,readValueFromPointer:Ct,ga:null})},o:function(t,e,r,i){function s(){}r=Lt(r),e=we(e),s.values={},Xe(t,{name:e,constructor:s,fromWireType:function(l){return this.constructor.values[l]},toWireType:function(l,f){return f.value},argPackAdvance:8,readValueFromPointer:sr(e,r,i),ga:null}),Qt(e,s)},c:function(t,e,r){var i=bt(t,"enum");e=we(e),t=i.constructor,i=Object.create(i.constructor.prototype,{value:{value:r},constructor:{value:At(`${i.name}_${e}`,function(){})}}),t.values[r]=i,t[e]=i},y:function(t,e,r){r=Lt(r),e=we(e),Xe(t,{name:e,fromWireType:function(i){return i},toWireType:function(i,s){return s},argPackAdvance:8,readValueFromPointer:ur(e,r),ga:null})},t:function(t,e,r,i,s,l){var f=Ut(e,r);t=we(t),s=xe(i,s),Qt(t,function(){ze(`Cannot call ${t} due to unbound types`,f)},e-1),Ie([],f,function(c){return yn(t,Ot(t,[c[0],null].concat(c.slice(1)),null,s,l),e-1),[]})},k:function(t,e,r,i,s){e=we(e),s===-1&&(s=4294967295),s=Lt(r);var l=c=>c;if(i===0){var f=32-8*r;l=c=>c<<f>>>f}r=e.includes("unsigned")?function(c,m){return m>>>0}:function(c,m){return m},Xe(t,{name:e,fromWireType:l,toWireType:r,argPackAdvance:8,readValueFromPointer:lr(e,s,i!==0),ga:null})},g:function(t,e,r){function i(l){l>>=2;var f=L;return new s(f.buffer,f[l+1],f[l])}var s=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][e];r=we(r),Xe(t,{name:r,fromWireType:i,argPackAdvance:8,readValueFromPointer:i},{vb:!0})},z:function(t,e){e=we(e);var r=e==="std::string";Xe(t,{name:e,fromWireType:function(i){var s=L[i>>2],l=i+4;if(r)for(var f=l,c=0;c<=s;++c){var m=l+c;if(c==s||g[m]==0){if(f=f?_n(g,f,m-f):"",h===void 0)var h=f;else h+=String.fromCharCode(0),h+=f;f=m+1}}else{for(h=Array(s),c=0;c<s;++c)h[c]=String.fromCharCode(g[l+c]);h=h.join("")}return Qe(i),h},toWireType:function(i,s){s instanceof ArrayBuffer&&(s=new Uint8Array(s));var l,f=typeof s=="string";f||s instanceof Uint8Array||s instanceof Uint8ClampedArray||s instanceof Int8Array||Q("Cannot pass non-string to std::string");var c;if(r&&f)for(l=c=0;l<s.length;++l){var m=s.charCodeAt(l);127>=m?c++:2047>=m?c+=2:55296<=m&&57343>=m?(c+=4,++l):c+=3}else c=s.length;if(l=c,c=tn(4+l+1),m=c+4,L[c>>2]=l,r&&f){if(f=m,m=l+1,l=g,0<m){m=f+m-1;for(var h=0;h<s.length;++h){var R=s.charCodeAt(h);if(55296<=R&&57343>=R){var U=s.charCodeAt(++h);R=65536+((R&1023)<<10)|U&1023}if(127>=R){if(f>=m)break;l[f++]=R}else{if(2047>=R){if(f+1>=m)break;l[f++]=192|R>>6}else{if(65535>=R){if(f+2>=m)break;l[f++]=224|R>>12}else{if(f+3>=m)break;l[f++]=240|R>>18,l[f++]=128|R>>12&63}l[f++]=128|R>>6&63}l[f++]=128|R&63}}l[f]=0}}else if(f)for(f=0;f<l;++f)h=s.charCodeAt(f),255<h&&(Qe(m),Q("String has UTF-16 code units that do not fit in 8 bits")),g[m+f]=h;else for(f=0;f<l;++f)g[m+f]=s[f];return i!==null&&i.push(Qe,c),c},argPackAdvance:8,readValueFromPointer:Ct,ga:function(i){Qe(i)}})},v:function(t,e,r){if(r=we(r),e===2)var i=cr,s=fr,l=hr,f=()=>H,c=1;else e===4&&(i=dr,s=pr,l=mr,f=()=>L,c=2);Xe(t,{name:r,fromWireType:function(m){for(var h=L[m>>2],R=f(),U,F=m+4,G=0;G<=h;++G){var P=m+4+G*e;(G==h||R[P>>c]==0)&&(F=i(F,P-F),U===void 0?U=F:(U+=String.fromCharCode(0),U+=F),F=P+e)}return Qe(m),U},toWireType:function(m,h){typeof h!="string"&&Q(`Cannot pass non-string to C++ string type ${r}`);var R=l(h),U=tn(4+R+e);return L[U>>2]=R>>c,s(h,U+4,R+e),m!==null&&m.push(Qe,U),U},argPackAdvance:8,readValueFromPointer:Ct,ga:function(m){Qe(m)}})},P:function(t,e,r,i,s,l){kt[t]={name:we(e),Da:xe(r,i),ma:xe(s,l),Pa:[]}},O:function(t,e,r,i,s,l,f,c,m,h){kt[t].Pa.push({ob:we(e),ub:r,sb:xe(i,s),tb:l,Fb:f,Eb:xe(c,m),Gb:h})},K:function(t,e){e=we(e),Xe(t,{xb:!0,name:e,argPackAdvance:0,fromWireType:function(){},toWireType:function(){}})},u:function(t,e,r){t=$e(t),e=bt(e,"emval::as");var i=[],s=Ne(i);return L[r>>2]=s,e.toWireType(i,t)},A:function(t,e,r,i,s){t=Yt[t],e=$e(e),r=Ft(r);var l=[];return L[i>>2]=Ne(l),t(e,r,l,s)},i:function(t,e,r,i){t=Yt[t],e=$e(e),r=Ft(r),t(e,r,null,i)},d:qt,h:function(t,e){var r=yr(t,e),i=r[0];e=i.name+"_$"+r.slice(1).map(function(f){return f.name}).join("_")+"$";var s=Pn[e];if(s!==void 0)return s;var l=Array(t-1);return s=gr((f,c,m,h)=>{for(var R=0,U=0;U<t-1;++U)l[U]=r[U+1].readValueFromPointer(h+R),R+=r[U+1].argPackAdvance;for(f=f[c].apply(f,l),U=0;U<t-1;++U)r[U+1].jb&&r[U+1].jb(l[U]);if(!i.xb)return i.toWireType(m,f)}),Pn[e]=s},s:function(t){return t=Ft(t),Ne(u[t])},M:function(t,e){return t=$e(t),e=$e(e),Ne(t[e])},n:function(t){4<t&&(Ue.get(t).Va+=1)},m:function(t){return Ne(Ft(t))},x:function(){return Ne({})},p:function(t){var e=$e(t);wt(e),qt(t)},j:function(t,e,r){t=$e(t),e=$e(e),r=$e(r),t[e]=r},q:function(t,e){return t=bt(t,"_emval_take_value"),t=t.readValueFromPointer(e),Ne(t)},a:()=>{at("")},D:t=>{var e=g.length;if(t>>>=0,2147483648<t)return!1;for(var r=1;4>=r;r*=2){var i=e*(1+.2/r);i=Math.min(i,t+100663296);var s=Math;i=Math.max(t,i);e:{s=s.min.call(s,2147483648,i+(65536-i%65536)%65536)-n.buffer.byteLength+65535>>>16;try{n.grow(s),Ae();var l=1;break e}catch{}l=void 0}if(l)return!0}return!1},E:(t,e)=>{var r=0;return En().forEach(function(i,s){var l=e+r;for(s=L[t+4*s>>2]=l,l=0;l<i.length;++l)b[s++>>0]=i.charCodeAt(l);b[s>>0]=0,r+=i.length+1}),0},F:(t,e)=>{var r=En();L[t>>2]=r.length;var i=0;return r.forEach(function(s){i+=s.length+1}),L[e>>2]=i,0},G:()=>52,B:function(){return 70},H:(t,e,r,i)=>{for(var s=0,l=0;l<r;l++){var f=L[e>>2],c=L[e+4>>2];e+=8;for(var m=0;m<c;m++){var h=g[f+m],R=br[t];h===0||h===10?((t===1?te:Ee)(_n(R,0)),R.length=0):R.push(h)}s+=c}return L[i>>2]=s,0}};(function(){function t(r){if(a=r=r.exports,n=a.Q,Ae(),be=a.W,We.unshift(a.R),De--,u.monitorRunDependencies&&u.monitorRunDependencies(De),De==0&&et){var i=et;et=null,i()}return r}var e={a:wr};if(De++,u.monitorRunDependencies&&u.monitorRunDependencies(De),u.instantiateWasm)try{return u.instantiateWasm(e,t)}catch(r){Ee("Module.instantiateWasm callback failed with error: "+r),W(r)}return Jn(e,function(r){t(r.instance)}).catch(W),{}})();var Qe=t=>(Qe=a.S)(t),tn=t=>(tn=a.T)(t),Tn=t=>(Tn=a.U)(t);u.__embind_initialize_bindings=()=>(u.__embind_initialize_bindings=a.V)(),u.dynCall_jiji=(t,e,r,i,s)=>(u.dynCall_jiji=a.X)(t,e,r,i,s);var jt;et=function t(){jt||Mn(),jt||(et=t)};function Mn(){function t(){if(!jt&&(jt=!0,u.calledRun=!0,!d)){if(Xt(We),Y(u),u.onRuntimeInitialized&&u.onRuntimeInitialized(),u.postRun)for(typeof u.postRun=="function"&&(u.postRun=[u.postRun]);u.postRun.length;){var e=u.postRun.shift();ct.unshift(e)}Xt(ct)}}if(!(0<De)){if(u.preRun)for(typeof u.preRun=="function"&&(u.preRun=[u.preRun]);u.preRun.length;)Et();Xt(je),0<De||(u.setStatus?(u.setStatus("Running..."),setTimeout(function(){setTimeout(function(){u.setStatus("")},1),t()},1)):t())}}if(u.preInit)for(typeof u.preInit=="function"&&(u.preInit=[u.preInit]);0<u.preInit.length;)u.preInit.pop()();return Mn(),C.ready}})();const S=Z},I=>{I.exports=JSON.parse(`{"name":"@rive-app/canvas","version":"2.4.3","description":"Rive's canvas based web api.","main":"rive.js","homepage":"https://rive.app","repository":{"type":"git","url":"https://github.com/rive-app/rive-wasm/tree/master/js"},"keywords":["rive","animation"],"author":"Rive","contributors":["Luigi Rosso <luigi@rive.app> (https://rive.app)","Maxwell Talbot <max@rive.app> (https://rive.app)","Arthur Vivian <arthur@rive.app> (https://rive.app)","Umberto Sonnino <umberto@rive.app> (https://rive.app)","Matthew Sullivan <matt.j.sullivan@gmail.com> (mailto:matt.j.sullivan@gmail.com)"],"license":"MIT","files":["rive.js","rive.js.map","rive.wasm","rive.d.ts","rive_advanced.mjs.d.ts"],"typings":"rive.d.ts","dependencies":{},"browser":{"fs":false,"path":false}}`)},(I,E,w)=>{w.r(E),w.d(E,{BLANK_URL:()=>S.BLANK_URL,registerTouchInteractions:()=>Z.registerTouchInteractions,sanitizeUrl:()=>S.sanitizeUrl});var Z=w(4),S=w(5)},(I,E,w)=>{w.r(E),w.d(E,{registerTouchInteractions:()=>M});var Z=void 0,S=function(C){var u,Y;return["touchstart","touchmove"].indexOf(C.type)>-1&&(!((u=C.touches)===null||u===void 0)&&u.length)?(C.preventDefault(),{clientX:C.touches[0].clientX,clientY:C.touches[0].clientY}):C.type==="touchend"&&(!((Y=C.changedTouches)===null||Y===void 0)&&Y.length)?{clientX:C.changedTouches[0].clientX,clientY:C.changedTouches[0].clientY}:{clientX:C.clientX,clientY:C.clientY}},M=function(C){var u=C.canvas,Y=C.artboard,W=C.stateMachines,j=W===void 0?[]:W,ee=C.renderer,de=C.rive,D=C.fit,N=C.alignment;if(!u||!j.length||!ee||!de||!Y||typeof window>"u")return null;var y=function(ae){var B=ae.currentTarget.getBoundingClientRect(),O=S(ae),ie=O.clientX,te=O.clientY;if(!(!ie&&!te)){var Ee=ie-B.left,o=te-B.top,n=de.computeAlignment(D,N,{minX:0,minY:0,maxX:B.width,maxY:B.height},Y.bounds),a=new de.Mat2D;n.invert(a);var d=new de.Vec2D(Ee,o),b=de.mapXY(a,d),g=b.x(),T=b.y();switch(b.delete(),a.delete(),d.delete(),n.delete(),ae.type){case"touchmove":case"mouseover":case"mouseout":case"mousemove":{for(var H=0,oe=j;H<oe.length;H++){var L=oe[H];L.pointerMove(g,T)}break}case"touchstart":case"mousedown":{for(var fe=0,Re=j;fe<Re.length;fe++){var L=Re[fe];L.pointerDown(g,T)}break}case"touchend":case"mouseup":{for(var Ae=0,be=j;Ae<be.length;Ae++){var L=be[Ae];L.pointerUp(g,T)}break}}}},A=y.bind(Z);return u.addEventListener("mouseover",A),u.addEventListener("mouseout",A),u.addEventListener("mousemove",A),u.addEventListener("mousedown",A),u.addEventListener("mouseup",A),u.addEventListener("touchmove",A),u.addEventListener("touchstart",A),u.addEventListener("touchend",A),function(){u.removeEventListener("mouseover",A),u.removeEventListener("mouseout",A),u.removeEventListener("mousemove",A),u.removeEventListener("mousedown",A),u.removeEventListener("mouseup",A),u.removeEventListener("touchmove",A),u.removeEventListener("touchstart",A),u.removeEventListener("touchend",A)}}},(I,E,w)=>{w.r(E),w.d(E,{BLANK_URL:()=>W,sanitizeUrl:()=>de});var Z=/^([^\w]*)(javascript|data|vbscript)/im,S=/&#(\w+)(^\w|;)?/g,M=/&(newline|tab);/gi,C=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,u=/^.+(:|&colon;)/gim,Y=[".","/"],W="about:blank";function j(D){return Y.indexOf(D[0])>-1}function ee(D){var N=D.replace(C,"");return N.replace(S,function(y,A){return String.fromCharCode(A)})}function de(D){if(!D)return W;var N=ee(D).replace(M,"").replace(C,"").trim();if(!N)return W;if(j(N))return N;var y=N.match(u);if(!y)return N;var A=y[0];return Z.test(A)?W:N}}],k={};function $(I){var E=k[I];if(E!==void 0)return E.exports;var w=k[I]={exports:{}};return x[I](w,w.exports,$),w.exports}$.d=(I,E)=>{for(var w in E)$.o(E,w)&&!$.o(I,w)&&Object.defineProperty(I,w,{enumerable:!0,get:E[w]})},$.o=(I,E)=>Object.prototype.hasOwnProperty.call(I,E),$.r=I=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(I,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(I,"__esModule",{value:!0})};var V={};return(()=>{$.r(V),$.d(V,{Alignment:()=>C,EventType:()=>y,Fit:()=>M,Layout:()=>u,LoopType:()=>A,Rive:()=>O,RiveEventType:()=>de,RuntimeLoader:()=>Y,StateMachineInput:()=>ee,StateMachineInputType:()=>j,Testing:()=>Ee});var I=$(1),E=$(2),w=$(3),Z=function(o,n,a,d){function b(g){return g instanceof a?g:new a(function(T){T(g)})}return new(a||(a=Promise))(function(g,T){function H(fe){try{L(d.next(fe))}catch(Re){T(Re)}}function oe(fe){try{L(d.throw(fe))}catch(Re){T(Re)}}function L(fe){fe.done?g(fe.value):b(fe.value).then(H,oe)}L((d=d.apply(o,n||[])).next())})},S=function(o,n){var a={label:0,sent:function(){if(g[0]&1)throw g[1];return g[1]},trys:[],ops:[]},d,b,g,T;return T={next:H(0),throw:H(1),return:H(2)},typeof Symbol=="function"&&(T[Symbol.iterator]=function(){return this}),T;function H(L){return function(fe){return oe([L,fe])}}function oe(L){if(d)throw new TypeError("Generator is already executing.");for(;T&&(T=0,L[0]&&(a=0)),a;)try{if(d=1,b&&(g=L[0]&2?b.return:L[0]?b.throw||((g=b.return)&&g.call(b),0):b.next)&&!(g=g.call(b,L[1])).done)return g;switch(b=0,g&&(L=[L[0]&2,g.value]),L[0]){case 0:case 1:g=L;break;case 4:return a.label++,{value:L[1],done:!1};case 5:a.label++,b=L[1],L=[0];continue;case 7:L=a.ops.pop(),a.trys.pop();continue;default:if(g=a.trys,!(g=g.length>0&&g[g.length-1])&&(L[0]===6||L[0]===2)){a=0;continue}if(L[0]===3&&(!g||L[1]>g[0]&&L[1]<g[3])){a.label=L[1];break}if(L[0]===6&&a.label<g[1]){a.label=g[1],g=L;break}if(g&&a.label<g[2]){a.label=g[2],a.ops.push(L);break}g[2]&&a.ops.pop(),a.trys.pop();continue}L=n.call(o,a)}catch(fe){L=[6,fe],b=0}finally{d=g=0}if(L[0]&5)throw L[1];return{value:L[0]?L[1]:void 0,done:!0}}},M;(function(o){o.Cover="cover",o.Contain="contain",o.Fill="fill",o.FitWidth="fitWidth",o.FitHeight="fitHeight",o.None="none",o.ScaleDown="scaleDown"})(M||(M={}));var C;(function(o){o.Center="center",o.TopLeft="topLeft",o.TopCenter="topCenter",o.TopRight="topRight",o.CenterLeft="centerLeft",o.CenterRight="centerRight",o.BottomLeft="bottomLeft",o.BottomCenter="bottomCenter",o.BottomRight="bottomRight"})(C||(C={}));var u=function(){function o(n){var a,d,b,g,T,H;this.fit=(a=n==null?void 0:n.fit)!==null&&a!==void 0?a:M.Contain,this.alignment=(d=n==null?void 0:n.alignment)!==null&&d!==void 0?d:C.Center,this.minX=(b=n==null?void 0:n.minX)!==null&&b!==void 0?b:0,this.minY=(g=n==null?void 0:n.minY)!==null&&g!==void 0?g:0,this.maxX=(T=n==null?void 0:n.maxX)!==null&&T!==void 0?T:0,this.maxY=(H=n==null?void 0:n.maxY)!==null&&H!==void 0?H:0}return o.new=function(n){var a=n.fit,d=n.alignment,b=n.minX,g=n.minY,T=n.maxX,H=n.maxY;return console.warn("This function is deprecated: please use `new Layout({})` instead"),new o({fit:a,alignment:d,minX:b,minY:g,maxX:T,maxY:H})},o.prototype.copyWith=function(n){var a=n.fit,d=n.alignment,b=n.minX,g=n.minY,T=n.maxX,H=n.maxY;return new o({fit:a??this.fit,alignment:d??this.alignment,minX:b??this.minX,minY:g??this.minY,maxX:T??this.maxX,maxY:H??this.maxY})},o.prototype.runtimeFit=function(n){if(this.cachedRuntimeFit)return this.cachedRuntimeFit;var a;return this.fit===M.Cover?a=n.Fit.cover:this.fit===M.Contain?a=n.Fit.contain:this.fit===M.Fill?a=n.Fit.fill:this.fit===M.FitWidth?a=n.Fit.fitWidth:this.fit===M.FitHeight?a=n.Fit.fitHeight:this.fit===M.ScaleDown?a=n.Fit.scaleDown:a=n.Fit.none,this.cachedRuntimeFit=a,a},o.prototype.runtimeAlignment=function(n){if(this.cachedRuntimeAlignment)return this.cachedRuntimeAlignment;var a;return this.alignment===C.TopLeft?a=n.Alignment.topLeft:this.alignment===C.TopCenter?a=n.Alignment.topCenter:this.alignment===C.TopRight?a=n.Alignment.topRight:this.alignment===C.CenterLeft?a=n.Alignment.centerLeft:this.alignment===C.CenterRight?a=n.Alignment.centerRight:this.alignment===C.BottomLeft?a=n.Alignment.bottomLeft:this.alignment===C.BottomCenter?a=n.Alignment.bottomCenter:this.alignment===C.BottomRight?a=n.Alignment.bottomRight:a=n.Alignment.center,this.cachedRuntimeAlignment=a,a},o}(),Y=function(){function o(){}return o.loadRuntime=function(){I.default({locateFile:function(){return o.wasmURL}}).then(function(n){var a;for(o.runtime=n;o.callBackQueue.length>0;)(a=o.callBackQueue.shift())===null||a===void 0||a(o.runtime)}).catch(function(){var n="https://cdn.jsdelivr.net/npm/".concat(E.name,"@").concat(E.version,"/rive.wasm");o.wasmURL.toLowerCase()!==n?(console.warn("Failed to load WASM from ".concat(o.wasmURL,", trying jsdelivr as a backup")),o.setWasmUrl(n),o.loadRuntime()):console.error("Could not load Rive WASM file from unpkg or jsdelivr, network connection may be down, or 	        you may need to call set a new WASM source via RuntimeLoader.setWasmUrl() and call 	        RuntimeLoader.loadRuntime() again")})},o.getInstance=function(n){o.isLoading||(o.isLoading=!0,o.loadRuntime()),o.runtime?n(o.runtime):o.callBackQueue.push(n)},o.awaitInstance=function(){return new Promise(function(n){return o.getInstance(function(a){return n(a)})})},o.setWasmUrl=function(n){o.wasmURL=n},o.isLoading=!1,o.callBackQueue=[],o.wasmURL="https://unpkg.com/".concat(E.name,"@").concat(E.version,"/rive.wasm"),o}(),W=function(){function o(n,a,d,b){this.animation=n,this.artboard=a,this.playing=b,this.loopCount=0,this.scrubTo=null,this.instance=new d.LinearAnimationInstance(n,a)}return Object.defineProperty(o.prototype,"name",{get:function(){return this.animation.name},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"time",{get:function(){return this.instance.time},set:function(n){this.instance.time=n},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"loopValue",{get:function(){return this.animation.loopValue},enumerable:!1,configurable:!0}),o.prototype.advance=function(n){this.scrubTo===null?this.instance.advance(n):(this.instance.time=0,this.instance.advance(this.scrubTo),this.scrubTo=null)},o.prototype.apply=function(n){this.instance.apply(n)},Object.defineProperty(o.prototype,"needsScrub",{get:function(){return this.scrubTo!==null},enumerable:!1,configurable:!0}),o.prototype.cleanup=function(){this.instance.delete()},o}(),j;(function(o){o[o.Number=56]="Number",o[o.Trigger=58]="Trigger",o[o.Boolean=59]="Boolean"})(j||(j={}));var ee=function(){function o(n,a){this.type=n,this.runtimeInput=a}return Object.defineProperty(o.prototype,"name",{get:function(){return this.runtimeInput.name},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"value",{get:function(){return this.runtimeInput.value},set:function(n){this.runtimeInput.value=n},enumerable:!1,configurable:!0}),o.prototype.fire=function(){this.type===j.Trigger&&this.runtimeInput.fire()},o}(),de;(function(o){o[o.General=128]="General",o[o.OpenUrl=131]="OpenUrl"})(de||(de={}));var D=function(){function o(n,a,d,b){this.stateMachine=n,this.playing=d,this.artboard=b,this.inputs=[],this.instance=new a.StateMachineInstance(n,b),this.initInputs(a)}return Object.defineProperty(o.prototype,"name",{get:function(){return this.stateMachine.name},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"statesChanged",{get:function(){for(var n=[],a=0;a<this.instance.stateChangedCount();a++)n.push(this.instance.stateChangedNameByIndex(a));return n},enumerable:!1,configurable:!0}),o.prototype.advance=function(n){this.instance.advance(n)},o.prototype.reportedEventCount=function(){return this.instance.reportedEventCount()},o.prototype.reportedEventAt=function(n){return this.instance.reportedEventAt(n)},o.prototype.initInputs=function(n){for(var a=0;a<this.instance.inputCount();a++){var d=this.instance.input(a);this.inputs.push(this.mapRuntimeInput(d,n))}},o.prototype.mapRuntimeInput=function(n,a){if(n.type===a.SMIInput.bool)return new ee(j.Boolean,n.asBool());if(n.type===a.SMIInput.number)return new ee(j.Number,n.asNumber());if(n.type===a.SMIInput.trigger)return new ee(j.Trigger,n.asTrigger())},o.prototype.cleanup=function(){this.instance.delete()},o}(),N=function(){function o(n,a,d,b,g){b===void 0&&(b=[]),g===void 0&&(g=[]),this.runtime=n,this.artboard=a,this.eventManager=d,this.animations=b,this.stateMachines=g}return o.prototype.add=function(n,a,d){if(d===void 0&&(d=!0),n=te(n),n.length===0)this.animations.forEach(function(be){return be.playing=a}),this.stateMachines.forEach(function(be){return be.playing=a});else for(var b=this.animations.map(function(be){return be.name}),g=this.stateMachines.map(function(be){return be.name}),T=0;T<n.length;T++){var H=b.indexOf(n[T]),oe=g.indexOf(n[T]);if(H>=0||oe>=0)H>=0?this.animations[H].playing=a:this.stateMachines[oe].playing=a;else{var L=this.artboard.animationByName(n[T]);if(L){var fe=new W(L,this.artboard,this.runtime,a);fe.advance(0),fe.apply(1),this.animations.push(fe)}else{var Re=this.artboard.stateMachineByName(n[T]);if(Re){var Ae=new D(Re,this.runtime,a,this.artboard);this.stateMachines.push(Ae)}}}}return d&&(a?this.eventManager.fire({type:y.Play,data:this.playing}):this.eventManager.fire({type:y.Pause,data:this.paused})),a?this.playing:this.paused},o.prototype.play=function(n){return this.add(n,!0)},o.prototype.pause=function(n){return this.add(n,!1)},o.prototype.scrub=function(n,a){var d=this.animations.filter(function(b){return n.includes(b.name)});return d.forEach(function(b){return b.scrubTo=a}),d.map(function(b){return b.name})},Object.defineProperty(o.prototype,"playing",{get:function(){return this.animations.filter(function(n){return n.playing}).map(function(n){return n.name}).concat(this.stateMachines.filter(function(n){return n.playing}).map(function(n){return n.name}))},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"paused",{get:function(){return this.animations.filter(function(n){return!n.playing}).map(function(n){return n.name}).concat(this.stateMachines.filter(function(n){return!n.playing}).map(function(n){return n.name}))},enumerable:!1,configurable:!0}),o.prototype.stop=function(n){var a=this;n=te(n);var d=[];if(n.length===0)d=this.animations.map(function(T){return T.name}).concat(this.stateMachines.map(function(T){return T.name})),this.animations.forEach(function(T){return T.cleanup()}),this.stateMachines.forEach(function(T){return T.cleanup()}),this.animations.splice(0,this.animations.length),this.stateMachines.splice(0,this.stateMachines.length);else{var b=this.animations.filter(function(T){return n.includes(T.name)});b.forEach(function(T){T.cleanup(),a.animations.splice(a.animations.indexOf(T),1)});var g=this.stateMachines.filter(function(T){return n.includes(T.name)});g.forEach(function(T){T.cleanup(),a.stateMachines.splice(a.stateMachines.indexOf(T),1)}),d=b.map(function(T){return T.name}).concat(g.map(function(T){return T.name}))}return this.eventManager.fire({type:y.Stop,data:d}),d},Object.defineProperty(o.prototype,"isPlaying",{get:function(){return this.animations.reduce(function(n,a){return n||a.playing},!1)||this.stateMachines.reduce(function(n,a){return n||a.playing},!1)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"isPaused",{get:function(){return!this.isPlaying&&(this.animations.length>0||this.stateMachines.length>0)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"isStopped",{get:function(){return this.animations.length===0&&this.stateMachines.length===0},enumerable:!1,configurable:!0}),o.prototype.atLeastOne=function(n,a){a===void 0&&(a=!0);var d;return this.animations.length===0&&this.stateMachines.length===0&&(this.artboard.animationCount()>0?this.add([d=this.artboard.animationByIndex(0).name],n,a):this.artboard.stateMachineCount()>0&&this.add([d=this.artboard.stateMachineByIndex(0).name],n,a)),d},o.prototype.handleLooping=function(){for(var n=0,a=this.animations.filter(function(b){return b.playing});n<a.length;n++){var d=a[n];d.loopValue===0&&d.loopCount?(d.loopCount=0,this.stop(d.name)):d.loopValue===1&&d.loopCount?(this.eventManager.fire({type:y.Loop,data:{animation:d.name,type:A.Loop}}),d.loopCount=0):d.loopValue===2&&d.loopCount>1&&(this.eventManager.fire({type:y.Loop,data:{animation:d.name,type:A.PingPong}}),d.loopCount=0)}},o.prototype.handleStateChanges=function(){for(var n=[],a=0,d=this.stateMachines.filter(function(g){return g.playing});a<d.length;a++){var b=d[a];n.push.apply(n,b.statesChanged)}n.length>0&&this.eventManager.fire({type:y.StateChange,data:n})},o.prototype.handleAdvancing=function(n){this.eventManager.fire({type:y.Advance,data:n})},o}(),y;(function(o){o.Load="load",o.LoadError="loaderror",o.Play="play",o.Pause="pause",o.Stop="stop",o.Loop="loop",o.Draw="draw",o.Advance="advance",o.StateChange="statechange",o.RiveEvent="riveevent"})(y||(y={}));var A;(function(o){o.OneShot="oneshot",o.Loop="loop",o.PingPong="pingpong"})(A||(A={}));var ae=function(){function o(n){n===void 0&&(n=[]),this.listeners=n}return o.prototype.getListeners=function(n){return this.listeners.filter(function(a){return a.type===n})},o.prototype.add=function(n){this.listeners.includes(n)||this.listeners.push(n)},o.prototype.remove=function(n){for(var a=0;a<this.listeners.length;a++){var d=this.listeners[a];if(d.type===n.type&&d.callback===n.callback){this.listeners.splice(a,1);break}}},o.prototype.removeAll=function(n){var a=this;n?this.listeners.filter(function(d){return d.type===n}).forEach(function(d){return a.remove(d)}):this.listeners.splice(0,this.listeners.length)},o.prototype.fire=function(n){var a=this.getListeners(n.type);a.forEach(function(d){return d.callback(n)})},o}(),B=function(){function o(n){this.eventManager=n,this.queue=[]}return o.prototype.add=function(n){this.queue.push(n)},o.prototype.process=function(){for(;this.queue.length>0;){var n=this.queue.shift();n!=null&&n.action&&n.action(),n!=null&&n.event&&this.eventManager.fire(n.event)}},o}(),O=function(){function o(n){var a;this.loaded=!1,this.readyForPlaying=!1,this.artboard=null,this.eventCleanup=null,this.shouldDisableRiveListeners=!1,this.automaticallyHandleEvents=!1,this.durations=[],this.frameTimes=[],this.frameCount=0,this.renderSecondTimer=0,this.canvas=n.canvas,this.src=n.src,this.buffer=n.buffer,this.layout=(a=n.layout)!==null&&a!==void 0?a:new u,this.shouldDisableRiveListeners=!!n.shouldDisableRiveListeners,this.automaticallyHandleEvents=!!n.automaticallyHandleEvents,this.eventManager=new ae,n.onLoad&&this.on(y.Load,n.onLoad),n.onLoadError&&this.on(y.LoadError,n.onLoadError),n.onPlay&&this.on(y.Play,n.onPlay),n.onPause&&this.on(y.Pause,n.onPause),n.onStop&&this.on(y.Stop,n.onStop),n.onLoop&&this.on(y.Loop,n.onLoop),n.onStateChange&&this.on(y.StateChange,n.onStateChange),n.onAdvance&&this.on(y.Advance,n.onAdvance),n.onload&&!n.onLoad&&this.on(y.Load,n.onload),n.onloaderror&&!n.onLoadError&&this.on(y.LoadError,n.onloaderror),n.onplay&&!n.onPlay&&this.on(y.Play,n.onplay),n.onpause&&!n.onPause&&this.on(y.Pause,n.onpause),n.onstop&&!n.onStop&&this.on(y.Stop,n.onstop),n.onloop&&!n.onLoop&&this.on(y.Loop,n.onloop),n.onstatechange&&!n.onStateChange&&this.on(y.StateChange,n.onstatechange),this.taskQueue=new B(this.eventManager),this.init({src:this.src,buffer:this.buffer,autoplay:n.autoplay,animations:n.animations,stateMachines:n.stateMachines,artboard:n.artboard,useOffscreenRenderer:n.useOffscreenRenderer})}return o.new=function(n){return console.warn("This function is deprecated: please use `new Rive({})` instead"),new o(n)},o.prototype.init=function(n){var a=this,d=n.src,b=n.buffer,g=n.animations,T=n.stateMachines,H=n.artboard,oe=n.autoplay,L=oe===void 0?!1:oe,fe=n.useOffscreenRenderer,Re=fe===void 0?!1:fe;if(this.src=d,this.buffer=b,!this.src&&!this.buffer)throw new Error(o.missingErrorMessage);var Ae=te(g),be=te(T);this.loaded=!1,this.readyForPlaying=!1,Y.awaitInstance().then(function(je){a.runtime=je,a.renderer=a.runtime.makeRenderer(a.canvas,Re),a.canvas.width||a.canvas.height||a.resizeDrawingSurfaceToCanvas(),a.initData(H,Ae,be,L).then(function(){return a.setupRiveListeners()}).catch(function(We){console.error(We)})}).catch(function(je){console.error(je)})},o.prototype.setupRiveListeners=function(){var n=this;if(!this.shouldDisableRiveListeners){var a=(this.animator.stateMachines||[]).filter(function(d){return d.playing&&n.runtime.hasListeners(d.instance)}).map(function(d){return d.instance});this.eventCleanup=(0,w.registerTouchInteractions)({canvas:this.canvas,artboard:this.artboard,stateMachines:a,renderer:this.renderer,rive:this.runtime,fit:this._layout.runtimeFit(this.runtime),alignment:this._layout.runtimeAlignment(this.runtime)})}},o.prototype.initData=function(n,a,d,b){var g;return Z(this,void 0,void 0,function(){var T,H,oe;return S(this,function(L){switch(L.label){case 0:return this.src?(T=this,[4,ie(this.src)]):[3,2];case 1:T.buffer=L.sent(),L.label=2;case 2:return H=this,[4,this.runtime.load(new Uint8Array(this.buffer))];case 3:return H.file=L.sent(),this.file?(this.initArtboard(n,a,d,b),this.loaded=!0,this.eventManager.fire({type:y.Load,data:(g=this.src)!==null&&g!==void 0?g:"buffer"}),this.readyForPlaying=!0,this.taskQueue.process(),this.drawFrame(),[2,Promise.resolve()]):(oe="Problem loading file; may be corrupt!",console.warn(oe),this.eventManager.fire({type:y.LoadError,data:oe}),[2,Promise.reject(oe)])}})})},o.prototype.initArtboard=function(n,a,d,b){var g=n?this.file.artboardByName(n):this.file.defaultArtboard();if(!g){var T="Invalid artboard name or no default artboard";console.warn(T),this.eventManager.fire({type:y.LoadError,data:T});return}if(this.artboard=g,this.artboard.animationCount()<1){var T="Artboard has no animations";throw this.eventManager.fire({type:y.LoadError,data:T}),T}this.animator=new N(this.runtime,this.artboard,this.eventManager);var H;a.length>0||d.length>0?(H=a.concat(d),this.animator.add(H,b,!1)):H=[this.animator.atLeastOne(b,!1)],this.taskQueue.add({event:{type:b?y.Play:y.Pause,data:H}})},o.prototype.drawFrame=function(){this.startRendering()},o.prototype.draw=function(n,a){var d=performance.now();this.frameRequestId=null,this.lastRenderTime||(this.lastRenderTime=n),this.renderSecondTimer+=n-this.lastRenderTime,this.renderSecondTimer>5e3&&(this.renderSecondTimer=0,a==null||a());var b=(n-this.lastRenderTime)/1e3;this.lastRenderTime=n;for(var g=this.animator.animations.filter(function(Ge){return Ge.playing||Ge.needsScrub}).sort(function(Ge){return Ge.needsScrub?-1:1}),T=0,H=g;T<H.length;T++){var oe=H[T];oe.advance(b),oe.instance.didLoop&&(oe.loopCount+=1),oe.apply(1)}for(var L=this.animator.stateMachines.filter(function(Ge){return Ge.playing}),fe=0,Re=L;fe<Re.length;fe++){var Ae=Re[fe],be=Ae.reportedEventCount();if(be)for(var je=0;je<be;je++){var We=Ae.reportedEventAt(je);if(We)if(We.type===de.OpenUrl){if(this.eventManager.fire({type:y.RiveEvent,data:We}),this.automaticallyHandleEvents){var ct=document.createElement("a"),Et=We,De=Et.url,et=Et.target,at=(0,w.sanitizeUrl)(De);De&&ct.setAttribute("href",at),et&&ct.setAttribute("target",et),at&&at!==w.BLANK_URL&&ct.click()}}else this.eventManager.fire({type:y.RiveEvent,data:We})}Ae.advance(b)}this.artboard.advance(b);var tt=this.renderer;tt.clear(),tt.save(),this.alignRenderer(),this.artboard.draw(tt),tt.restore(),tt.flush(),this.animator.handleLooping(),this.animator.handleStateChanges(),this.animator.handleAdvancing(b),this.frameCount++;var Be=performance.now();for(this.frameTimes.push(Be),this.durations.push(Be-d);this.frameTimes[0]<=Be-1e3;)this.frameTimes.shift(),this.durations.shift();this.animator.isPlaying?this.startRendering():this.animator.isPaused?this.lastRenderTime=0:this.animator.isStopped&&(this.lastRenderTime=0)},o.prototype.alignRenderer=function(){var n=this,a=n.renderer,d=n.runtime,b=n._layout,g=n.artboard;a.align(b.runtimeFit(d),b.runtimeAlignment(d),{minX:b.minX,minY:b.minY,maxX:b.maxX,maxY:b.maxY},g.bounds)},Object.defineProperty(o.prototype,"fps",{get:function(){return this.durations.length},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"frameTime",{get:function(){return this.durations.length===0?0:(this.durations.reduce(function(n,a){return n+a},0)/this.durations.length).toFixed(4)},enumerable:!1,configurable:!0}),o.prototype.cleanup=function(){var n,a;this.stopRendering(),this.cleanupInstances(),(n=this.renderer)===null||n===void 0||n.delete(),this.renderer=null,(a=this.file)===null||a===void 0||a.delete(),this.file=null},o.prototype.cleanupInstances=function(){this.eventCleanup!==null&&this.eventCleanup(),this.stop(),this.artboard&&(this.artboard.delete(),this.artboard=null)},o.prototype.retrieveTextRun=function(n){var a;if(!n){console.warn("No text run name provided");return}if(!this.artboard){console.warn("Tried to access text run, but the Artboard is null");return}var d=this.artboard.textRun(n);if(!d){console.warn("Could not access a text run with name '".concat(n,"' in the '").concat((a=this.artboard)===null||a===void 0?void 0:a.name,"' Artboard. Note that you must rename a text run node in the Rive editor to make it queryable at runtime."));return}return d},o.prototype.getTextRunValue=function(n){var a=this.retrieveTextRun(n);return a?a.text:void 0},o.prototype.setTextRunValue=function(n,a){var d=this.retrieveTextRun(n);d&&(d.text=a)},o.prototype.play=function(n,a){var d=this;if(n=te(n),!this.readyForPlaying){this.taskQueue.add({action:function(){return d.play(n,a)}});return}this.animator.play(n),this.eventCleanup&&this.eventCleanup(),this.setupRiveListeners(),this.startRendering()},o.prototype.pause=function(n){var a=this;if(n=te(n),!this.readyForPlaying){this.taskQueue.add({action:function(){return a.pause(n)}});return}this.eventCleanup&&this.eventCleanup(),this.animator.pause(n)},o.prototype.scrub=function(n,a){var d=this;if(n=te(n),!this.readyForPlaying){this.taskQueue.add({action:function(){return d.scrub(n,a)}});return}this.animator.scrub(n,a||0),this.drawFrame()},o.prototype.stop=function(n){var a=this;if(n=te(n),!this.readyForPlaying){this.taskQueue.add({action:function(){return a.stop(n)}});return}this.animator.stop(n),this.eventCleanup&&this.eventCleanup()},o.prototype.reset=function(n){var a,d=n==null?void 0:n.artboard,b=te(n==null?void 0:n.animations),g=te(n==null?void 0:n.stateMachines),T=(a=n==null?void 0:n.autoplay)!==null&&a!==void 0?a:!1;this.cleanupInstances(),this.initArtboard(d,b,g,T),this.taskQueue.process()},o.prototype.load=function(n){this.stop(),this.init(n)},Object.defineProperty(o.prototype,"layout",{get:function(){return this._layout},set:function(n){this._layout=n,(!n.maxX||!n.maxY)&&this.resizeToCanvas(),this.loaded&&!this.animator.isPlaying&&this.drawFrame()},enumerable:!1,configurable:!0}),o.prototype.resizeToCanvas=function(){this._layout=this.layout.copyWith({minX:0,minY:0,maxX:this.canvas.width,maxY:this.canvas.height})},o.prototype.resizeDrawingSurfaceToCanvas=function(){if(this.canvas instanceof HTMLCanvasElement&&window){var n=this.canvas.getBoundingClientRect(),a=n.width,d=n.height,b=window.devicePixelRatio||1;this.canvas.width=b*a,this.canvas.height=b*d,this.startRendering(),this.resizeToCanvas()}},Object.defineProperty(o.prototype,"source",{get:function(){return this.src},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"activeArtboard",{get:function(){return this.artboard?this.artboard.name:""},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"animationNames",{get:function(){if(!this.loaded)return[];for(var n=[],a=0;a<this.artboard.animationCount();a++)n.push(this.artboard.animationByIndex(a).name);return n},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"stateMachineNames",{get:function(){if(!this.loaded)return[];for(var n=[],a=0;a<this.artboard.stateMachineCount();a++)n.push(this.artboard.stateMachineByIndex(a).name);return n},enumerable:!1,configurable:!0}),o.prototype.stateMachineInputs=function(n){if(this.loaded){var a=this.animator.stateMachines.find(function(d){return d.name===n});return a==null?void 0:a.inputs}},Object.defineProperty(o.prototype,"playingStateMachineNames",{get:function(){return this.loaded?this.animator.stateMachines.filter(function(n){return n.playing}).map(function(n){return n.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"playingAnimationNames",{get:function(){return this.loaded?this.animator.animations.filter(function(n){return n.playing}).map(function(n){return n.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"pausedAnimationNames",{get:function(){return this.loaded?this.animator.animations.filter(function(n){return!n.playing}).map(function(n){return n.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"pausedStateMachineNames",{get:function(){return this.loaded?this.animator.stateMachines.filter(function(n){return!n.playing}).map(function(n){return n.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"isPlaying",{get:function(){return this.animator.isPlaying},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"isPaused",{get:function(){return this.animator.isPaused},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"isStopped",{get:function(){return this.animator.isStopped},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"bounds",{get:function(){return this.artboard?this.artboard.bounds:void 0},enumerable:!1,configurable:!0}),o.prototype.on=function(n,a){this.eventManager.add({type:n,callback:a})},o.prototype.off=function(n,a){this.eventManager.remove({type:n,callback:a})},o.prototype.unsubscribe=function(n,a){console.warn("This function is deprecated: please use `off()` instead."),this.off(n,a)},o.prototype.removeAllRiveEventListeners=function(n){this.eventManager.removeAll(n)},o.prototype.unsubscribeAll=function(n){console.warn("This function is deprecated: please use `removeAllRiveEventListeners()` instead."),this.removeAllRiveEventListeners(n)},o.prototype.stopRendering=function(){this.loaded&&this.frameRequestId&&(this.runtime.cancelAnimationFrame?this.runtime.cancelAnimationFrame(this.frameRequestId):cancelAnimationFrame(this.frameRequestId),this.frameRequestId=null)},o.prototype.startRendering=function(){this.loaded&&this.artboard&&!this.frameRequestId&&(this.runtime.requestAnimationFrame?this.frameRequestId=this.runtime.requestAnimationFrame(this.draw.bind(this)):this.frameRequestId=requestAnimationFrame(this.draw.bind(this)))},o.prototype.enableFPSCounter=function(n){this.runtime.enableFPSCounter(n)},o.prototype.disableFPSCounter=function(){this.runtime.disableFPSCounter()},Object.defineProperty(o.prototype,"contents",{get:function(){if(this.loaded){for(var n={artboards:[]},a=0;a<this.file.artboardCount();a++){for(var d=this.file.artboardByIndex(a),b={name:d.name,animations:[],stateMachines:[]},g=0;g<d.animationCount();g++){var T=d.animationByIndex(g);b.animations.push(T.name)}for(var H=0;H<d.stateMachineCount();H++){for(var oe=d.stateMachineByIndex(H),L=oe.name,fe=new this.runtime.StateMachineInstance(oe,d),Re=[],Ae=0;Ae<fe.inputCount();Ae++){var be=fe.input(Ae);Re.push({name:be.name,type:be.type})}b.stateMachines.push({name:L,inputs:Re})}n.artboards.push(b)}return n}},enumerable:!1,configurable:!0}),o.missingErrorMessage="Rive source file or data buffer required",o}(),ie=function(o){return Z(void 0,void 0,void 0,function(){var n,a,d;return S(this,function(b){switch(b.label){case 0:return n=new Request(o),[4,fetch(n)];case 1:return a=b.sent(),[4,a.arrayBuffer()];case 2:return d=b.sent(),[2,d]}})})},te=function(o){return typeof o=="string"?[o]:o instanceof Array?o:[]},Ee={EventManager:ae,TaskQueueManager:B}})(),V})())})(qn);var si=qn.exports;function Yn(p,v,x){const k=p.slice();return k[18]=v[x],k[20]=x,k}function $n(p,v,x){const k=p.slice();return k[21]=v[x],k[20]=x,k}function jn(p){let v,x,k=p[3].title+"",$,V,I=Nt(p[3].values),E=[];for(let w=0;w<I.length;w+=1)E[w]=Wn($n(p,I,w));return{c(){v=ge("div"),x=ge("h1"),$=Ke(k),V=Se();for(let w=0;w<E.length;w+=1)E[w].c();this.h()},l(w){v=ye(w,"DIV",{style:!0});var Z=Me(v);x=ye(Z,"H1",{class:!0});var S=Me(x);$=Je(S,k),S.forEach(ue),V=Le(Z);for(let M=0;M<E.length;M+=1)E[M].l(Z);Z.forEach(ue),this.h()},h(){K(x,"class","text-lg font-semibold text-center py-3 text-white"),K(v,"style","position: absolute; width: 50%; padding: 20px; top : 270px;")},m(w,Z){ke(w,v,Z),he(v,x),he(x,$),he(v,V);for(let S=0;S<E.length;S+=1)E[S]&&E[S].m(v,null)},p(w,Z){if(Z&8&&k!==(k=w[3].title+"")&&it($,k),Z&8){I=Nt(w[3].values);let S;for(S=0;S<I.length;S+=1){const M=$n(w,I,S);E[S]?E[S].p(M,Z):(E[S]=Wn(M),E[S].c(),E[S].m(v,null))}for(;S<E.length;S+=1)E[S].d(1);E.length=I.length}},d(w){w&&ue(v),Qn(E,w)}}}function Wn(p){let v,x,k,$=p[21].name+"",V,I,E,w,Z,S;return{c(){v=ge("div"),x=ge("div"),k=ge("p"),V=Ke($),I=Se(),E=ge("img"),S=Se(),this.h()},l(M){v=ye(M,"DIV",{class:!0});var C=Me(v);x=ye(C,"DIV",{class:!0});var u=Me(x);k=ye(u,"P",{class:!0,style:!0});var Y=Me(k);V=Je(Y,$),I=Le(Y),E=ye(Y,"IMG",{alt:!0,src:!0,class:!0}),Y.forEach(ue),u.forEach(ue),S=Le(C),C.forEach(ue),this.h()},h(){K(E,"alt",w=p[21].name),vt(E.src,Z=p[21].img)||K(E,"src",Z),K(E,"class","w-8 h-8"),K(k,"class","text-black flex items-center"),J(k,"font-size","12px"),J(k,"position","absolute"),J(k,"z-index","999"),K(x,"class","relative h-6 flex items-center justify-center"),K(v,"class","bg-white rounded-xl shadow-sm overflow-hidden p-1 m-3")},m(M,C){ke(M,v,C),he(v,x),he(x,k),he(k,V),he(k,I),he(k,E),he(v,S)},p(M,C){C&8&&$!==($=M[21].name+"")&&it(V,$),C&8&&w!==(w=M[21].name)&&K(E,"alt",w),C&8&&!vt(E.src,Z=M[21].img)&&K(E,"src",Z)},d(M){M&&ue(v)}}}function Dn(p){let v,x,k,$,V,I,E=p[0].nickname+"",w,Z,S,M=p[0].message+"",C,u,Y,W;return{c(){v=ge("div"),x=ge("img"),$=Se(),V=ge("div"),I=ge("strong"),w=Ke(E),Z=Se(),S=ge("p"),C=Ke(M),this.h()},l(j){v=ye(j,"DIV",{style:!0,class:!0,role:!0});var ee=Me(v);x=ye(ee,"IMG",{class:!0,alt:!0,src:!0}),$=Le(ee),V=ye(ee,"DIV",{});var de=Me(V);I=ye(de,"STRONG",{class:!0,style:!0});var D=Me(I);w=Je(D,E),D.forEach(ue),Z=Le(de),S=ye(de,"P",{style:!0,class:!0});var N=Me(S);C=Je(N,M),N.forEach(ue),de.forEach(ue),ee.forEach(ue),this.h()},h(){K(x,"class","w-16 h-16"),K(x,"alt","user"),vt(x.src,k=p[0].profilePictureUrl)||K(x,"src",k),K(I,"class","text-bold text-xs"),J(I,"color",p[0].textColor),J(S,"color",p[0].textColor),J(S,"font-size","10px"),K(S,"class","p-2 text-xs"),J(v,"bottom","227px"),J(v,"position","absolute"),J(v,"background-color",p[0].color),J(v,"padding","13px"),J(v,"z-index","999"),J(v,"right","0"),J(v,"width","98%"),K(v,"class","inline-flex w-full items-center rounded-lg px-6 py-5 text-base"),K(v,"role","alert")},m(j,ee){ke(j,v,ee),he(v,x),he(v,$),he(v,V),he(V,I),he(I,w),he(V,Z),he(V,S),he(S,C),W=!0},p(j,ee){(!W||ee&1&&!vt(x.src,k=j[0].profilePictureUrl))&&K(x,"src",k),(!W||ee&1)&&E!==(E=j[0].nickname+"")&&it(w,E),(!W||ee&1)&&J(I,"color",j[0].textColor),(!W||ee&1)&&M!==(M=j[0].message+"")&&it(C,M),(!W||ee&1)&&J(S,"color",j[0].textColor),(!W||ee&1)&&J(v,"background-color",j[0].color)},i(j){W||(j&&Pr(()=>{W&&(Y&&Y.end(1),u=Mr(v,Yr,{y:200,duration:500}),u.start())}),W=!0)},o(j){u&&u.invalidate(),j&&(Y=xr(v,Fr,{})),W=!1},d(j){j&&ue(v),j&&Y&&Y.end()}}}function Bn(p){let v,x,k,$,V,I,E=p[18].nickname+"",w,Z,S,M=p[18].message+"",C,u;return{c(){v=ge("div"),x=ge("img"),$=Se(),V=ge("div"),I=ge("strong"),w=Ke(E),Z=Se(),S=ge("p"),C=Ke(M),u=Se(),this.h()},l(Y){v=ye(Y,"DIV",{id:!0,style:!0,class:!0,role:!0});var W=Me(v);x=ye(W,"IMG",{class:!0,alt:!0,src:!0}),$=Le(W),V=ye(W,"DIV",{});var j=Me(V);I=ye(j,"STRONG",{class:!0,style:!0});var ee=Me(I);w=Je(ee,E),ee.forEach(ue),Z=Le(j),S=ye(j,"P",{style:!0,class:!0});var de=Me(S);C=Je(de,M),de.forEach(ue),j.forEach(ue),u=Le(W),W.forEach(ue),this.h()},h(){K(x,"class","w-10 h-10 mr-3"),K(x,"alt","user"),vt(x.src,k=p[18].profilePictureUrl)||K(x,"src",k),K(I,"class","text-bold text-xs"),J(I,"color",p[18].textColor),J(S,"color",p[18].textColor),J(S,"font-size","10px"),K(S,"class","p-2 text-xs"),K(v,"id","message"+p[20]),J(v,"background-color",p[18].color),J(v,"z-index","998"),J(v,"right","0"),J(v,"width","100%"),K(v,"class","inline-flex w-full items-center rounded-lg p-2 text-base mb-1"),K(v,"role","alert")},m(Y,W){ke(Y,v,W),he(v,x),he(v,$),he(v,V),he(V,I),he(I,w),he(V,Z),he(V,S),he(S,C),he(v,u)},p(Y,W){W&16&&!vt(x.src,k=Y[18].profilePictureUrl)&&K(x,"src",k),W&16&&E!==(E=Y[18].nickname+"")&&it(w,E),W&16&&J(I,"color",Y[18].textColor),W&16&&M!==(M=Y[18].message+"")&&it(C,M),W&16&&J(S,"color",Y[18].textColor),W&16&&J(v,"background-color",Y[18].color)},d(Y){Y&&ue(v)}}}function ui(p){let v,x,k,$,V,I,E,w,Z,S,M,C="Meta:",u,Y,W,j,ee,de,D,N='<canvas id="canvas" width="800" height="350"></canvas>',y=p[3].type==="progress"&&jn(p),A=p[0].nickname&&Dn(p),ae=Nt(p[4]),B=[];for(let O=0;O<ae.length;O+=1)B[O]=Bn(Yn(p,ae,O));return{c(){y&&y.c(),v=Se(),x=Se(),k=ge("div"),$=Se(),A&&A.c(),V=Se(),I=ge("div");for(let O=0;O<B.length;O+=1)B[O].c();E=Se(),w=ge("iframe"),Z=Se(),S=ge("div"),M=ge("p"),M.textContent=C,u=Se(),Y=ge("p"),W=Ke(p[2]),j=Ke(" / "),ee=Ke(p[1]),de=Se(),D=ge("div"),D.innerHTML=N,this.h()},l(O){y&&y.l(O),v=Le(O),x=Le(O),k=ye(O,"DIV",{style:!0}),Me(k).forEach(ue),$=Le(O),A&&A.l(O),V=Le(O),I=ye(O,"DIV",{style:!0,class:!0});var ie=Me(I);for(let o=0;o<B.length;o+=1)B[o].l(ie);ie.forEach(ue),E=Le(O),w=ye(O,"IFRAME",{id:!0,width:!0,height:!0,frameborder:!0,scrolling:!0,allow:!0,title:!0}),Me(w).forEach(ue),Z=Le(O),S=ye(O,"DIV",{class:!0,style:!0});var te=Me(S);M=ye(te,"P",{class:!0,"data-svelte-h":!0}),On(M)!=="svelte-18ynqab"&&(M.textContent=C),u=Le(te),Y=ye(te,"P",{class:!0});var Ee=Me(Y);W=Je(Ee,p[2]),j=Je(Ee," / "),ee=Je(Ee,p[1]),Ee.forEach(ue),te.forEach(ue),de=Le(O),D=ye(O,"DIV",{class:!0,"data-svelte-h":!0}),On(D)!=="svelte-8entf6"&&(D.innerHTML=N),this.h()},h(){J(k,"position","absolute"),J(k,"width","194px"),J(k,"height","100px"),J(k,"z-index","99"),J(k,"background-color","#16171b"),J(k,"bottom","0px"),J(k,"right","0"),J(I,"opacity","50%"),J(I,"bottom","1%"),J(I,"position","absolute"),J(I,"z-index","998"),J(I,"right","0"),J(I,"width","60%"),K(I,"class","w-full items-center"),K(w,"id","live_stream"),K(w,"width","100%"),K(w,"height","400"),K(w,"frameborder","no"),K(w,"scrolling","no"),K(w,"allow","fullscreen"),K(w,"title","Live feed"),K(M,"class","text-white text-center text-bold"),K(Y,"class","text-white text-center text-bold text-xl mt-4"),K(S,"class","bg-purple rounded-xl shadow-sm overflow-hidden p-1"),K(S,"style","height: 80px;left: 0%; width: 100%; position:absolute; top : 0px; z-index: 99"),K(D,"class","container wrapper")},m(O,ie){y&&y.m(O,ie),ke(O,v,ie),ke(O,x,ie),ke(O,k,ie),ke(O,$,ie),A&&A.m(O,ie),ke(O,V,ie),ke(O,I,ie);for(let te=0;te<B.length;te+=1)B[te]&&B[te].m(I,null);ke(O,E,ie),ke(O,w,ie),ke(O,Z,ie),ke(O,S,ie),he(S,M),he(S,u),he(S,Y),he(Y,W),he(Y,j),he(Y,ee),ke(O,de,ie),ke(O,D,ie)},p(O,[ie]){if(O[3].type==="progress"?y?y.p(O,ie):(y=jn(O),y.c(),y.m(v.parentNode,v)):y&&(y.d(1),y=null),O[0].nickname?A?(A.p(O,ie),ie&1&&Bt(A,1)):(A=Dn(O),A.c(),Bt(A,1),A.m(V.parentNode,V)):A&&(Ar(),an(A,1,1,()=>{A=null}),Tr()),ie&16){ae=Nt(O[4]);let te;for(te=0;te<ae.length;te+=1){const Ee=Yn(O,ae,te);B[te]?B[te].p(Ee,ie):(B[te]=Bn(Ee),B[te].c(),B[te].m(I,null))}for(;te<B.length;te+=1)B[te].d(1);B.length=ae.length}ie&4&&it(W,O[2]),ie&2&&it(ee,O[1])},i(O){Bt(A)},o(O){an(A)},d(O){O&&(ue(v),ue(x),ue(k),ue($),ue(V),ue(I),ue(E),ue(w),ue(Z),ue(S),ue(de),ue(D)),y&&y.d(O),A&&A.d(O),Qn(B,O)}}}const li="./models/default.riv",Nn=100,rn=90,lt=80,Xn=70,Vn=60;function ci(p,v,x){let{file:k=li}=v;const $=Fn();let V=null,I={nickname:"",message:"",profilePictureUrl:"",message:"",color:""},E={audio:"",nickname:"",giftPictureUrl:"",profilePictureUrl:""};const w=Fn();let Z=null,S=null;const M={NewGift:j=>{j.value=1,setTimeout(()=>{j.value=0},6e3)},StopGift:j=>{j.value=0}};Rr(()=>{clearInterval(Z),clearInterval(S)});let C=100,u=0,Y={type:"",values:[]},W=[];return Hn(()=>{x(1,C=parseInt(localStorage.getItem("wakeUpSoundCoinGoal")||"100")||0),x(2,u=parseInt(localStorage.getItem("wakeUpSoundCoin")||"0")||0),socket.on("NewAudio",j=>{console.log(j),$.push({audio:j,nickname:"Sistema",profilePictureUrl:"",priority:lt})}),document.body.onclick=()=>{window.live_stream.src="https://player.kick.com/leaogameplay?autoplay=true",localStorage.getItem("lastAudioTime"),document.body.onclick=()=>{$.push({audio:"ad",nickname:"Sistema",profilePictureUrl:""})};let j=new si.Rive({src:k,canvas:document.getElementById("canvas"),stateMachines:"GirlState",autoplay:!0});Z=setInterval(()=>{if($.length()>0&&(!V||V.ended)){const D=$.pop();let N=D.audio;ee("NewGift"),N.endsWith(".mp3")||(N=ai(N)({giftId:N})),V=new Audio(N),D.giftPictureUrl&&(E=D,E.lastAudio=N),V.onloadedmetadata=()=>{setTimeout(()=>{ee("StopGift")},V.duration*1e3)},V.volume=.7,V.play()}},1e3);const ee=D=>{const y=j.stateMachineInputs("GirlState").find(A=>A.name==="New Gift");y&&M[D](y)};socket.on("NewGift",({giftPictureUrl:D,audio:N,nickname:y,profilePictureUrl:A,coins:ae,count:B})=>{x(2,u+=ae),u>=C&&($.push({audio:"wakeUp",nickname:"Sistema",profilePictureUrl:"",priority:Nn}),x(2,u=0),x(1,C=C/2),C<30&&x(1,C=30),localStorage.setItem("wakeUpSoundCoinGoal",C)),localStorage.setItem("wakeUpSoundCoin",u);for(let O=0;O<B;O++)$.push({giftPictureUrl:D,nickname:y,profilePictureUrl:A,audio:N,priority:rn})}),socket.on("NewMessage",D=>{const{profilePictureUrl:N,message:y,nickname:A,color:ae,textColor:B}=D;console.log(D),w.push({profilePictureUrl:N,nickname:A,message:y,color:ae,textColor:B,priority:rn}),y.startsWith("Agora Jogando")||x(4,W=[...W,{profilePictureUrl:N,nickname:A,message:y,color:ae,textColor:B,priority:rn}]),W.length>4&&x(4,W=W.slice(1))});const de={};socket.on("NewJoin",D=>{const{audio:N,profilePictureUrl:y,nickname:A,color:ae,textColor:B}=D;w.push({profilePictureUrl:y,nickname:A,message:"entrou na live!",color:ae,textColor:B,priority:Xn}),!de[A]&&(de[A]=!0,$.push({audio:N||"join",nickname:A,profilePictureUrl:y,priority:Xn}))}),socket.on("NewLike",D=>{const{audio:N,profilePictureUrl:y,nickname:A,totalLikeCount:ae,likeCount:B,color:O,textColor:ie}=D;w.push({profilePictureUrl:y,nickname:A,message:`deu ${B} likes! Total: ${ae}`,color:O,textColor:ie,priority:Vn}),$.push({audio:N||"like",nickname:A,profilePictureUrl:y,priority:Vn})}),socket.on("NewFollower",D=>{const{audio:N,profilePictureUrl:y,nickname:A,color:ae,textColor:B}=D;w.push({profilePictureUrl:y,nickname:A,message:"começou a seguir!",color:ae,textColor:B,priority:lt}),$.push({audio:N||"follow",nickname:A,profilePictureUrl:y,priority:lt})}),socket.on("NewSubscriber",D=>{const{audio:N,profilePictureUrl:y,nickname:A,color:ae,textColor:B}=D;w.push({profilePictureUrl:y,nickname:A,message:"se juntou ao bando!",color:ae,textColor:B,priority:lt}),$.push({audio:N||"subscribe",nickname:A,profilePictureUrl:y,priority:lt})}),socket.on("NewShare",D=>{const{audio:N,profilePictureUrl:y,nickname:A,color:ae,textColor:B}=D;w.push({profilePictureUrl:y,nickname:A,message:"compartilhou a live!",color:ae,textColor:B,priority:lt}),$.push({audio:N||"share",nickname:A,profilePictureUrl:y,priority:lt})}),socket.on("ViewerCount",D=>{const{viewerCount:N}=D;w.push({profilePictureUrl:"",nickname:"",message:`Total de espectadores: ${N}`,color:"black",textColor:"white"})}),socket.on("RemoveHtmlElement",D=>{const{id:N}=D,y=document.getElementById(N);y&&y.remove()}),socket.on("NewHtmlElement",D=>{const{id:N,html:y}=D,A=document.getElementById(N);A&&A.remove(),document.body.insertAdjacentHTML("beforeend",y)}),socket.on("NewMeta",D=>{const{title:N,data:y,audio:A}=D,{type:ae,values:B}=y;x(3,Y={type:ae,values:B,title:N,audio:A}),localStorage.setItem("currentMeta",JSON.stringify(Y)),$.push({audio:A||"meta",nickname:"Sistema",profilePictureUrl:"",priority:Nn})}),S=setInterval(()=>{w.length()>0?x(0,I=w.pop()):x(0,I={nickname:"",message:"",profilePictureUrl:"",message:"",color:""})},4e3)}}),p.$$set=j=>{"file"in j&&x(5,k=j.file)},[I,C,u,Y,W,k]}class fi extends Zn{constructor(v){super(),zn(this,v,ci,ui,Gn,{file:5})}}function hi(p){let v,x;return v=new fi({}),{c(){kr(v.$$.fragment)},l(k){Sr(v.$$.fragment,k)},m(k,$){Lr(v,k,$),x=!0},p:Er,i(k){x||(Bt(v.$$.fragment,k),x=!0)},o(k){an(v.$$.fragment,k),x=!1},d(k){Ir(v,k)}}}function di(p){return Hn(()=>{"serviceWorker"in navigator&&navigator.serviceWorker.register("/sw.js").then(v=>{console.log("Service Worker registered: "+v)}).catch(v=>{console.log("Error registering the Service Worker: "+v)})}),[]}class gi extends Zn{constructor(v){super(),zn(this,v,di,hi,Gn,{})}}export{gi as component,vi as universal};
