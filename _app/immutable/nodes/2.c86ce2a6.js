import{i as br,f as kn,s as Xn,h as Pt,j as wr,o as Vn,k as Cr,n as Rr}from"../chunks/scheduler.3a937872.js";import{S as Gn,i as Hn,s as Le,g as Re,m as st,c as Ie,h as _e,j as Ee,f as fe,y as Ln,n as ut,l as he,k as se,a as xe,x as de,d as Dt,p as _r,t as nn,b as Pr,o as mt,z as Ar,A as Er,B as Tr,r as Mr,u as xr,v as Sr,w as kr}from"../chunks/index.6b6aad0f.js";function In(m){return(m==null?void 0:m.length)!==void 0?m:Array.from(m)}const Lr=!0,pi=Object.freeze(Object.defineProperty({__proto__:null,prerender:Lr},Symbol.toStringTag,{value:"Module"}));function Ir(m){const C=m-1;return C*C*C+1}function Or(m,{delay:C=0,duration:F=400,easing:S=br}={}){const Y=+getComputedStyle(m).opacity;return{delay:C,duration:F,easing:S,css:J=>`opacity: ${J*Y}`}}function Ur(m,{delay:C=0,duration:F=400,easing:S=Ir,x:Y=0,y:J=0,opacity:U=0}={}){const E=getComputedStyle(m),T=+E.opacity,D=E.transform==="none"?"":E.transform,$=T*(1-U),[x,R]=kn(Y),[u,G]=kn(J);return{delay:C,duration:F,easing:S,css:(Z,Q)=>`
			transform: ${D} translate(${(1-Z)*x}${R}, ${(1-Z)*u}${G});
			opacity: ${T-$*Q}`}}const Oe=()=>{const m=["audio/ad.mp3","audio/ad1.mp3"];return m[Math.floor(Math.random()*m.length)]},Wt=()=>{const m=["audio/rosa.mp3","audio/rosa.mp3","audio/rosa1.mp3","audio/rosa.mp3","audio/flowers_1.mp3","audio/rosa.mp3","audio/rosa.mp3","audio/rosa.mp3","audio/rosa.mp3"];return m[Math.floor(Math.random()*m.length)]},Fr=()=>{const m=["audio/tiktok.mp3","audio/tiktok_1.mp3","audio/tiktok_2.mp3"];return m[Math.floor(Math.random()*m.length)]},pt=()=>"audio/random_1.mp3",Yr=()=>"audio/random_1.mp3",$r=()=>{const m=["audio/coffe_3.mp3","audio/coffee.mp3","audio/coffee+2.mp3","audio/coffe_1.mp3"];return m[Math.floor(Math.random()*m.length)]},jr=()=>"audio/numberone_1.mp3",Wr=()=>Oe(),Bt=({giftId:m})=>{if(m=="6416"){const C=["audio/cookie_1.mp3","audio/cookie_2.mp3","audio/cookie_3.mp3","audio/cookie.mp3"];return C[Math.floor(Math.random()*C.length)]}return Oe()},Br=()=>Oe(),Dr=({lastAudio:m})=>{if(m==="audio/rosa.mp3"){const F=["audio/flowers_and_chocolate_1.mp3","audio/flowers_and_chocolate.mp3"];return F[Math.floor(Math.random()*F.length)]}const C=["audio/chocolate.mp3","audio/chocolate1.mp3"];return C[Math.floor(Math.random()*C.length)]},Nr=()=>"audio/powerhug.mp3",Xr=()=>Oe(),Vr=()=>"audio/fire.mp3",Gr=()=>Oe(),Hr=()=>Oe(),Zr=()=>Oe(),zr=()=>"audio/amei.mp3",Qr=()=>Oe(),On=()=>{const m=["audio/asmr_1.mp3","audio/asmr_2.mp3"];return m[Math.floor(Math.random()*m.length)]},qr=()=>Oe(),_t=()=>Oe(),Kr=()=>{const m=["audio/like_1.mp3","audio/like_2.mp3","audio/like_3.mp3"];return m[Math.floor(Math.random()*m.length)]},Jr=()=>{const m=["audio/subscribe_1.mp3","audio/subscribe_2.mp3","audio/subscribe_3.mp3"];return m[Math.floor(Math.random()*m.length)]},ei=()=>"audio/join.mp3",ti=()=>{const m=["audio/wakeUp.mp3","audio/wakeUp1.mp3","audio/wakeUp2.mp3","audio/wakeUp3.mp3"];return m[Math.floor(Math.random()*m.length)]},ni={like:Kr,subscribe:Jr,wakeUp:ti,join:ei,5269:Fr,5327:pt,5328:Yr,5333:$r,5338:Wr,5460:jr,5487:pt,5494:Oe,5547:Bt,5566:pt,5585:Br,5586:pt,5630:Dr,5631:Nr,5655:Wt,5658:Xr,5719:Vr,5780:Wt,5867:Gr,5879:Bt,5886:Hr,5983:Zr,5984:zr,6034:Wt,6097:Qr,6113:Bt,6148:Wt,6185:On,6240:On,6246:qr,6247:pt,6265:_t,6267:_t,6271:_t,6348:_t,6369:_t,6416:Bt,7934:pt},ri=m=>ni[m]||Oe,Un=()=>{const m=[],C=x=>2*x+1,F=x=>2*x+2,S=x=>Math.floor((x-1)/2),Y=(x,R)=>{const u=m[x];m[x]=m[R],m[R]=u},J=x=>{m.push(x);let R=m.length-1;for(;R>0&&m[S(R)].priority<m[R].priority;)Y(R,S(R)),R=S(R)},U=x=>{const R=C(x),u=F(x);let G=x;R<m.length&&m[R].priority>m[G].priority&&(G=R),u<m.length&&m[u].priority>m[G].priority&&(G=u),G!==x&&(Y(x,G),U(G))},E=()=>{if(m.length===0)return null;const x=m[0];return m[0]=m[m.length-1],m.pop(),U(0),x};return{push:x=>{J(x)},pop:()=>E(),peek:()=>m[0],length:()=>m.length}};var ii=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Zn={exports:{}};(function(m,C){(function(S,Y){m.exports=Y()})(ii,()=>(()=>{var F=[,(U,E,T)=>{T.r(E),T.d(E,{default:()=>$});var D=(()=>{var x=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return function(R={}){var u=R,G,Z;u.ready=new Promise((t,e)=>{G=t,Z=e});function Q(){function t(f){const l=i;r=e=0,i=new Map,l.forEach(p=>{try{p(f)}catch(h){console.error(h)}}),this.Sa(),s&&s.pb()}let e=0,r=0,i=new Map,s=null,c=null;this.requestAnimationFrame=function(f){e||(e=requestAnimationFrame(t.bind(this)));const l=++r;return i.set(l,f),l},this.cancelAnimationFrame=function(f){i.delete(f),e&&i.size==0&&(cancelAnimationFrame(e),e=0)},this.nb=function(f){c&&(document.body.remove(c),c=null),f||(c=document.createElement("div"),c.style.backgroundColor="black",c.style.position="fixed",c.style.right=0,c.style.top=0,c.style.color="white",c.style.padding="4px",c.innerHTML="RIVE FPS",f=function(l){c.innerHTML="RIVE FPS "+l.toFixed(1)},document.body.appendChild(c)),s=new function(){let l=0,p=0;this.pb=function(){var h=performance.now();p?(++l,h-=p,1e3<h&&(f(1e3*l/h),l=p=0)):(p=h,l=0)}}},this.kb=function(){c&&(document.body.remove(c),c=null),s=null},this.Sa=function(){}}function q(t){console.assert(!0);const e=new Map;let r=-1/0;this.push=function(i){return i=i+((1<<t)-1)>>t,e.has(i)&&clearTimeout(e.get(i)),e.set(i,setTimeout(function(){e.delete(i),e.length==0?r=-1/0:i==r&&(r=Math.max(...e.keys()),console.assert(r<i))},1e3)),r=Math.max(i,r),r<<t}}const L="createConicGradient createImageData createLinearGradient createPattern createRadialGradient getContextAttributes getImageData getLineDash getTransform isContextLost isPointInPath isPointInStroke measureText".split(" "),j=new function(){function t(){if(!e){let le=function(ve,V,K){if(V=P.createShader(V),P.shaderSource(V,K),P.compileShader(V),K=P.getShaderInfoLog(V),0<K.length)throw K;P.attachShader(ve,V)};var O=document.createElement("canvas"),N={alpha:1,depth:0,stencil:0,antialias:0,premultipliedAlpha:1,preserveDrawingBuffer:0,preferLowPowerToHighPerformance:0,failIfMajorPerformanceCaveat:0,enableExtensionsByDefault:1,explicitSwapControl:1,renderViaOffscreenBackBuffer:1};let P=O.getContext("webgl2",N);if(P)r=2;else if(P=O.getContext("webgl",N))r=1;else return console.log("No WebGL support. Image mesh will not be drawn."),!1;if(i=Math.min(P.getParameter(P.MAX_RENDERBUFFER_SIZE),P.getParameter(P.MAX_TEXTURE_SIZE)),O=P.createProgram(),le(O,P.VERTEX_SHADER,`attribute vec2 vertex;
                attribute vec2 uv;
                uniform vec4 mat;
                uniform vec2 translate;
                varying vec2 st;
                void main() {
                    st = uv;
                    gl_Position = vec4(mat2(mat) * vertex + translate, 0, 1);
                }`),le(O,P.FRAGMENT_SHADER,`precision highp float;
                uniform sampler2D image;
                varying vec2 st;
                void main() {
                    gl_FragColor = texture2D(image, st);
                }`),P.bindAttribLocation(O,0,"vertex"),P.bindAttribLocation(O,1,"uv"),P.linkProgram(O),N=P.getProgramInfoLog(O),0<N.trim().length)throw N;s=P.getUniformLocation(O,"mat"),c=P.getUniformLocation(O,"translate"),P.useProgram(O),P.bindBuffer(P.ARRAY_BUFFER,P.createBuffer()),P.enableVertexAttribArray(0),P.enableVertexAttribArray(1),P.bindBuffer(P.ELEMENT_ARRAY_BUFFER,P.createBuffer()),P.uniform1i(P.getUniformLocation(O,"image"),0),P.pixelStorei(P.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),e=P}return!0}let e=null,r=0,i=0,s=null,c=null,f=0,l=0;this.yb=function(){return t(),i},this.ib=function(O){if(!t())return null;const N=e.createTexture();return e.bindTexture(e.TEXTURE_2D,N),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,O),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),r==2?(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR_MIPMAP_LINEAR),e.generateMipmap(e.TEXTURE_2D)):e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),N};const p=new q(8),h=new q(8),_=new q(10),I=new q(10);this.mb=function(O,N,P,le,ve){if(t()){var V=p.push(O),K=h.push(N);(e.canvas.width!=V||e.canvas.height!=K)&&(e.canvas.width=V,e.canvas.height=K),e.viewport(0,K-N,O,N),e.disable(e.SCISSOR_TEST),e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT),e.enable(e.SCISSOR_TEST),P.sort((ne,tt)=>tt.Wa-ne.Wa),V=_.push(le),f!=V&&(e.bufferData(e.ARRAY_BUFFER,8*V,e.DYNAMIC_DRAW),f=V),V=0;for(var ge of P)e.bufferSubData(e.ARRAY_BUFFER,V,ge.Fa),V+=4*ge.Fa.length;console.assert(V==4*le);for(var Me of P)e.bufferSubData(e.ARRAY_BUFFER,V,Me.Za),V+=4*Me.Za.length;console.assert(V==8*le),V=I.push(ve),l!=V&&(e.bufferData(e.ELEMENT_ARRAY_BUFFER,2*V,e.DYNAMIC_DRAW),l=V),ge=0;for(var Qe of P)e.bufferSubData(e.ELEMENT_ARRAY_BUFFER,ge,Qe.indices),ge+=2*Qe.indices.length;console.assert(ge==2*ve),Qe=0,Me=!0,V=ge=0;for(const ne of P){ne.image.Ba!=Qe&&(e.bindTexture(e.TEXTURE_2D,ne.image.fb||null),Qe=ne.image.Ba),ne.Bb?(e.scissor(ne.Ka,K-ne.La-ne.Ra,ne.Ib,ne.Ra),Me=!0):Me&&(e.scissor(0,K-N,O,N),Me=!1),P=2/O;const tt=-2/N;e.uniform4f(s,ne.qa[0]*P*ne.xa,ne.qa[1]*tt*ne.ya,ne.qa[2]*P*ne.xa,ne.qa[3]*tt*ne.ya),e.uniform2f(c,ne.qa[4]*P*ne.xa+P*(ne.Ka-ne.zb*ne.xa)-1,ne.qa[5]*tt*ne.ya+tt*(ne.La-ne.Ab*ne.ya)+1),e.vertexAttribPointer(0,2,e.FLOAT,!1,0,V),e.vertexAttribPointer(1,2,e.FLOAT,!1,0,V+4*le),e.drawElements(e.TRIANGLES,ne.indices.length,e.UNSIGNED_SHORT,ge),V+=4*ne.Fa.length,ge+=2*ne.indices.length}console.assert(V==4*le),console.assert(ge==2*ve)}},this.canvas=function(){return t()&&e.canvas}};u.onRuntimeInitialized=function(){function t(w){switch(w){case h.srcOver:return"source-over";case h.screen:return"screen";case h.overlay:return"overlay";case h.darken:return"darken";case h.lighten:return"lighten";case h.colorDodge:return"color-dodge";case h.colorBurn:return"color-burn";case h.hardLight:return"hard-light";case h.softLight:return"soft-light";case h.difference:return"difference";case h.exclusion:return"exclusion";case h.multiply:return"multiply";case h.hue:return"hue";case h.saturation:return"saturation";case h.color:return"color";case h.luminosity:return"luminosity"}}function e(w){return"rgba("+((16711680&w)>>>16)+","+((65280&w)>>>8)+","+((255&w)>>>0)+","+((4278190080&w)>>>24)/255+")"}function r(){0<ge.length&&(j.mb(K.drawWidth(),K.drawHeight(),ge,Me,Qe),ge=[],Qe=Me=0,K.reset(512,512));for(const w of V){for(const B of w.fa)B();w.fa=[]}V.clear()}var i=u.RenderPaintStyle;const s=u.RenderPath,c=u.RenderPaint,f=u.Renderer,l=u.StrokeCap,p=u.StrokeJoin,h=u.BlendMode,_=i.fill,I=i.stroke,O=u.FillRule.evenOdd;let N=1;var P=u.RenderImage.extend("CanvasRenderImage",{__construct:function(){this.__parent.__construct.call(this),this.Ba=N,N=N+1&2147483647||1},decode:function(w){let B=tn;B.total++;var re=this,ee=new Image;ee.src=URL.createObjectURL(new Blob([w],{type:"image/png"})),ee.onload=function(){if(re.cb=ee,re.fb=j.ib(ee),re.size(ee.width,ee.height),B.loaded++,B.loaded===B.total){const z=B.ready;z&&(z(),B.ready=null)}}}}),le=s.extend("CanvasRenderPath",{__construct:function(){this.__parent.__construct.call(this),this.ka=new Path2D},rewind:function(){this.ka=new Path2D},addPath:function(w,B,re,ee,z,ue,ie){var oe=this.ka,ke=oe.addPath;w=w.ka;const be=new DOMMatrix;be.a=B,be.b=re,be.c=ee,be.d=z,be.e=ue,be.f=ie,ke.call(oe,w,be)},fillRule:function(w){this.Ia=w},moveTo:function(w,B){this.ka.moveTo(w,B)},lineTo:function(w,B){this.ka.lineTo(w,B)},cubicTo:function(w,B,re,ee,z,ue){this.ka.bezierCurveTo(w,B,re,ee,z,ue)},close:function(){this.ka.closePath()}}),ve=c.extend("CanvasRenderPaint",{color:function(w){this.Ja=e(w)},thickness:function(w){this.gb=w},join:function(w){switch(w){case p.miter:this.Aa="miter";break;case p.round:this.Aa="round";break;case p.bevel:this.Aa="bevel"}},cap:function(w){switch(w){case l.butt:this.za="butt";break;case l.round:this.za="round";break;case l.square:this.za="square"}},style:function(w){this.eb=w},blendMode:function(w){this.bb=t(w)},clearGradient:function(){this.sa=null},linearGradient:function(w,B,re,ee){this.sa={Xa:w,Ya:B,Na:re,Oa:ee,Ea:[]}},radialGradient:function(w,B,re,ee){this.sa={Xa:w,Ya:B,Na:re,Oa:ee,Ea:[],wb:!0}},addStop:function(w,B){this.sa.Ea.push({color:w,stop:B})},completeGradient:function(){},draw:function(w,B,re){let ee=this.eb;var z=this.Ja,ue=this.sa;if(w.globalCompositeOperation=this.bb,ue!=null){z=ue.Xa;var ie=ue.Ya;const ke=ue.Na;var oe=ue.Oa;const be=ue.Ea;ue.wb?(ue=ke-z,oe-=ie,z=w.createRadialGradient(z,ie,0,z,ie,Math.sqrt(ue*ue+oe*oe))):z=w.createLinearGradient(z,ie,ke,oe);for(let Xe=0,Ce=be.length;Xe<Ce;Xe++)ie=be[Xe],z.addColorStop(ie.stop,e(ie.color));this.Ja=z,this.sa=null}switch(ee){case I:w.strokeStyle=z,w.lineWidth=this.gb,w.lineCap=this.za,w.lineJoin=this.Aa,w.stroke(B);break;case _:w.fillStyle=z,w.fill(B,re)}}});const V=new Set;let K=null,ge=[],Me=0,Qe=0;var ne=u.CanvasRenderer=f.extend("Renderer",{__construct:function(w){this.__parent.__construct.call(this),this.ja=[1,0,0,1,0,0],this.da=w.getContext("2d"),this.Ha=w,this.fa=[]},save:function(){this.ja.push(...this.ja.slice(this.ja.length-6)),this.fa.push(this.da.save.bind(this.da))},restore:function(){const w=this.ja.length-6;if(6>w)throw"restore() called without matching save().";this.ja.splice(w),this.fa.push(this.da.restore.bind(this.da))},transform:function(w,B,re,ee,z,ue){const ie=this.ja,oe=ie.length-6;ie.splice(oe,6,ie[oe]*w+ie[oe+2]*B,ie[oe+1]*w+ie[oe+3]*B,ie[oe]*re+ie[oe+2]*ee,ie[oe+1]*re+ie[oe+3]*ee,ie[oe]*z+ie[oe+2]*ue+ie[oe+4],ie[oe+1]*z+ie[oe+3]*ue+ie[oe+5]),this.fa.push(this.da.transform.bind(this.da,w,B,re,ee,z,ue))},rotate:function(w){const B=Math.sin(w);w=Math.cos(w),this.transform(w,B,-B,w,0,0)},_drawPath:function(w,B){this.fa.push(B.draw.bind(B,this.da,w.ka,w.Ia===O?"evenodd":"nonzero"))},_drawRiveImage:function(w,B,re){var ee=w.cb;if(ee){var z=this.da,ue=t(B);this.fa.push(function(){z.globalCompositeOperation=ue,z.globalAlpha=re,z.drawImage(ee,0,0),z.globalAlpha=1})}},_getMatrix:function(w){const B=this.ja,re=B.length-6;for(let ee=0;6>ee;++ee)w[ee]=B[re+ee]},_drawImageMesh:function(w,B,re,ee,z,ue,ie,oe,ke,be){var Xe=this.da.canvas.width,Ce=this.da.canvas.height;const Tn=ke-ie,Mn=be-oe;ie=Math.max(ie,0),oe=Math.max(oe,0),ke=Math.min(ke,Xe),be=Math.min(be,Ce);const Ct=ke-ie,Rt=be-oe;if(console.assert(Ct<=Math.min(Tn,Xe)),console.assert(Rt<=Math.min(Mn,Ce)),!(0>=Ct||0>=Rt)){ke=Ct<Tn||Rt<Mn,Xe=be=1;var it=Math.ceil(Ct*be),at=Math.ceil(Rt*Xe);Ce=j.yb(),it>Ce&&(be*=Ce/it,it=Ce),at>Ce&&(Xe*=Ce/at,at=Ce),K||(K=new u.DynamicRectanizer(Ce),K.reset(512,512)),Ce=K.addRect(it,at),0>Ce&&(r(),V.add(this),Ce=K.addRect(it,at),console.assert(0<=Ce));var xn=Ce&65535,Sn=Ce>>16;ge.push({qa:this.ja.slice(this.ja.length-6),image:w,Ka:xn,La:Sn,zb:ie,Ab:oe,Ib:it,Ra:at,xa:be,ya:Xe,Fa:new Float32Array(ee),Za:new Float32Array(z),indices:new Uint16Array(ue),Bb:ke,Wa:w.Ba<<1|(ke?1:0)}),Me+=ee.length,Qe+=ue.length;var dt=this.da,yr=t(B);this.fa.push(function(){dt.save(),dt.resetTransform(),dt.globalCompositeOperation=yr,dt.globalAlpha=re,dt.drawImage(j.canvas(),xn,Sn,it,at,ie,oe,Ct,Rt),dt.restore()})}},_clipPath:function(w){this.fa.push(this.da.clip.bind(this.da,w.ka,w.Ia===O?"evenodd":"nonzero"))},clear:function(){V.add(this),this.fa.push(this.da.clearRect.bind(this.da,0,0,this.Ha.width,this.Ha.height))},flush:function(){},translate:function(w,B){this.transform(1,0,0,1,w,B)}});u.makeRenderer=function(w){const B=new ne(w),re=B.da;return new Proxy(B,{get(ee,z){if(typeof ee[z]=="function")return function(...ue){return ee[z].apply(ee,ue)};if(typeof re[z]=="function"){if(-1<L.indexOf(z))throw Error("RiveException: Method call to '"+z+"()' is not allowed, as the renderer cannot immediately pass through the return                 values of any canvas 2d context methods.");return function(...ue){B.fa.push(re[z].bind(re,...ue))}}return ee[z]},set(ee,z,ue){if(z in re)return re[z]=ue,!0}})},u.renderFactory={makeRenderPaint:function(){return new ve},makeRenderPath:function(){return new le},makeRenderImage:function(){return new P}};let tt=u.load,tn=null;u.load=function(w){return new Promise(function(B){let re=null;tn={total:0,loaded:0,ready:function(){B(re)}},re=tt(w),tn.total==0&&B(re)})},i=new Q,u.requestAnimationFrame=i.requestAnimationFrame.bind(i),u.cancelAnimationFrame=i.cancelAnimationFrame.bind(i),u.enableFPSCounter=i.nb.bind(i),u.disableFPSCounter=i.kb,i.Sa=r,u.cleanup=function(){K&&K.delete()}};var k=Object.assign({},u),v="./this.program",g=typeof window=="object",W=typeof importScripts=="function",ce="",Fe,qe;(g||W)&&(W?ce=self.location.href:typeof document<"u"&&document.currentScript&&(ce=document.currentScript.src),x&&(ce=x),ce.indexOf("blob:")!==0?ce=ce.substr(0,ce.replace(/[?#].*/,"").lastIndexOf("/")+1):ce="",W&&(qe=t=>{var e=new XMLHttpRequest;return e.open("GET",t,!1),e.responseType="arraybuffer",e.send(null),new Uint8Array(e.response)}),Fe=(t,e,r)=>{var i=new XMLHttpRequest;i.open("GET",t,!0),i.responseType="arraybuffer",i.onload=()=>{i.status==200||i.status==0&&i.response?e(i.response):r()},i.onerror=r,i.send(null)});var Ae=u.print||console.log.bind(console),Ye=u.printErr||console.error.bind(console);Object.assign(u,k),k=null,u.thisProgram&&(v=u.thisProgram);var o;u.wasmBinary&&(o=u.wasmBinary),u.noExitRuntime,typeof WebAssembly!="object"&&nt("no native wasm support detected");var n,a,d=!1,b,y,A,X,te,M,ae,ye;function we(){var t=n.buffer;u.HEAP8=b=new Int8Array(t),u.HEAP16=A=new Int16Array(t),u.HEAP32=te=new Int32Array(t),u.HEAPU8=y=new Uint8Array(t),u.HEAPU16=X=new Uint16Array(t),u.HEAPU32=M=new Uint32Array(t),u.HEAPF32=ae=new Float32Array(t),u.HEAPF64=ye=new Float64Array(t)}var pe,$e=[],je=[],ct=[];function At(){var t=u.preRun.shift();$e.unshift(t)}var We=0,Ke=null;function nt(t){throw u.onAbort&&u.onAbort(t),t="Aborted("+t+")",Ye(t),d=!0,t=new WebAssembly.RuntimeError(t+". Build with -sASSERTIONS for more info."),Z(t),t}function Je(t){return t.startsWith("data:application/octet-stream;base64,")}var Be;if(Be="canvas_advanced.wasm",!Je(Be)){var Ve=Be;Be=u.locateFile?u.locateFile(Ve,ce):ce+Ve}function rn(t){if(t==Be&&o)return new Uint8Array(o);if(qe)return qe(t);throw"both async and sync fetching of the wasm failed"}function zn(t){if(!o&&(g||W)){if(typeof fetch=="function"&&!t.startsWith("file://"))return fetch(t,{credentials:"same-origin"}).then(e=>{if(!e.ok)throw"failed to load wasm binary file at '"+t+"'";return e.arrayBuffer()}).catch(()=>rn(t));if(Fe)return new Promise((e,r)=>{Fe(t,i=>e(new Uint8Array(i)),r)})}return Promise.resolve().then(()=>rn(t))}function an(t,e,r){return zn(t).then(i=>WebAssembly.instantiate(i,e)).then(i=>i).then(r,i=>{Ye("failed to asynchronously prepare wasm: "+i),nt(i)})}function Qn(t,e){var r=Be;return o||typeof WebAssembly.instantiateStreaming!="function"||Je(r)||r.startsWith("file://")||typeof fetch!="function"?an(r,t,e):fetch(r,{credentials:"same-origin"}).then(i=>WebAssembly.instantiateStreaming(i,t).then(e,function(s){return Ye("wasm streaming compile failed: "+s),Ye("falling back to ArrayBuffer instantiation"),an(r,t,e)}))}var Nt=t=>{for(;0<t.length;)t.shift()(u)};function on(t){if(t===void 0)return"_unknown";t=t.replace(/[^a-zA-Z0-9_]/g,"$");var e=t.charCodeAt(0);return 48<=e&&57>=e?`_${t}`:t}function Et(t,e){return t=on(t),{[t]:function(){return e.apply(this,arguments)}}[t]}function sn(){this.la=[void 0],this.Qa=[]}var Se=new sn,lt=void 0;function H(t){throw new lt(t)}var Ue=t=>(t||H("Cannot use deleted val. handle = "+t),Se.get(t).value),De=t=>{switch(t){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:return Se.ab({Va:1,value:t})}};function un(t){var e=Error,r=Et(t,function(i){this.name=t,this.message=i,i=Error(i).stack,i!==void 0&&(this.stack=this.toString()+`
`+i.replace(/^Error(:[^\n]*)?\n/,""))});return r.prototype=Object.create(e.prototype),r.prototype.constructor=r,r.prototype.toString=function(){return this.message===void 0?this.name:`${this.name}: ${this.message}`},r}var cn=void 0,ln=void 0;function me(t){for(var e="";y[t];)e+=ln[y[t++]];return e}var vt=[];function Xt(){for(;vt.length;){var t=vt.pop();t.Y.pa=!1,t.delete()}}var gt=void 0,Ge={};function Vt(t,e){for(e===void 0&&H("ptr should not be undefined");t.ba;)e=t.ta(e),t=t.ba;return e}var rt={};function fn(t){t=An(t);var e=me(t);return ze(t),e}function yt(t,e){var r=rt[t];return r===void 0&&H(e+" has unknown type "+fn(t)),r}function Tt(){}var Gt=!1;function hn(t){--t.count.value,t.count.value===0&&(t.ea?t.ha.ma(t.ea):t.aa.Z.ma(t.$))}function dn(t,e,r){return e===r?t:r.ba===void 0?null:(t=dn(t,e,r.ba),t===null?null:r.lb(t))}var pn={};function qn(t,e){return e=Vt(t,e),Ge[e]}var mn=void 0;function Mt(t){throw new mn(t)}function xt(t,e){return e.aa&&e.$||Mt("makeClassHandle requires ptr and ptrType"),!!e.ha!=!!e.ea&&Mt("Both smartPtrType and smartPtr must be specified"),e.count={value:1},ft(Object.create(t,{Y:{value:e}}))}function ft(t){return typeof FinalizationRegistry>"u"?(ft=e=>e,t):(Gt=new FinalizationRegistry(e=>{hn(e.Y)}),ft=e=>{var r=e.Y;return r.ea&&Gt.register(e,{Y:r},e),e},Tt=e=>{Gt.unregister(e)},ft(t))}var St={};function bt(t){for(;t.length;){var e=t.pop();t.pop()(e)}}function wt(t){return this.fromWireType(te[t>>2])}var ht={},kt={};function Te(t,e,r){function i(l){l=r(l),l.length!==t.length&&Mt("Mismatched type converter count");for(var p=0;p<t.length;++p)Ne(t[p],l[p])}t.forEach(function(l){kt[l]=e});var s=Array(e.length),c=[],f=0;e.forEach((l,p)=>{rt.hasOwnProperty(l)?s[p]=rt[l]:(c.push(l),ht.hasOwnProperty(l)||(ht[l]=[]),ht[l].push(()=>{s[p]=rt[l],++f,f===c.length&&i(s)}))}),c.length===0&&i(s)}function Lt(t){switch(t){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError(`Unknown type size: ${t}`)}}function Kn(t,e,r={}){var i=e.name;if(t||H(`type "${i}" must have a positive integer typeid pointer`),rt.hasOwnProperty(t)){if(r.vb)return;H(`Cannot register type '${i}' twice`)}rt[t]=e,delete kt[t],ht.hasOwnProperty(t)&&(e=ht[t],delete ht[t],e.forEach(s=>s()))}function Ne(t,e,r={}){if(!("argPackAdvance"in e))throw new TypeError("registerType registeredInstance requires argPackAdvance");Kn(t,e,r)}function Ht(t){H(t.Y.aa.Z.name+" instance already deleted")}function et(){}function Zt(t,e,r){if(t[e].ca===void 0){var i=t[e];t[e]=function(){return t[e].ca.hasOwnProperty(arguments.length)||H(`Function '${r}' called with an invalid number of arguments (${arguments.length}) - expects one of (${t[e].ca})!`),t[e].ca[arguments.length].apply(this,arguments)},t[e].ca=[],t[e].ca[i.oa]=i}}function zt(t,e,r){u.hasOwnProperty(t)?((r===void 0||u[t].ca!==void 0&&u[t].ca[r]!==void 0)&&H(`Cannot register public name '${t}' twice`),Zt(u,t,t),u.hasOwnProperty(r)&&H(`Cannot register multiple overloads of a function with the same number of arguments (${r})!`),u[t].ca[r]=e):(u[t]=e,r!==void 0&&(u[t].Jb=r))}function Jn(t,e,r,i,s,c,f,l){this.name=t,this.constructor=e,this.ia=r,this.ma=i,this.ba=s,this.qb=c,this.ta=f,this.lb=l,this.Ta=[]}function It(t,e,r){for(;e!==r;)e.ta||H(`Expected null or instance of ${r.name}, got an instance of ${e.name}`),t=e.ta(t),e=e.ba;return t}function er(t,e){return e===null?(this.Ca&&H(`null is not a valid ${this.name}`),0):(e.Y||H(`Cannot pass "${qt(e)}" as a ${this.name}`),e.Y.$||H(`Cannot pass deleted object as a pointer of type ${this.name}`),It(e.Y.$,e.Y.aa.Z,this.Z))}function tr(t,e){if(e===null){if(this.Ca&&H(`null is not a valid ${this.name}`),this.wa){var r=this.Da();return t!==null&&t.push(this.ma,r),r}return 0}if(e.Y||H(`Cannot pass "${qt(e)}" as a ${this.name}`),e.Y.$||H(`Cannot pass deleted object as a pointer of type ${this.name}`),!this.va&&e.Y.aa.va&&H(`Cannot convert argument of type ${e.Y.ha?e.Y.ha.name:e.Y.aa.name} to parameter type ${this.name}`),r=It(e.Y.$,e.Y.aa.Z,this.Z),this.wa)switch(e.Y.ea===void 0&&H("Passing raw pointer to smart pointer is illegal"),this.Hb){case 0:e.Y.ha===this?r=e.Y.ea:H(`Cannot convert argument of type ${e.Y.ha?e.Y.ha.name:e.Y.aa.name} to parameter type ${this.name}`);break;case 1:r=e.Y.ea;break;case 2:if(e.Y.ha===this)r=e.Y.ea;else{var i=e.clone();r=this.Db(r,De(function(){i.delete()})),t!==null&&t.push(this.ma,r)}break;default:H("Unsupporting sharing policy")}return r}function nr(t,e){return e===null?(this.Ca&&H(`null is not a valid ${this.name}`),0):(e.Y||H(`Cannot pass "${qt(e)}" as a ${this.name}`),e.Y.$||H(`Cannot pass deleted object as a pointer of type ${this.name}`),e.Y.aa.va&&H(`Cannot convert argument of type ${e.Y.aa.name} to parameter type ${this.name}`),It(e.Y.$,e.Y.aa.Z,this.Z))}function He(t,e,r,i){this.name=t,this.Z=e,this.Ca=r,this.va=i,this.wa=!1,this.ma=this.Db=this.Da=this.Ua=this.Hb=this.Cb=void 0,e.ba!==void 0?this.toWireType=tr:(this.toWireType=i?er:nr,this.ga=null)}function vn(t,e,r){u.hasOwnProperty(t)||Mt("Replacing nonexistant public symbol"),u[t].ca!==void 0&&r!==void 0?u[t].ca[r]=e:(u[t]=e,u[t].oa=r)}var rr=(t,e)=>{var r=[];return function(){if(r.length=0,Object.assign(r,arguments),t.includes("j")){var i=u["dynCall_"+t];i=r&&r.length?i.apply(null,[e].concat(r)):i.call(null,e)}else i=pe.get(e).apply(null,r);return i}};function Pe(t,e){t=me(t);var r=t.includes("j")?rr(t,e):pe.get(e);return typeof r!="function"&&H(`unknown function pointer with signature ${t}: ${e}`),r}var gn=void 0;function Ze(t,e){function r(c){s[c]||rt[c]||(kt[c]?kt[c].forEach(r):(i.push(c),s[c]=!0))}var i=[],s={};throw e.forEach(r),new gn(`${t}: `+i.map(fn).join([", "]))}function Ot(t,e,r,i,s){var c=e.length;2>c&&H("argTypes array size mismatch! Must at least get return value and 'this' types!");var f=e[1]!==null&&r!==null,l=!1;for(r=1;r<e.length;++r)if(e[r]!==null&&e[r].ga===void 0){l=!0;break}var p=e[0].name!=="void",h=c-2,_=Array(h),I=[],O=[];return function(){if(arguments.length!==h&&H(`function ${t} called with ${arguments.length} arguments, expected ${h} args!`),O.length=0,I.length=f?2:1,I[0]=s,f){var N=e[1].toWireType(O,this);I[1]=N}for(var P=0;P<h;++P)_[P]=e[P+2].toWireType(O,arguments[P]),I.push(_[P]);if(P=i.apply(null,I),l)bt(O);else for(var le=f?1:2;le<e.length;le++){var ve=le===1?N:_[le-2];e[le].ga!==null&&e[le].ga(ve)}return N=p?e[0].fromWireType(P):void 0,N}}function Ut(t,e){for(var r=[],i=0;i<t;i++)r.push(M[e+4*i>>2]);return r}function yn(t,e,r){return t instanceof Object||H(`${r} with invalid "this": ${t}`),t instanceof e.Z.constructor||H(`${r} incompatible with "this" of type ${t.constructor.name}`),t.Y.$||H(`cannot call emscripten binding method ${r} on deleted object`),It(t.Y.$,t.Y.aa.Z,e.Z)}function Qt(t){t>=Se.Ga&&--Se.get(t).Va===0&&Se.$a(t)}function ir(t,e,r){switch(e){case 0:return function(i){return this.fromWireType((r?b:y)[i])};case 1:return function(i){return this.fromWireType((r?A:X)[i>>1])};case 2:return function(i){return this.fromWireType((r?te:M)[i>>2])};default:throw new TypeError("Unknown integer type: "+t)}}function qt(t){if(t===null)return"null";var e=typeof t;return e==="object"||e==="array"||e==="function"?t.toString():""+t}function ar(t,e){switch(e){case 2:return function(r){return this.fromWireType(ae[r>>2])};case 3:return function(r){return this.fromWireType(ye[r>>3])};default:throw new TypeError("Unknown float type: "+t)}}function or(t,e,r){switch(e){case 0:return r?function(i){return b[i]}:function(i){return y[i]};case 1:return r?function(i){return A[i>>1]}:function(i){return X[i>>1]};case 2:return r?function(i){return te[i>>2]}:function(i){return M[i>>2]};default:throw new TypeError("Unknown integer type: "+t)}}var bn=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,wn=(t,e,r)=>{var i=e+r;for(r=e;t[r]&&!(r>=i);)++r;if(16<r-e&&t.buffer&&bn)return bn.decode(t.subarray(e,r));for(i="";e<r;){var s=t[e++];if(s&128){var c=t[e++]&63;if((s&224)==192)i+=String.fromCharCode((s&31)<<6|c);else{var f=t[e++]&63;s=(s&240)==224?(s&15)<<12|c<<6|f:(s&7)<<18|c<<12|f<<6|t[e++]&63,65536>s?i+=String.fromCharCode(s):(s-=65536,i+=String.fromCharCode(55296|s>>10,56320|s&1023))}}else i+=String.fromCharCode(s)}return i},Cn=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,sr=(t,e)=>{for(var r=t>>1,i=r+e/2;!(r>=i)&&X[r];)++r;if(r<<=1,32<r-t&&Cn)return Cn.decode(y.subarray(t,r));for(r="",i=0;!(i>=e/2);++i){var s=A[t+2*i>>1];if(s==0)break;r+=String.fromCharCode(s)}return r},ur=(t,e,r)=>{if(r===void 0&&(r=2147483647),2>r)return 0;r-=2;var i=e;r=r<2*t.length?r/2:t.length;for(var s=0;s<r;++s)A[e>>1]=t.charCodeAt(s),e+=2;return A[e>>1]=0,e-i},cr=t=>2*t.length,lr=(t,e)=>{for(var r=0,i="";!(r>=e/4);){var s=te[t+4*r>>2];if(s==0)break;++r,65536<=s?(s-=65536,i+=String.fromCharCode(55296|s>>10,56320|s&1023)):i+=String.fromCharCode(s)}return i},fr=(t,e,r)=>{if(r===void 0&&(r=2147483647),4>r)return 0;var i=e;r=i+r-4;for(var s=0;s<t.length;++s){var c=t.charCodeAt(s);if(55296<=c&&57343>=c){var f=t.charCodeAt(++s);c=65536+((c&1023)<<10)|f&1023}if(te[e>>2]=c,e+=4,e+4>r)break}return te[e>>2]=0,e-i},hr=t=>{for(var e=0,r=0;r<t.length;++r){var i=t.charCodeAt(r);55296<=i&&57343>=i&&++r,e+=4}return e},dr={};function Ft(t){var e=dr[t];return e===void 0?me(t):e}var Yt=[];function pr(t){var e=Yt.length;return Yt.push(t),e}function mr(t,e){for(var r=Array(t),i=0;i<t;++i)r[i]=yt(M[e+4*i>>2],"parameter "+i);return r}var Rn=[],Kt={},_n=()=>{if(!Jt){var t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:v||"./this.program"},e;for(e in Kt)Kt[e]===void 0?delete t[e]:t[e]=Kt[e];var r=[];for(e in t)r.push(`${e}=${t[e]}`);Jt=r}return Jt},Jt,vr=[null,[],[]];Object.assign(sn.prototype,{get(t){return this.la[t]},has(t){return this.la[t]!==void 0},ab(t){var e=this.Qa.pop()||this.la.length;return this.la[e]=t,e},$a(t){this.la[t]=void 0,this.Qa.push(t)}}),lt=u.BindingError=class extends Error{constructor(t){super(t),this.name="BindingError"}},Se.la.push({value:void 0},{value:null},{value:!0},{value:!1}),Se.Ga=Se.la.length,u.count_emval_handles=function(){for(var t=0,e=Se.Ga;e<Se.la.length;++e)Se.la[e]!==void 0&&++t;return t},cn=u.PureVirtualError=un("PureVirtualError");for(var Pn=Array(256),$t=0;256>$t;++$t)Pn[$t]=String.fromCharCode($t);ln=Pn,u.getInheritedInstanceCount=function(){return Object.keys(Ge).length},u.getLiveInheritedInstances=function(){var t=[],e;for(e in Ge)Ge.hasOwnProperty(e)&&t.push(Ge[e]);return t},u.flushPendingDeletes=Xt,u.setDelayFunction=function(t){gt=t,vt.length&&gt&&gt(Xt)},mn=u.InternalError=class extends Error{constructor(t){super(t),this.name="InternalError"}},et.prototype.isAliasOf=function(t){if(!(this instanceof et&&t instanceof et))return!1;var e=this.Y.aa.Z,r=this.Y.$,i=t.Y.aa.Z;for(t=t.Y.$;e.ba;)r=e.ta(r),e=e.ba;for(;i.ba;)t=i.ta(t),i=i.ba;return e===i&&r===t},et.prototype.clone=function(){if(this.Y.$||Ht(this),this.Y.ra)return this.Y.count.value+=1,this;var t=ft,e=Object,r=e.create,i=Object.getPrototypeOf(this),s=this.Y;return t=t(r.call(e,i,{Y:{value:{count:s.count,pa:s.pa,ra:s.ra,$:s.$,aa:s.aa,ea:s.ea,ha:s.ha}}})),t.Y.count.value+=1,t.Y.pa=!1,t},et.prototype.delete=function(){this.Y.$||Ht(this),this.Y.pa&&!this.Y.ra&&H("Object already scheduled for deletion"),Tt(this),hn(this.Y),this.Y.ra||(this.Y.ea=void 0,this.Y.$=void 0)},et.prototype.isDeleted=function(){return!this.Y.$},et.prototype.deleteLater=function(){return this.Y.$||Ht(this),this.Y.pa&&!this.Y.ra&&H("Object already scheduled for deletion"),vt.push(this),vt.length===1&&gt&&gt(Xt),this.Y.pa=!0,this},He.prototype.rb=function(t){return this.Ua&&(t=this.Ua(t)),t},He.prototype.Ma=function(t){this.ma&&this.ma(t)},He.prototype.argPackAdvance=8,He.prototype.readValueFromPointer=wt,He.prototype.deleteObject=function(t){t!==null&&t.delete()},He.prototype.fromWireType=function(t){function e(){return this.wa?xt(this.Z.ia,{aa:this.Cb,$:r,ha:this,ea:t}):xt(this.Z.ia,{aa:this,$:t})}var r=this.rb(t);if(!r)return this.Ma(t),null;var i=qn(this.Z,r);if(i!==void 0)return i.Y.count.value===0?(i.Y.$=r,i.Y.ea=t,i.clone()):(i=i.clone(),this.Ma(t),i);if(i=this.Z.qb(r),i=pn[i],!i)return e.call(this);i=this.va?i.hb:i.pointerType;var s=dn(r,this.Z,i.Z);return s===null?e.call(this):this.wa?xt(i.Z.ia,{aa:i,$:s,ha:this,ea:t}):xt(i.Z.ia,{aa:i,$:s})},gn=u.UnboundTypeError=un("UnboundTypeError");var gr={L:function(t,e,r){t=me(t),e=yt(e,"wrapper"),r=Ue(r);var i=[].slice,s=e.Z,c=s.ia,f=s.ba.ia,l=s.ba.constructor;t=Et(t,function(){s.ba.Ta.forEach((function(h){if(this[h]===f[h])throw new cn(`Pure virtual function ${h} must be implemented in JavaScript`)}).bind(this)),Object.defineProperty(this,"__parent",{value:c}),this.__construct.apply(this,i.call(arguments))}),c.__construct=function(){this===c&&H("Pass correct 'this' to __construct");var h=l.implement.apply(void 0,[this].concat(i.call(arguments)));Tt(h);var _=h.Y;h.notifyOnDestruction(),_.ra=!0,Object.defineProperties(this,{Y:{value:_}}),ft(this),h=_.$,h=Vt(s,h),Ge.hasOwnProperty(h)?H(`Tried to register registered instance: ${h}`):Ge[h]=this},c.__destruct=function(){this===c&&H("Pass correct 'this' to __destruct"),Tt(this);var h=this.Y.$;h=Vt(s,h),Ge.hasOwnProperty(h)?delete Ge[h]:H(`Tried to unregister unregistered instance: ${h}`)},t.prototype=Object.create(c);for(var p in r)t.prototype[p]=r[p];return De(t)},N:function(t){var e=St[t];delete St[t];var r=e.Da,i=e.ma,s=e.Pa,c=s.map(f=>f.ub).concat(s.map(f=>f.Fb));Te([t],c,f=>{var l={};return s.forEach((p,h)=>{var _=f[h],I=p.sb,O=p.tb,N=f[h+s.length],P=p.Eb,le=p.Gb;l[p.ob]={read:ve=>_.fromWireType(I(O,ve)),write:(ve,V)=>{var K=[];P(le,ve,N.toWireType(K,V)),bt(K)}}}),[{name:e.name,fromWireType:function(p){var h={},_;for(_ in l)h[_]=l[_].read(p);return i(p),h},toWireType:function(p,h){for(var _ in l)if(!(_ in h))throw new TypeError(`Missing field: "${_}"`);var I=r();for(_ in l)l[_].write(I,h[_]);return p!==null&&p.push(i,I),I},argPackAdvance:8,readValueFromPointer:wt,ga:i}]})},C:function(){},J:function(t,e,r,i,s){var c=Lt(r);e=me(e),Ne(t,{name:e,fromWireType:function(f){return!!f},toWireType:function(f,l){return l?i:s},argPackAdvance:8,readValueFromPointer:function(f){if(r===1)var l=b;else if(r===2)l=A;else if(r===4)l=te;else throw new TypeError("Unknown boolean type size: "+e);return this.fromWireType(l[f>>c])},ga:null})},f:function(t,e,r,i,s,c,f,l,p,h,_,I,O){_=me(_),c=Pe(s,c),l&&(l=Pe(f,l)),h&&(h=Pe(p,h)),O=Pe(I,O);var N=on(_);zt(N,function(){Ze(`Cannot construct ${_} due to unbound types`,[i])}),Te([t,e,r],i?[i]:[],function(P){if(P=P[0],i)var le=P.Z,ve=le.ia;else ve=et.prototype;P=Et(N,function(){if(Object.getPrototypeOf(this)!==V)throw new lt("Use 'new' to construct "+_);if(K.na===void 0)throw new lt(_+" has no accessible constructor");var Me=K.na[arguments.length];if(Me===void 0)throw new lt(`Tried to invoke ctor of ${_} with invalid number of parameters (${arguments.length}) - expected (${Object.keys(K.na).toString()}) parameters instead!`);return Me.apply(this,arguments)});var V=Object.create(ve,{constructor:{value:P}});P.prototype=V;var K=new Jn(_,P,V,O,le,c,l,h);K.ba&&(K.ba.ua===void 0&&(K.ba.ua=[]),K.ba.ua.push(K)),le=new He(_,K,!0,!1),ve=new He(_+"*",K,!1,!1);var ge=new He(_+" const*",K,!1,!0);return pn[t]={pointerType:ve,hb:ge},vn(N,P),[le,ve,ge]})},l:function(t,e,r,i,s,c,f){var l=Ut(r,i);e=me(e),c=Pe(s,c),Te([],[t],function(p){function h(){Ze(`Cannot call ${_} due to unbound types`,l)}p=p[0];var _=`${p.name}.${e}`;e.startsWith("@@")&&(e=Symbol[e.substring(2)]);var I=p.Z.constructor;return I[e]===void 0?(h.oa=r-1,I[e]=h):(Zt(I,e,_),I[e].ca[r-1]=h),Te([],l,function(O){if(O=Ot(_,[O[0],null].concat(O.slice(1)),null,c,f),I[e].ca===void 0?(O.oa=r-1,I[e]=O):I[e].ca[r-1]=O,p.Z.ua)for(const N of p.Z.ua)N.constructor.hasOwnProperty(e)||(N.constructor[e]=O);return[]}),[]})},w:function(t,e,r,i,s,c,f,l){e=me(e),c=Pe(s,c),Te([],[t],function(p){p=p[0];var h=`${p.name}.${e}`,_={get(){Ze(`Cannot access ${h} due to unbound types`,[r])},enumerable:!0,configurable:!0};return _.set=l?()=>{Ze(`Cannot access ${h} due to unbound types`,[r])}:()=>{H(`${h} is a read-only property`)},Object.defineProperty(p.Z.constructor,e,_),Te([],[r],function(I){I=I[0];var O={get(){return I.fromWireType(c(i))},enumerable:!0};return l&&(l=Pe(f,l),O.set=N=>{var P=[];l(i,I.toWireType(P,N)),bt(P)}),Object.defineProperty(p.Z.constructor,e,O),[]}),[]})},r:function(t,e,r,i,s,c){var f=Ut(e,r);s=Pe(i,s),Te([],[t],function(l){l=l[0];var p=`constructor ${l.name}`;if(l.Z.na===void 0&&(l.Z.na=[]),l.Z.na[e-1]!==void 0)throw new lt(`Cannot register multiple constructors with identical number of parameters (${e-1}) for class '${l.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return l.Z.na[e-1]=()=>{Ze(`Cannot construct ${l.name} due to unbound types`,f)},Te([],f,function(h){return h.splice(1,0,null),l.Z.na[e-1]=Ot(p,h,null,s,c),[]}),[]})},b:function(t,e,r,i,s,c,f,l){var p=Ut(r,i);e=me(e),c=Pe(s,c),Te([],[t],function(h){function _(){Ze(`Cannot call ${I} due to unbound types`,p)}h=h[0];var I=`${h.name}.${e}`;e.startsWith("@@")&&(e=Symbol[e.substring(2)]),l&&h.Z.Ta.push(e);var O=h.Z.ia,N=O[e];return N===void 0||N.ca===void 0&&N.className!==h.name&&N.oa===r-2?(_.oa=r-2,_.className=h.name,O[e]=_):(Zt(O,e,I),O[e].ca[r-2]=_),Te([],p,function(P){return P=Ot(I,P,h,c,f),O[e].ca===void 0?(P.oa=r-2,O[e]=P):O[e].ca[r-2]=P,[]}),[]})},e:function(t,e,r,i,s,c,f,l,p,h){e=me(e),s=Pe(i,s),Te([],[t],function(_){_=_[0];var I=`${_.name}.${e}`,O={get(){Ze(`Cannot access ${I} due to unbound types`,[r,f])},enumerable:!0,configurable:!0};return O.set=p?()=>{Ze(`Cannot access ${I} due to unbound types`,[r,f])}:()=>{H(I+" is a read-only property")},Object.defineProperty(_.Z.ia,e,O),Te([],p?[r,f]:[r],function(N){var P=N[0],le={get(){var V=yn(this,_,I+" getter");return P.fromWireType(s(c,V))},enumerable:!0};if(p){p=Pe(l,p);var ve=N[1];le.set=function(V){var K=yn(this,_,I+" setter"),ge=[];p(h,K,ve.toWireType(ge,V)),bt(ge)}}return Object.defineProperty(_.Z.ia,e,le),[]}),[]})},I:function(t,e){e=me(e),Ne(t,{name:e,fromWireType:function(r){var i=Ue(r);return Qt(r),i},toWireType:function(r,i){return De(i)},argPackAdvance:8,readValueFromPointer:wt,ga:null})},o:function(t,e,r,i){function s(){}r=Lt(r),e=me(e),s.values={},Ne(t,{name:e,constructor:s,fromWireType:function(c){return this.constructor.values[c]},toWireType:function(c,f){return f.value},argPackAdvance:8,readValueFromPointer:ir(e,r,i),ga:null}),zt(e,s)},c:function(t,e,r){var i=yt(t,"enum");e=me(e),t=i.constructor,i=Object.create(i.constructor.prototype,{value:{value:r},constructor:{value:Et(`${i.name}_${e}`,function(){})}}),t.values[r]=i,t[e]=i},y:function(t,e,r){r=Lt(r),e=me(e),Ne(t,{name:e,fromWireType:function(i){return i},toWireType:function(i,s){return s},argPackAdvance:8,readValueFromPointer:ar(e,r),ga:null})},t:function(t,e,r,i,s,c){var f=Ut(e,r);t=me(t),s=Pe(i,s),zt(t,function(){Ze(`Cannot call ${t} due to unbound types`,f)},e-1),Te([],f,function(l){return vn(t,Ot(t,[l[0],null].concat(l.slice(1)),null,s,c),e-1),[]})},k:function(t,e,r,i,s){e=me(e),s===-1&&(s=4294967295),s=Lt(r);var c=l=>l;if(i===0){var f=32-8*r;c=l=>l<<f>>>f}r=e.includes("unsigned")?function(l,p){return p>>>0}:function(l,p){return p},Ne(t,{name:e,fromWireType:c,toWireType:r,argPackAdvance:8,readValueFromPointer:or(e,s,i!==0),ga:null})},g:function(t,e,r){function i(c){c>>=2;var f=M;return new s(f.buffer,f[c+1],f[c])}var s=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][e];r=me(r),Ne(t,{name:r,fromWireType:i,argPackAdvance:8,readValueFromPointer:i},{vb:!0})},z:function(t,e){e=me(e);var r=e==="std::string";Ne(t,{name:e,fromWireType:function(i){var s=M[i>>2],c=i+4;if(r)for(var f=c,l=0;l<=s;++l){var p=c+l;if(l==s||y[p]==0){if(f=f?wn(y,f,p-f):"",h===void 0)var h=f;else h+=String.fromCharCode(0),h+=f;f=p+1}}else{for(h=Array(s),l=0;l<s;++l)h[l]=String.fromCharCode(y[c+l]);h=h.join("")}return ze(i),h},toWireType:function(i,s){s instanceof ArrayBuffer&&(s=new Uint8Array(s));var c,f=typeof s=="string";f||s instanceof Uint8Array||s instanceof Uint8ClampedArray||s instanceof Int8Array||H("Cannot pass non-string to std::string");var l;if(r&&f)for(c=l=0;c<s.length;++c){var p=s.charCodeAt(c);127>=p?l++:2047>=p?l+=2:55296<=p&&57343>=p?(l+=4,++c):l+=3}else l=s.length;if(c=l,l=en(4+c+1),p=l+4,M[l>>2]=c,r&&f){if(f=p,p=c+1,c=y,0<p){p=f+p-1;for(var h=0;h<s.length;++h){var _=s.charCodeAt(h);if(55296<=_&&57343>=_){var I=s.charCodeAt(++h);_=65536+((_&1023)<<10)|I&1023}if(127>=_){if(f>=p)break;c[f++]=_}else{if(2047>=_){if(f+1>=p)break;c[f++]=192|_>>6}else{if(65535>=_){if(f+2>=p)break;c[f++]=224|_>>12}else{if(f+3>=p)break;c[f++]=240|_>>18,c[f++]=128|_>>12&63}c[f++]=128|_>>6&63}c[f++]=128|_&63}}c[f]=0}}else if(f)for(f=0;f<c;++f)h=s.charCodeAt(f),255<h&&(ze(p),H("String has UTF-16 code units that do not fit in 8 bits")),y[p+f]=h;else for(f=0;f<c;++f)y[p+f]=s[f];return i!==null&&i.push(ze,l),l},argPackAdvance:8,readValueFromPointer:wt,ga:function(i){ze(i)}})},v:function(t,e,r){if(r=me(r),e===2)var i=sr,s=ur,c=cr,f=()=>X,l=1;else e===4&&(i=lr,s=fr,c=hr,f=()=>M,l=2);Ne(t,{name:r,fromWireType:function(p){for(var h=M[p>>2],_=f(),I,O=p+4,N=0;N<=h;++N){var P=p+4+N*e;(N==h||_[P>>l]==0)&&(O=i(O,P-O),I===void 0?I=O:(I+=String.fromCharCode(0),I+=O),O=P+e)}return ze(p),I},toWireType:function(p,h){typeof h!="string"&&H(`Cannot pass non-string to C++ string type ${r}`);var _=c(h),I=en(4+_+e);return M[I>>2]=_>>l,s(h,I+4,_+e),p!==null&&p.push(ze,I),I},argPackAdvance:8,readValueFromPointer:wt,ga:function(p){ze(p)}})},P:function(t,e,r,i,s,c){St[t]={name:me(e),Da:Pe(r,i),ma:Pe(s,c),Pa:[]}},O:function(t,e,r,i,s,c,f,l,p,h){St[t].Pa.push({ob:me(e),ub:r,sb:Pe(i,s),tb:c,Fb:f,Eb:Pe(l,p),Gb:h})},K:function(t,e){e=me(e),Ne(t,{xb:!0,name:e,argPackAdvance:0,fromWireType:function(){},toWireType:function(){}})},u:function(t,e,r){t=Ue(t),e=yt(e,"emval::as");var i=[],s=De(i);return M[r>>2]=s,e.toWireType(i,t)},A:function(t,e,r,i,s){t=Yt[t],e=Ue(e),r=Ft(r);var c=[];return M[i>>2]=De(c),t(e,r,c,s)},i:function(t,e,r,i){t=Yt[t],e=Ue(e),r=Ft(r),t(e,r,null,i)},d:Qt,h:function(t,e){var r=mr(t,e),i=r[0];e=i.name+"_$"+r.slice(1).map(function(f){return f.name}).join("_")+"$";var s=Rn[e];if(s!==void 0)return s;var c=Array(t-1);return s=pr((f,l,p,h)=>{for(var _=0,I=0;I<t-1;++I)c[I]=r[I+1].readValueFromPointer(h+_),_+=r[I+1].argPackAdvance;for(f=f[l].apply(f,c),I=0;I<t-1;++I)r[I+1].jb&&r[I+1].jb(c[I]);if(!i.xb)return i.toWireType(p,f)}),Rn[e]=s},s:function(t){return t=Ft(t),De(u[t])},M:function(t,e){return t=Ue(t),e=Ue(e),De(t[e])},n:function(t){4<t&&(Se.get(t).Va+=1)},m:function(t){return De(Ft(t))},x:function(){return De({})},p:function(t){var e=Ue(t);bt(e),Qt(t)},j:function(t,e,r){t=Ue(t),e=Ue(e),r=Ue(r),t[e]=r},q:function(t,e){return t=yt(t,"_emval_take_value"),t=t.readValueFromPointer(e),De(t)},a:()=>{nt("")},D:t=>{var e=y.length;if(t>>>=0,2147483648<t)return!1;for(var r=1;4>=r;r*=2){var i=e*(1+.2/r);i=Math.min(i,t+100663296);var s=Math;i=Math.max(t,i);e:{s=s.min.call(s,2147483648,i+(65536-i%65536)%65536)-n.buffer.byteLength+65535>>>16;try{n.grow(s),we();var c=1;break e}catch{}c=void 0}if(c)return!0}return!1},E:(t,e)=>{var r=0;return _n().forEach(function(i,s){var c=e+r;for(s=M[t+4*s>>2]=c,c=0;c<i.length;++c)b[s++>>0]=i.charCodeAt(c);b[s>>0]=0,r+=i.length+1}),0},F:(t,e)=>{var r=_n();M[t>>2]=r.length;var i=0;return r.forEach(function(s){i+=s.length+1}),M[e>>2]=i,0},G:()=>52,B:function(){return 70},H:(t,e,r,i)=>{for(var s=0,c=0;c<r;c++){var f=M[e>>2],l=M[e+4>>2];e+=8;for(var p=0;p<l;p++){var h=y[f+p],_=vr[t];h===0||h===10?((t===1?Ae:Ye)(wn(_,0)),_.length=0):_.push(h)}s+=l}return M[i>>2]=s,0}};(function(){function t(r){if(a=r=r.exports,n=a.Q,we(),pe=a.W,je.unshift(a.R),We--,u.monitorRunDependencies&&u.monitorRunDependencies(We),We==0&&Ke){var i=Ke;Ke=null,i()}return r}var e={a:gr};if(We++,u.monitorRunDependencies&&u.monitorRunDependencies(We),u.instantiateWasm)try{return u.instantiateWasm(e,t)}catch(r){Ye("Module.instantiateWasm callback failed with error: "+r),Z(r)}return Qn(e,function(r){t(r.instance)}).catch(Z),{}})();var ze=t=>(ze=a.S)(t),en=t=>(en=a.T)(t),An=t=>(An=a.U)(t);u.__embind_initialize_bindings=()=>(u.__embind_initialize_bindings=a.V)(),u.dynCall_jiji=(t,e,r,i,s)=>(u.dynCall_jiji=a.X)(t,e,r,i,s);var jt;Ke=function t(){jt||En(),jt||(Ke=t)};function En(){function t(){if(!jt&&(jt=!0,u.calledRun=!0,!d)){if(Nt(je),G(u),u.onRuntimeInitialized&&u.onRuntimeInitialized(),u.postRun)for(typeof u.postRun=="function"&&(u.postRun=[u.postRun]);u.postRun.length;){var e=u.postRun.shift();ct.unshift(e)}Nt(ct)}}if(!(0<We)){if(u.preRun)for(typeof u.preRun=="function"&&(u.preRun=[u.preRun]);u.preRun.length;)At();Nt($e),0<We||(u.setStatus?(u.setStatus("Running..."),setTimeout(function(){setTimeout(function(){u.setStatus("")},1),t()},1)):t())}}if(u.preInit)for(typeof u.preInit=="function"&&(u.preInit=[u.preInit]);0<u.preInit.length;)u.preInit.pop()();return En(),R.ready}})();const $=D},U=>{U.exports=JSON.parse(`{"name":"@rive-app/canvas","version":"2.4.3","description":"Rive's canvas based web api.","main":"rive.js","homepage":"https://rive.app","repository":{"type":"git","url":"https://github.com/rive-app/rive-wasm/tree/master/js"},"keywords":["rive","animation"],"author":"Rive","contributors":["Luigi Rosso <luigi@rive.app> (https://rive.app)","Maxwell Talbot <max@rive.app> (https://rive.app)","Arthur Vivian <arthur@rive.app> (https://rive.app)","Umberto Sonnino <umberto@rive.app> (https://rive.app)","Matthew Sullivan <matt.j.sullivan@gmail.com> (mailto:matt.j.sullivan@gmail.com)"],"license":"MIT","files":["rive.js","rive.js.map","rive.wasm","rive.d.ts","rive_advanced.mjs.d.ts"],"typings":"rive.d.ts","dependencies":{},"browser":{"fs":false,"path":false}}`)},(U,E,T)=>{T.r(E),T.d(E,{BLANK_URL:()=>$.BLANK_URL,registerTouchInteractions:()=>D.registerTouchInteractions,sanitizeUrl:()=>$.sanitizeUrl});var D=T(4),$=T(5)},(U,E,T)=>{T.r(E),T.d(E,{registerTouchInteractions:()=>x});var D=void 0,$=function(R){var u,G;return["touchstart","touchmove"].indexOf(R.type)>-1&&(!((u=R.touches)===null||u===void 0)&&u.length)?(R.preventDefault(),{clientX:R.touches[0].clientX,clientY:R.touches[0].clientY}):R.type==="touchend"&&(!((G=R.changedTouches)===null||G===void 0)&&G.length)?{clientX:R.changedTouches[0].clientX,clientY:R.changedTouches[0].clientY}:{clientX:R.clientX,clientY:R.clientY}},x=function(R){var u=R.canvas,G=R.artboard,Z=R.stateMachines,Q=Z===void 0?[]:Z,q=R.renderer,L=R.rive,j=R.fit,k=R.alignment;if(!u||!Q.length||!q||!L||!G||typeof window>"u")return null;var v=function(W){var ce=W.currentTarget.getBoundingClientRect(),Fe=$(W),qe=Fe.clientX,Ae=Fe.clientY;if(!(!qe&&!Ae)){var Ye=qe-ce.left,o=Ae-ce.top,n=L.computeAlignment(j,k,{minX:0,minY:0,maxX:ce.width,maxY:ce.height},G.bounds),a=new L.Mat2D;n.invert(a);var d=new L.Vec2D(Ye,o),b=L.mapXY(a,d),y=b.x(),A=b.y();switch(b.delete(),a.delete(),d.delete(),n.delete(),W.type){case"touchmove":case"mouseover":case"mouseout":case"mousemove":{for(var X=0,te=Q;X<te.length;X++){var M=te[X];M.pointerMove(y,A)}break}case"touchstart":case"mousedown":{for(var ae=0,ye=Q;ae<ye.length;ae++){var M=ye[ae];M.pointerDown(y,A)}break}case"touchend":case"mouseup":{for(var we=0,pe=Q;we<pe.length;we++){var M=pe[we];M.pointerUp(y,A)}break}}}},g=v.bind(D);return u.addEventListener("mouseover",g),u.addEventListener("mouseout",g),u.addEventListener("mousemove",g),u.addEventListener("mousedown",g),u.addEventListener("mouseup",g),u.addEventListener("touchmove",g),u.addEventListener("touchstart",g),u.addEventListener("touchend",g),function(){u.removeEventListener("mouseover",g),u.removeEventListener("mouseout",g),u.removeEventListener("mousemove",g),u.removeEventListener("mousedown",g),u.removeEventListener("mouseup",g),u.removeEventListener("touchmove",g),u.removeEventListener("touchstart",g),u.removeEventListener("touchend",g)}}},(U,E,T)=>{T.r(E),T.d(E,{BLANK_URL:()=>Z,sanitizeUrl:()=>L});var D=/^([^\w]*)(javascript|data|vbscript)/im,$=/&#(\w+)(^\w|;)?/g,x=/&(newline|tab);/gi,R=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,u=/^.+(:|&colon;)/gim,G=[".","/"],Z="about:blank";function Q(j){return G.indexOf(j[0])>-1}function q(j){var k=j.replace(R,"");return k.replace($,function(v,g){return String.fromCharCode(g)})}function L(j){if(!j)return Z;var k=q(j).replace(x,"").replace(R,"").trim();if(!k)return Z;if(Q(k))return k;var v=k.match(u);if(!v)return k;var g=v[0];return D.test(g)?Z:k}}],S={};function Y(U){var E=S[U];if(E!==void 0)return E.exports;var T=S[U]={exports:{}};return F[U](T,T.exports,Y),T.exports}Y.d=(U,E)=>{for(var T in E)Y.o(E,T)&&!Y.o(U,T)&&Object.defineProperty(U,T,{enumerable:!0,get:E[T]})},Y.o=(U,E)=>Object.prototype.hasOwnProperty.call(U,E),Y.r=U=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(U,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(U,"__esModule",{value:!0})};var J={};return(()=>{Y.r(J),Y.d(J,{Alignment:()=>R,EventType:()=>v,Fit:()=>x,Layout:()=>u,LoopType:()=>g,Rive:()=>Fe,RiveEventType:()=>L,RuntimeLoader:()=>G,StateMachineInput:()=>q,StateMachineInputType:()=>Q,Testing:()=>Ye});var U=Y(1),E=Y(2),T=Y(3),D=function(o,n,a,d){function b(y){return y instanceof a?y:new a(function(A){A(y)})}return new(a||(a=Promise))(function(y,A){function X(ae){try{M(d.next(ae))}catch(ye){A(ye)}}function te(ae){try{M(d.throw(ae))}catch(ye){A(ye)}}function M(ae){ae.done?y(ae.value):b(ae.value).then(X,te)}M((d=d.apply(o,n||[])).next())})},$=function(o,n){var a={label:0,sent:function(){if(y[0]&1)throw y[1];return y[1]},trys:[],ops:[]},d,b,y,A;return A={next:X(0),throw:X(1),return:X(2)},typeof Symbol=="function"&&(A[Symbol.iterator]=function(){return this}),A;function X(M){return function(ae){return te([M,ae])}}function te(M){if(d)throw new TypeError("Generator is already executing.");for(;A&&(A=0,M[0]&&(a=0)),a;)try{if(d=1,b&&(y=M[0]&2?b.return:M[0]?b.throw||((y=b.return)&&y.call(b),0):b.next)&&!(y=y.call(b,M[1])).done)return y;switch(b=0,y&&(M=[M[0]&2,y.value]),M[0]){case 0:case 1:y=M;break;case 4:return a.label++,{value:M[1],done:!1};case 5:a.label++,b=M[1],M=[0];continue;case 7:M=a.ops.pop(),a.trys.pop();continue;default:if(y=a.trys,!(y=y.length>0&&y[y.length-1])&&(M[0]===6||M[0]===2)){a=0;continue}if(M[0]===3&&(!y||M[1]>y[0]&&M[1]<y[3])){a.label=M[1];break}if(M[0]===6&&a.label<y[1]){a.label=y[1],y=M;break}if(y&&a.label<y[2]){a.label=y[2],a.ops.push(M);break}y[2]&&a.ops.pop(),a.trys.pop();continue}M=n.call(o,a)}catch(ae){M=[6,ae],b=0}finally{d=y=0}if(M[0]&5)throw M[1];return{value:M[0]?M[1]:void 0,done:!0}}},x;(function(o){o.Cover="cover",o.Contain="contain",o.Fill="fill",o.FitWidth="fitWidth",o.FitHeight="fitHeight",o.None="none",o.ScaleDown="scaleDown"})(x||(x={}));var R;(function(o){o.Center="center",o.TopLeft="topLeft",o.TopCenter="topCenter",o.TopRight="topRight",o.CenterLeft="centerLeft",o.CenterRight="centerRight",o.BottomLeft="bottomLeft",o.BottomCenter="bottomCenter",o.BottomRight="bottomRight"})(R||(R={}));var u=function(){function o(n){var a,d,b,y,A,X;this.fit=(a=n==null?void 0:n.fit)!==null&&a!==void 0?a:x.Contain,this.alignment=(d=n==null?void 0:n.alignment)!==null&&d!==void 0?d:R.Center,this.minX=(b=n==null?void 0:n.minX)!==null&&b!==void 0?b:0,this.minY=(y=n==null?void 0:n.minY)!==null&&y!==void 0?y:0,this.maxX=(A=n==null?void 0:n.maxX)!==null&&A!==void 0?A:0,this.maxY=(X=n==null?void 0:n.maxY)!==null&&X!==void 0?X:0}return o.new=function(n){var a=n.fit,d=n.alignment,b=n.minX,y=n.minY,A=n.maxX,X=n.maxY;return console.warn("This function is deprecated: please use `new Layout({})` instead"),new o({fit:a,alignment:d,minX:b,minY:y,maxX:A,maxY:X})},o.prototype.copyWith=function(n){var a=n.fit,d=n.alignment,b=n.minX,y=n.minY,A=n.maxX,X=n.maxY;return new o({fit:a??this.fit,alignment:d??this.alignment,minX:b??this.minX,minY:y??this.minY,maxX:A??this.maxX,maxY:X??this.maxY})},o.prototype.runtimeFit=function(n){if(this.cachedRuntimeFit)return this.cachedRuntimeFit;var a;return this.fit===x.Cover?a=n.Fit.cover:this.fit===x.Contain?a=n.Fit.contain:this.fit===x.Fill?a=n.Fit.fill:this.fit===x.FitWidth?a=n.Fit.fitWidth:this.fit===x.FitHeight?a=n.Fit.fitHeight:this.fit===x.ScaleDown?a=n.Fit.scaleDown:a=n.Fit.none,this.cachedRuntimeFit=a,a},o.prototype.runtimeAlignment=function(n){if(this.cachedRuntimeAlignment)return this.cachedRuntimeAlignment;var a;return this.alignment===R.TopLeft?a=n.Alignment.topLeft:this.alignment===R.TopCenter?a=n.Alignment.topCenter:this.alignment===R.TopRight?a=n.Alignment.topRight:this.alignment===R.CenterLeft?a=n.Alignment.centerLeft:this.alignment===R.CenterRight?a=n.Alignment.centerRight:this.alignment===R.BottomLeft?a=n.Alignment.bottomLeft:this.alignment===R.BottomCenter?a=n.Alignment.bottomCenter:this.alignment===R.BottomRight?a=n.Alignment.bottomRight:a=n.Alignment.center,this.cachedRuntimeAlignment=a,a},o}(),G=function(){function o(){}return o.loadRuntime=function(){U.default({locateFile:function(){return o.wasmURL}}).then(function(n){var a;for(o.runtime=n;o.callBackQueue.length>0;)(a=o.callBackQueue.shift())===null||a===void 0||a(o.runtime)}).catch(function(){var n="https://cdn.jsdelivr.net/npm/".concat(E.name,"@").concat(E.version,"/rive.wasm");o.wasmURL.toLowerCase()!==n?(console.warn("Failed to load WASM from ".concat(o.wasmURL,", trying jsdelivr as a backup")),o.setWasmUrl(n),o.loadRuntime()):console.error("Could not load Rive WASM file from unpkg or jsdelivr, network connection may be down, or 	        you may need to call set a new WASM source via RuntimeLoader.setWasmUrl() and call 	        RuntimeLoader.loadRuntime() again")})},o.getInstance=function(n){o.isLoading||(o.isLoading=!0,o.loadRuntime()),o.runtime?n(o.runtime):o.callBackQueue.push(n)},o.awaitInstance=function(){return new Promise(function(n){return o.getInstance(function(a){return n(a)})})},o.setWasmUrl=function(n){o.wasmURL=n},o.isLoading=!1,o.callBackQueue=[],o.wasmURL="https://unpkg.com/".concat(E.name,"@").concat(E.version,"/rive.wasm"),o}(),Z=function(){function o(n,a,d,b){this.animation=n,this.artboard=a,this.playing=b,this.loopCount=0,this.scrubTo=null,this.instance=new d.LinearAnimationInstance(n,a)}return Object.defineProperty(o.prototype,"name",{get:function(){return this.animation.name},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"time",{get:function(){return this.instance.time},set:function(n){this.instance.time=n},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"loopValue",{get:function(){return this.animation.loopValue},enumerable:!1,configurable:!0}),o.prototype.advance=function(n){this.scrubTo===null?this.instance.advance(n):(this.instance.time=0,this.instance.advance(this.scrubTo),this.scrubTo=null)},o.prototype.apply=function(n){this.instance.apply(n)},Object.defineProperty(o.prototype,"needsScrub",{get:function(){return this.scrubTo!==null},enumerable:!1,configurable:!0}),o.prototype.cleanup=function(){this.instance.delete()},o}(),Q;(function(o){o[o.Number=56]="Number",o[o.Trigger=58]="Trigger",o[o.Boolean=59]="Boolean"})(Q||(Q={}));var q=function(){function o(n,a){this.type=n,this.runtimeInput=a}return Object.defineProperty(o.prototype,"name",{get:function(){return this.runtimeInput.name},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"value",{get:function(){return this.runtimeInput.value},set:function(n){this.runtimeInput.value=n},enumerable:!1,configurable:!0}),o.prototype.fire=function(){this.type===Q.Trigger&&this.runtimeInput.fire()},o}(),L;(function(o){o[o.General=128]="General",o[o.OpenUrl=131]="OpenUrl"})(L||(L={}));var j=function(){function o(n,a,d,b){this.stateMachine=n,this.playing=d,this.artboard=b,this.inputs=[],this.instance=new a.StateMachineInstance(n,b),this.initInputs(a)}return Object.defineProperty(o.prototype,"name",{get:function(){return this.stateMachine.name},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"statesChanged",{get:function(){for(var n=[],a=0;a<this.instance.stateChangedCount();a++)n.push(this.instance.stateChangedNameByIndex(a));return n},enumerable:!1,configurable:!0}),o.prototype.advance=function(n){this.instance.advance(n)},o.prototype.reportedEventCount=function(){return this.instance.reportedEventCount()},o.prototype.reportedEventAt=function(n){return this.instance.reportedEventAt(n)},o.prototype.initInputs=function(n){for(var a=0;a<this.instance.inputCount();a++){var d=this.instance.input(a);this.inputs.push(this.mapRuntimeInput(d,n))}},o.prototype.mapRuntimeInput=function(n,a){if(n.type===a.SMIInput.bool)return new q(Q.Boolean,n.asBool());if(n.type===a.SMIInput.number)return new q(Q.Number,n.asNumber());if(n.type===a.SMIInput.trigger)return new q(Q.Trigger,n.asTrigger())},o.prototype.cleanup=function(){this.instance.delete()},o}(),k=function(){function o(n,a,d,b,y){b===void 0&&(b=[]),y===void 0&&(y=[]),this.runtime=n,this.artboard=a,this.eventManager=d,this.animations=b,this.stateMachines=y}return o.prototype.add=function(n,a,d){if(d===void 0&&(d=!0),n=Ae(n),n.length===0)this.animations.forEach(function(pe){return pe.playing=a}),this.stateMachines.forEach(function(pe){return pe.playing=a});else for(var b=this.animations.map(function(pe){return pe.name}),y=this.stateMachines.map(function(pe){return pe.name}),A=0;A<n.length;A++){var X=b.indexOf(n[A]),te=y.indexOf(n[A]);if(X>=0||te>=0)X>=0?this.animations[X].playing=a:this.stateMachines[te].playing=a;else{var M=this.artboard.animationByName(n[A]);if(M){var ae=new Z(M,this.artboard,this.runtime,a);ae.advance(0),ae.apply(1),this.animations.push(ae)}else{var ye=this.artboard.stateMachineByName(n[A]);if(ye){var we=new j(ye,this.runtime,a,this.artboard);this.stateMachines.push(we)}}}}return d&&(a?this.eventManager.fire({type:v.Play,data:this.playing}):this.eventManager.fire({type:v.Pause,data:this.paused})),a?this.playing:this.paused},o.prototype.play=function(n){return this.add(n,!0)},o.prototype.pause=function(n){return this.add(n,!1)},o.prototype.scrub=function(n,a){var d=this.animations.filter(function(b){return n.includes(b.name)});return d.forEach(function(b){return b.scrubTo=a}),d.map(function(b){return b.name})},Object.defineProperty(o.prototype,"playing",{get:function(){return this.animations.filter(function(n){return n.playing}).map(function(n){return n.name}).concat(this.stateMachines.filter(function(n){return n.playing}).map(function(n){return n.name}))},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"paused",{get:function(){return this.animations.filter(function(n){return!n.playing}).map(function(n){return n.name}).concat(this.stateMachines.filter(function(n){return!n.playing}).map(function(n){return n.name}))},enumerable:!1,configurable:!0}),o.prototype.stop=function(n){var a=this;n=Ae(n);var d=[];if(n.length===0)d=this.animations.map(function(A){return A.name}).concat(this.stateMachines.map(function(A){return A.name})),this.animations.forEach(function(A){return A.cleanup()}),this.stateMachines.forEach(function(A){return A.cleanup()}),this.animations.splice(0,this.animations.length),this.stateMachines.splice(0,this.stateMachines.length);else{var b=this.animations.filter(function(A){return n.includes(A.name)});b.forEach(function(A){A.cleanup(),a.animations.splice(a.animations.indexOf(A),1)});var y=this.stateMachines.filter(function(A){return n.includes(A.name)});y.forEach(function(A){A.cleanup(),a.stateMachines.splice(a.stateMachines.indexOf(A),1)}),d=b.map(function(A){return A.name}).concat(y.map(function(A){return A.name}))}return this.eventManager.fire({type:v.Stop,data:d}),d},Object.defineProperty(o.prototype,"isPlaying",{get:function(){return this.animations.reduce(function(n,a){return n||a.playing},!1)||this.stateMachines.reduce(function(n,a){return n||a.playing},!1)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"isPaused",{get:function(){return!this.isPlaying&&(this.animations.length>0||this.stateMachines.length>0)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"isStopped",{get:function(){return this.animations.length===0&&this.stateMachines.length===0},enumerable:!1,configurable:!0}),o.prototype.atLeastOne=function(n,a){a===void 0&&(a=!0);var d;return this.animations.length===0&&this.stateMachines.length===0&&(this.artboard.animationCount()>0?this.add([d=this.artboard.animationByIndex(0).name],n,a):this.artboard.stateMachineCount()>0&&this.add([d=this.artboard.stateMachineByIndex(0).name],n,a)),d},o.prototype.handleLooping=function(){for(var n=0,a=this.animations.filter(function(b){return b.playing});n<a.length;n++){var d=a[n];d.loopValue===0&&d.loopCount?(d.loopCount=0,this.stop(d.name)):d.loopValue===1&&d.loopCount?(this.eventManager.fire({type:v.Loop,data:{animation:d.name,type:g.Loop}}),d.loopCount=0):d.loopValue===2&&d.loopCount>1&&(this.eventManager.fire({type:v.Loop,data:{animation:d.name,type:g.PingPong}}),d.loopCount=0)}},o.prototype.handleStateChanges=function(){for(var n=[],a=0,d=this.stateMachines.filter(function(y){return y.playing});a<d.length;a++){var b=d[a];n.push.apply(n,b.statesChanged)}n.length>0&&this.eventManager.fire({type:v.StateChange,data:n})},o.prototype.handleAdvancing=function(n){this.eventManager.fire({type:v.Advance,data:n})},o}(),v;(function(o){o.Load="load",o.LoadError="loaderror",o.Play="play",o.Pause="pause",o.Stop="stop",o.Loop="loop",o.Draw="draw",o.Advance="advance",o.StateChange="statechange",o.RiveEvent="riveevent"})(v||(v={}));var g;(function(o){o.OneShot="oneshot",o.Loop="loop",o.PingPong="pingpong"})(g||(g={}));var W=function(){function o(n){n===void 0&&(n=[]),this.listeners=n}return o.prototype.getListeners=function(n){return this.listeners.filter(function(a){return a.type===n})},o.prototype.add=function(n){this.listeners.includes(n)||this.listeners.push(n)},o.prototype.remove=function(n){for(var a=0;a<this.listeners.length;a++){var d=this.listeners[a];if(d.type===n.type&&d.callback===n.callback){this.listeners.splice(a,1);break}}},o.prototype.removeAll=function(n){var a=this;n?this.listeners.filter(function(d){return d.type===n}).forEach(function(d){return a.remove(d)}):this.listeners.splice(0,this.listeners.length)},o.prototype.fire=function(n){var a=this.getListeners(n.type);a.forEach(function(d){return d.callback(n)})},o}(),ce=function(){function o(n){this.eventManager=n,this.queue=[]}return o.prototype.add=function(n){this.queue.push(n)},o.prototype.process=function(){for(;this.queue.length>0;){var n=this.queue.shift();n!=null&&n.action&&n.action(),n!=null&&n.event&&this.eventManager.fire(n.event)}},o}(),Fe=function(){function o(n){var a;this.loaded=!1,this.readyForPlaying=!1,this.artboard=null,this.eventCleanup=null,this.shouldDisableRiveListeners=!1,this.automaticallyHandleEvents=!1,this.durations=[],this.frameTimes=[],this.frameCount=0,this.renderSecondTimer=0,this.canvas=n.canvas,this.src=n.src,this.buffer=n.buffer,this.layout=(a=n.layout)!==null&&a!==void 0?a:new u,this.shouldDisableRiveListeners=!!n.shouldDisableRiveListeners,this.automaticallyHandleEvents=!!n.automaticallyHandleEvents,this.eventManager=new W,n.onLoad&&this.on(v.Load,n.onLoad),n.onLoadError&&this.on(v.LoadError,n.onLoadError),n.onPlay&&this.on(v.Play,n.onPlay),n.onPause&&this.on(v.Pause,n.onPause),n.onStop&&this.on(v.Stop,n.onStop),n.onLoop&&this.on(v.Loop,n.onLoop),n.onStateChange&&this.on(v.StateChange,n.onStateChange),n.onAdvance&&this.on(v.Advance,n.onAdvance),n.onload&&!n.onLoad&&this.on(v.Load,n.onload),n.onloaderror&&!n.onLoadError&&this.on(v.LoadError,n.onloaderror),n.onplay&&!n.onPlay&&this.on(v.Play,n.onplay),n.onpause&&!n.onPause&&this.on(v.Pause,n.onpause),n.onstop&&!n.onStop&&this.on(v.Stop,n.onstop),n.onloop&&!n.onLoop&&this.on(v.Loop,n.onloop),n.onstatechange&&!n.onStateChange&&this.on(v.StateChange,n.onstatechange),this.taskQueue=new ce(this.eventManager),this.init({src:this.src,buffer:this.buffer,autoplay:n.autoplay,animations:n.animations,stateMachines:n.stateMachines,artboard:n.artboard,useOffscreenRenderer:n.useOffscreenRenderer})}return o.new=function(n){return console.warn("This function is deprecated: please use `new Rive({})` instead"),new o(n)},o.prototype.init=function(n){var a=this,d=n.src,b=n.buffer,y=n.animations,A=n.stateMachines,X=n.artboard,te=n.autoplay,M=te===void 0?!1:te,ae=n.useOffscreenRenderer,ye=ae===void 0?!1:ae;if(this.src=d,this.buffer=b,!this.src&&!this.buffer)throw new Error(o.missingErrorMessage);var we=Ae(y),pe=Ae(A);this.loaded=!1,this.readyForPlaying=!1,G.awaitInstance().then(function($e){a.runtime=$e,a.renderer=a.runtime.makeRenderer(a.canvas,ye),a.canvas.width||a.canvas.height||a.resizeDrawingSurfaceToCanvas(),a.initData(X,we,pe,M).then(function(){return a.setupRiveListeners()}).catch(function(je){console.error(je)})}).catch(function($e){console.error($e)})},o.prototype.setupRiveListeners=function(){var n=this;if(!this.shouldDisableRiveListeners){var a=(this.animator.stateMachines||[]).filter(function(d){return d.playing&&n.runtime.hasListeners(d.instance)}).map(function(d){return d.instance});this.eventCleanup=(0,T.registerTouchInteractions)({canvas:this.canvas,artboard:this.artboard,stateMachines:a,renderer:this.renderer,rive:this.runtime,fit:this._layout.runtimeFit(this.runtime),alignment:this._layout.runtimeAlignment(this.runtime)})}},o.prototype.initData=function(n,a,d,b){var y;return D(this,void 0,void 0,function(){var A,X,te;return $(this,function(M){switch(M.label){case 0:return this.src?(A=this,[4,qe(this.src)]):[3,2];case 1:A.buffer=M.sent(),M.label=2;case 2:return X=this,[4,this.runtime.load(new Uint8Array(this.buffer))];case 3:return X.file=M.sent(),this.file?(this.initArtboard(n,a,d,b),this.loaded=!0,this.eventManager.fire({type:v.Load,data:(y=this.src)!==null&&y!==void 0?y:"buffer"}),this.readyForPlaying=!0,this.taskQueue.process(),this.drawFrame(),[2,Promise.resolve()]):(te="Problem loading file; may be corrupt!",console.warn(te),this.eventManager.fire({type:v.LoadError,data:te}),[2,Promise.reject(te)])}})})},o.prototype.initArtboard=function(n,a,d,b){var y=n?this.file.artboardByName(n):this.file.defaultArtboard();if(!y){var A="Invalid artboard name or no default artboard";console.warn(A),this.eventManager.fire({type:v.LoadError,data:A});return}if(this.artboard=y,this.artboard.animationCount()<1){var A="Artboard has no animations";throw this.eventManager.fire({type:v.LoadError,data:A}),A}this.animator=new k(this.runtime,this.artboard,this.eventManager);var X;a.length>0||d.length>0?(X=a.concat(d),this.animator.add(X,b,!1)):X=[this.animator.atLeastOne(b,!1)],this.taskQueue.add({event:{type:b?v.Play:v.Pause,data:X}})},o.prototype.drawFrame=function(){this.startRendering()},o.prototype.draw=function(n,a){var d=performance.now();this.frameRequestId=null,this.lastRenderTime||(this.lastRenderTime=n),this.renderSecondTimer+=n-this.lastRenderTime,this.renderSecondTimer>5e3&&(this.renderSecondTimer=0,a==null||a());var b=(n-this.lastRenderTime)/1e3;this.lastRenderTime=n;for(var y=this.animator.animations.filter(function(Ve){return Ve.playing||Ve.needsScrub}).sort(function(Ve){return Ve.needsScrub?-1:1}),A=0,X=y;A<X.length;A++){var te=X[A];te.advance(b),te.instance.didLoop&&(te.loopCount+=1),te.apply(1)}for(var M=this.animator.stateMachines.filter(function(Ve){return Ve.playing}),ae=0,ye=M;ae<ye.length;ae++){var we=ye[ae],pe=we.reportedEventCount();if(pe)for(var $e=0;$e<pe;$e++){var je=we.reportedEventAt($e);if(je)if(je.type===L.OpenUrl){if(this.eventManager.fire({type:v.RiveEvent,data:je}),this.automaticallyHandleEvents){var ct=document.createElement("a"),At=je,We=At.url,Ke=At.target,nt=(0,T.sanitizeUrl)(We);We&&ct.setAttribute("href",nt),Ke&&ct.setAttribute("target",Ke),nt&&nt!==T.BLANK_URL&&ct.click()}}else this.eventManager.fire({type:v.RiveEvent,data:je})}we.advance(b)}this.artboard.advance(b);var Je=this.renderer;Je.clear(),Je.save(),this.alignRenderer(),this.artboard.draw(Je),Je.restore(),Je.flush(),this.animator.handleLooping(),this.animator.handleStateChanges(),this.animator.handleAdvancing(b),this.frameCount++;var Be=performance.now();for(this.frameTimes.push(Be),this.durations.push(Be-d);this.frameTimes[0]<=Be-1e3;)this.frameTimes.shift(),this.durations.shift();this.animator.isPlaying?this.startRendering():this.animator.isPaused?this.lastRenderTime=0:this.animator.isStopped&&(this.lastRenderTime=0)},o.prototype.alignRenderer=function(){var n=this,a=n.renderer,d=n.runtime,b=n._layout,y=n.artboard;a.align(b.runtimeFit(d),b.runtimeAlignment(d),{minX:b.minX,minY:b.minY,maxX:b.maxX,maxY:b.maxY},y.bounds)},Object.defineProperty(o.prototype,"fps",{get:function(){return this.durations.length},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"frameTime",{get:function(){return this.durations.length===0?0:(this.durations.reduce(function(n,a){return n+a},0)/this.durations.length).toFixed(4)},enumerable:!1,configurable:!0}),o.prototype.cleanup=function(){var n,a;this.stopRendering(),this.cleanupInstances(),(n=this.renderer)===null||n===void 0||n.delete(),this.renderer=null,(a=this.file)===null||a===void 0||a.delete(),this.file=null},o.prototype.cleanupInstances=function(){this.eventCleanup!==null&&this.eventCleanup(),this.stop(),this.artboard&&(this.artboard.delete(),this.artboard=null)},o.prototype.retrieveTextRun=function(n){var a;if(!n){console.warn("No text run name provided");return}if(!this.artboard){console.warn("Tried to access text run, but the Artboard is null");return}var d=this.artboard.textRun(n);if(!d){console.warn("Could not access a text run with name '".concat(n,"' in the '").concat((a=this.artboard)===null||a===void 0?void 0:a.name,"' Artboard. Note that you must rename a text run node in the Rive editor to make it queryable at runtime."));return}return d},o.prototype.getTextRunValue=function(n){var a=this.retrieveTextRun(n);return a?a.text:void 0},o.prototype.setTextRunValue=function(n,a){var d=this.retrieveTextRun(n);d&&(d.text=a)},o.prototype.play=function(n,a){var d=this;if(n=Ae(n),!this.readyForPlaying){this.taskQueue.add({action:function(){return d.play(n,a)}});return}this.animator.play(n),this.eventCleanup&&this.eventCleanup(),this.setupRiveListeners(),this.startRendering()},o.prototype.pause=function(n){var a=this;if(n=Ae(n),!this.readyForPlaying){this.taskQueue.add({action:function(){return a.pause(n)}});return}this.eventCleanup&&this.eventCleanup(),this.animator.pause(n)},o.prototype.scrub=function(n,a){var d=this;if(n=Ae(n),!this.readyForPlaying){this.taskQueue.add({action:function(){return d.scrub(n,a)}});return}this.animator.scrub(n,a||0),this.drawFrame()},o.prototype.stop=function(n){var a=this;if(n=Ae(n),!this.readyForPlaying){this.taskQueue.add({action:function(){return a.stop(n)}});return}this.animator.stop(n),this.eventCleanup&&this.eventCleanup()},o.prototype.reset=function(n){var a,d=n==null?void 0:n.artboard,b=Ae(n==null?void 0:n.animations),y=Ae(n==null?void 0:n.stateMachines),A=(a=n==null?void 0:n.autoplay)!==null&&a!==void 0?a:!1;this.cleanupInstances(),this.initArtboard(d,b,y,A),this.taskQueue.process()},o.prototype.load=function(n){this.stop(),this.init(n)},Object.defineProperty(o.prototype,"layout",{get:function(){return this._layout},set:function(n){this._layout=n,(!n.maxX||!n.maxY)&&this.resizeToCanvas(),this.loaded&&!this.animator.isPlaying&&this.drawFrame()},enumerable:!1,configurable:!0}),o.prototype.resizeToCanvas=function(){this._layout=this.layout.copyWith({minX:0,minY:0,maxX:this.canvas.width,maxY:this.canvas.height})},o.prototype.resizeDrawingSurfaceToCanvas=function(){if(this.canvas instanceof HTMLCanvasElement&&window){var n=this.canvas.getBoundingClientRect(),a=n.width,d=n.height,b=window.devicePixelRatio||1;this.canvas.width=b*a,this.canvas.height=b*d,this.startRendering(),this.resizeToCanvas()}},Object.defineProperty(o.prototype,"source",{get:function(){return this.src},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"activeArtboard",{get:function(){return this.artboard?this.artboard.name:""},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"animationNames",{get:function(){if(!this.loaded)return[];for(var n=[],a=0;a<this.artboard.animationCount();a++)n.push(this.artboard.animationByIndex(a).name);return n},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"stateMachineNames",{get:function(){if(!this.loaded)return[];for(var n=[],a=0;a<this.artboard.stateMachineCount();a++)n.push(this.artboard.stateMachineByIndex(a).name);return n},enumerable:!1,configurable:!0}),o.prototype.stateMachineInputs=function(n){if(this.loaded){var a=this.animator.stateMachines.find(function(d){return d.name===n});return a==null?void 0:a.inputs}},Object.defineProperty(o.prototype,"playingStateMachineNames",{get:function(){return this.loaded?this.animator.stateMachines.filter(function(n){return n.playing}).map(function(n){return n.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"playingAnimationNames",{get:function(){return this.loaded?this.animator.animations.filter(function(n){return n.playing}).map(function(n){return n.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"pausedAnimationNames",{get:function(){return this.loaded?this.animator.animations.filter(function(n){return!n.playing}).map(function(n){return n.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"pausedStateMachineNames",{get:function(){return this.loaded?this.animator.stateMachines.filter(function(n){return!n.playing}).map(function(n){return n.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"isPlaying",{get:function(){return this.animator.isPlaying},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"isPaused",{get:function(){return this.animator.isPaused},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"isStopped",{get:function(){return this.animator.isStopped},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"bounds",{get:function(){return this.artboard?this.artboard.bounds:void 0},enumerable:!1,configurable:!0}),o.prototype.on=function(n,a){this.eventManager.add({type:n,callback:a})},o.prototype.off=function(n,a){this.eventManager.remove({type:n,callback:a})},o.prototype.unsubscribe=function(n,a){console.warn("This function is deprecated: please use `off()` instead."),this.off(n,a)},o.prototype.removeAllRiveEventListeners=function(n){this.eventManager.removeAll(n)},o.prototype.unsubscribeAll=function(n){console.warn("This function is deprecated: please use `removeAllRiveEventListeners()` instead."),this.removeAllRiveEventListeners(n)},o.prototype.stopRendering=function(){this.loaded&&this.frameRequestId&&(this.runtime.cancelAnimationFrame?this.runtime.cancelAnimationFrame(this.frameRequestId):cancelAnimationFrame(this.frameRequestId),this.frameRequestId=null)},o.prototype.startRendering=function(){this.loaded&&this.artboard&&!this.frameRequestId&&(this.runtime.requestAnimationFrame?this.frameRequestId=this.runtime.requestAnimationFrame(this.draw.bind(this)):this.frameRequestId=requestAnimationFrame(this.draw.bind(this)))},o.prototype.enableFPSCounter=function(n){this.runtime.enableFPSCounter(n)},o.prototype.disableFPSCounter=function(){this.runtime.disableFPSCounter()},Object.defineProperty(o.prototype,"contents",{get:function(){if(this.loaded){for(var n={artboards:[]},a=0;a<this.file.artboardCount();a++){for(var d=this.file.artboardByIndex(a),b={name:d.name,animations:[],stateMachines:[]},y=0;y<d.animationCount();y++){var A=d.animationByIndex(y);b.animations.push(A.name)}for(var X=0;X<d.stateMachineCount();X++){for(var te=d.stateMachineByIndex(X),M=te.name,ae=new this.runtime.StateMachineInstance(te,d),ye=[],we=0;we<ae.inputCount();we++){var pe=ae.input(we);ye.push({name:pe.name,type:pe.type})}b.stateMachines.push({name:M,inputs:ye})}n.artboards.push(b)}return n}},enumerable:!1,configurable:!0}),o.missingErrorMessage="Rive source file or data buffer required",o}(),qe=function(o){return D(void 0,void 0,void 0,function(){var n,a,d;return $(this,function(b){switch(b.label){case 0:return n=new Request(o),[4,fetch(n)];case 1:return a=b.sent(),[4,a.arrayBuffer()];case 2:return d=b.sent(),[2,d]}})})},Ae=function(o){return typeof o=="string"?[o]:o instanceof Array?o:[]},Ye={EventManager:W,TaskQueueManager:ce}})(),J})())})(Zn);var ai=Zn.exports;function Fn(m,C,F){const S=m.slice();return S[15]=C[F],S[17]=F,S}function Yn(m){let C,F,S=m[3].title+"",Y,J,U=In(m[3].values),E=[];for(let T=0;T<U.length;T+=1)E[T]=$n(Fn(m,U,T));return{c(){C=Re("div"),F=Re("h1"),Y=st(S),J=Le();for(let T=0;T<E.length;T+=1)E[T].c();this.h()},l(T){C=_e(T,"DIV",{style:!0});var D=Ee(C);F=_e(D,"H1",{class:!0});var $=Ee(F);Y=ut($,S),$.forEach(fe),J=Ie(D);for(let x=0;x<E.length;x+=1)E[x].l(D);D.forEach(fe),this.h()},h(){se(F,"class","text-lg font-semibold text-center py-3 text-white"),se(C,"style","position: absolute; width: 50%; padding: 20px; top : 270px;")},m(T,D){xe(T,C,D),de(C,F),de(F,Y),de(C,J);for(let $=0;$<E.length;$+=1)E[$]&&E[$].m(C,null)},p(T,D){if(D&8&&S!==(S=T[3].title+"")&&mt(Y,S),D&8){U=In(T[3].values);let $;for($=0;$<U.length;$+=1){const x=Fn(T,U,$);E[$]?E[$].p(x,D):(E[$]=$n(x),E[$].c(),E[$].m(C,null))}for(;$<E.length;$+=1)E[$].d(1);E.length=U.length}},d(T){T&&fe(C),Ar(E,T)}}}function $n(m){let C,F,S,Y=m[15].name+"",J,U,E,T,D,$;return{c(){C=Re("div"),F=Re("div"),S=Re("p"),J=st(Y),U=Le(),E=Re("img"),$=Le(),this.h()},l(x){C=_e(x,"DIV",{class:!0});var R=Ee(C);F=_e(R,"DIV",{class:!0});var u=Ee(F);S=_e(u,"P",{class:!0,style:!0});var G=Ee(S);J=ut(G,Y),U=Ie(G),E=_e(G,"IMG",{alt:!0,src:!0,class:!0}),G.forEach(fe),u.forEach(fe),$=Ie(R),R.forEach(fe),this.h()},h(){se(E,"alt",T=m[15].name),Pt(E.src,D=m[15].img)||se(E,"src",D),se(E,"class","w-8 h-8"),se(S,"class","text-black flex items-center"),he(S,"font-size","12px"),he(S,"position","absolute"),he(S,"z-index","999"),se(F,"class","relative h-6 flex items-center justify-center"),se(C,"class","bg-white rounded-xl shadow-sm overflow-hidden p-1 m-3")},m(x,R){xe(x,C,R),de(C,F),de(F,S),de(S,J),de(S,U),de(S,E),de(C,$)},p(x,R){R&8&&Y!==(Y=x[15].name+"")&&mt(J,Y),R&8&&T!==(T=x[15].name)&&se(E,"alt",T),R&8&&!Pt(E.src,D=x[15].img)&&se(E,"src",D)},d(x){x&&fe(C)}}}function jn(m){let C,F,S,Y,J,U,E,T=m[0].nickname+"",D,$,x,R=m[0].message+"",u,G,Z,Q;return{c(){C=Re("div"),F=Re("span"),S=Re("img"),J=Le(),U=Re("div"),E=Re("strong"),D=st(T),$=Le(),x=Re("p"),u=st(R),this.h()},l(q){C=_e(q,"DIV",{style:!0,class:!0,role:!0});var L=Ee(C);F=_e(L,"SPAN",{class:!0});var j=Ee(F);S=_e(j,"IMG",{class:!0,alt:!0,src:!0}),j.forEach(fe),J=Ie(L),U=_e(L,"DIV",{});var k=Ee(U);E=_e(k,"STRONG",{class:!0,style:!0});var v=Ee(E);D=ut(v,T),v.forEach(fe),$=Ie(k),x=_e(k,"P",{style:!0,class:!0});var g=Ee(x);u=ut(g,R),g.forEach(fe),k.forEach(fe),L.forEach(fe),this.h()},h(){se(S,"class","w-auto h-16"),se(S,"alt","user"),Pt(S.src,Y=m[0].profilePictureUrl)||se(S,"src",Y),se(F,"class","mr-2"),se(E,"class","text-bold text-xs"),he(E,"color",m[0].textColor),he(x,"color",m[0].textColor),se(x,"class","p-2 text-xs"),he(C,"bottom","227px"),he(C,"position","absolute"),he(C,"background-color",m[0].color),he(C,"padding","13px"),he(C,"z-index","999"),he(C,"right","0"),he(C,"width","80%"),se(C,"class","inline-flex w-full items-center rounded-lg px-6 py-5 text-base"),se(C,"role","alert")},m(q,L){xe(q,C,L),de(C,F),de(F,S),de(C,J),de(C,U),de(U,E),de(E,D),de(U,$),de(U,x),de(x,u),Q=!0},p(q,L){(!Q||L&1&&!Pt(S.src,Y=q[0].profilePictureUrl))&&se(S,"src",Y),(!Q||L&1)&&T!==(T=q[0].nickname+"")&&mt(D,T),(!Q||L&1)&&he(E,"color",q[0].textColor),(!Q||L&1)&&R!==(R=q[0].message+"")&&mt(u,R),(!Q||L&1)&&he(x,"color",q[0].textColor),(!Q||L&1)&&he(C,"background-color",q[0].color)},i(q){Q||(q&&Cr(()=>{Q&&(Z&&Z.end(1),G=Er(C,Ur,{y:200,duration:500}),G.start())}),Q=!0)},o(q){G&&G.invalidate(),q&&(Z=Tr(C,Or,{})),Q=!1},d(q){q&&fe(C),q&&Z&&Z.end()}}}function oi(m){let C,F,S,Y,J,U,E,T,D,$,x="Meta de Moedas:",R,u,G,Z,Q,q,L,j='<canvas id="canvas" width="800" height="350"></canvas>',k=m[3].type==="progress"&&Yn(m),v=m[0].nickname&&jn(m);return{c(){k&&k.c(),C=Le(),F=Le(),S=Re("div"),Y=Le(),v&&v.c(),J=Le(),U=Re("iframe"),T=Le(),D=Re("div"),$=Re("p"),$.textContent=x,R=Le(),u=Re("p"),G=st(m[2]),Z=st(" / "),Q=st(m[1]),q=Le(),L=Re("div"),L.innerHTML=j,this.h()},l(g){k&&k.l(g),C=Ie(g),F=Ie(g),S=_e(g,"DIV",{style:!0}),Ee(S).forEach(fe),Y=Ie(g),v&&v.l(g),J=Ie(g),U=_e(g,"IFRAME",{src:!0,width:!0,height:!0,frameborder:!0,scrolling:!0,allow:!0,title:!0}),Ee(U).forEach(fe),T=Ie(g),D=_e(g,"DIV",{class:!0,style:!0});var W=Ee(D);$=_e(W,"P",{class:!0,"data-svelte-h":!0}),Ln($)!=="svelte-jpr79n"&&($.textContent=x),R=Ie(W),u=_e(W,"P",{class:!0});var ce=Ee(u);G=ut(ce,m[2]),Z=ut(ce," / "),Q=ut(ce,m[1]),ce.forEach(fe),W.forEach(fe),q=Ie(g),L=_e(g,"DIV",{class:!0,"data-svelte-h":!0}),Ln(L)!=="svelte-8entf6"&&(L.innerHTML=j),this.h()},h(){he(S,"position","absolute"),he(S,"width","194px"),he(S,"height","100px"),he(S,"z-index","99"),he(S,"background-color","#16171b"),he(S,"bottom","0px"),he(S,"right","0"),Pt(U.src,E="https://player.kick.com/leaogameplay?autoplay=true")||se(U,"src",E),se(U,"width","500"),se(U,"height","400"),se(U,"frameborder","no"),se(U,"scrolling","no"),se(U,"allow","fullscreen"),se(U,"title","Live feed"),se($,"class","text-white text-center text-bold"),se(u,"class","text-white text-center text-bold text-xl mt-4"),se(D,"class","bg-purple rounded-xl shadow-sm overflow-hidden p-1"),he(D,"height","80px"),he(D,"left","0%"),he(D,"width","100%"),se(L,"class","container wrapper")},m(g,W){k&&k.m(g,W),xe(g,C,W),xe(g,F,W),xe(g,S,W),xe(g,Y,W),v&&v.m(g,W),xe(g,J,W),xe(g,U,W),xe(g,T,W),xe(g,D,W),de(D,$),de(D,R),de(D,u),de(u,G),de(u,Z),de(u,Q),xe(g,q,W),xe(g,L,W)},p(g,[W]){g[3].type==="progress"?k?k.p(g,W):(k=Yn(g),k.c(),k.m(C.parentNode,C)):k&&(k.d(1),k=null),g[0].nickname?v?(v.p(g,W),W&1&&Dt(v,1)):(v=jn(g),v.c(),Dt(v,1),v.m(J.parentNode,J)):v&&(_r(),nn(v,1,1,()=>{v=null}),Pr()),W&4&&mt(G,g[2]),W&2&&mt(Q,g[1])},i(g){Dt(v)},o(g){nn(v)},d(g){g&&(fe(C),fe(F),fe(S),fe(Y),fe(J),fe(U),fe(T),fe(D),fe(q),fe(L)),k&&k.d(g),v&&v.d(g)}}}const si="./models/default.riv",Wn=100,Bn=90,ot=80,Dn=70,Nn=60;function ui(m,C,F){let{file:S=si}=C;const Y=Un();let J=null,U={nickname:"",message:"",profilePictureUrl:"",message:"",color:""},E={audio:"",nickname:"",giftPictureUrl:"",profilePictureUrl:""};const T=Un();let D=null,$=null;const x={NewGift:Z=>{Z.value=1,setTimeout(()=>{Z.value=0},6e3)},StopGift:Z=>{Z.value=0}};wr(()=>{clearInterval(D),clearInterval($)});let R=100,u=0,G={type:"",values:[]};return Vn(()=>{localStorage.setItem("wakeUpSoundCoinGoal",100),F(1,R=parseInt(localStorage.getItem("wakeUpSoundCoinGoal")||"100")||0),F(2,u=parseInt(localStorage.getItem("wakeUpSoundCoin")||"0")||0),socket.on("NewAudio",Z=>{console.log(Z),Y.push({audio:Z,nickname:"Sistema",profilePictureUrl:"",priority:ot})}),document.body.onclick=()=>{localStorage.getItem("lastAudioTime"),document.body.onclick=()=>{Y.push({audio:"ad",nickname:"Sistema",profilePictureUrl:""})};let Z=new ai.Rive({src:S,canvas:document.getElementById("canvas"),stateMachines:"GirlState",autoplay:!0});D=setInterval(()=>{if(Y.length()>0&&(!J||J.ended)){const L=Y.pop();let j=L.audio;if(L.giftPictureUrl&&(E=L,E.lastAudio=j),Q("NewGift"),typeof j=="string"){j=ri(j)({giftId:j,lastAudio:E.audio}),J=new Audio(j),J.onloadedmetadata=()=>{setTimeout(()=>{Q("StopGift")},J.duration*1e3)},J.volume=.7,J.play();return}console.log(j);const k=new AudioContext;k.decodeAudioData(j.bytes,v=>{const g=k.createBufferSource();g.buffer=v,g.connect(k.destination),g.loop=!1,g.start(0),setTimeout(()=>{Q("StopGift")},j.duration*1e3)})}},1e3);const Q=L=>{const k=Z.stateMachineInputs("GirlState").find(v=>v.name==="New Gift");k&&x[L](k)};socket.on("NewGift",({giftPictureUrl:L,audio:j,nickname:k,profilePictureUrl:v,coins:g,count:W})=>{F(2,u+=g),u>=R&&(Y.push({audio:"wakeUp",nickname:"Sistema",profilePictureUrl:"",priority:Wn}),F(2,u=0),F(1,R=R/2),R<30&&F(1,R=30),localStorage.setItem("wakeUpSoundCoinGoal",R)),localStorage.setItem("wakeUpSoundCoin",u);for(let ce=0;ce<W;ce++)Y.push({giftPictureUrl:L,nickname:k,profilePictureUrl:v,audio:j,priority:Bn})}),socket.on("NewMessage",L=>{const{profilePictureUrl:j,message:k,nickname:v,color:g,textColor:W}=L;console.log(L),T.push({profilePictureUrl:j,nickname:v,message:k,color:g,textColor:W,priority:Bn})});const q={};socket.on("NewJoin",L=>{const{audio:j,profilePictureUrl:k,nickname:v,color:g,textColor:W}=L;T.push({profilePictureUrl:k,nickname:v,message:"entrou na live!",color:g,textColor:W,priority:Dn}),!q[v]&&(q[v]=!0,Y.push({audio:j||"join",nickname:v,profilePictureUrl:k,priority:Dn}))}),socket.on("NewLike",L=>{const{audio:j,profilePictureUrl:k,nickname:v,totalLikeCount:g,likeCount:W,color:ce,textColor:Fe}=L;T.push({profilePictureUrl:k,nickname:v,message:`deu ${W} likes! Total: ${g}`,color:ce,textColor:Fe,priority:Nn}),Y.push({audio:j||"like",nickname:v,profilePictureUrl:k,priority:Nn})}),socket.on("NewFollower",L=>{const{audio:j,profilePictureUrl:k,nickname:v,color:g,textColor:W}=L;T.push({profilePictureUrl:k,nickname:v,message:"comeou a seguir!",color:g,textColor:W,priority:ot}),Y.push({audio:j||"follow",nickname:v,profilePictureUrl:k,priority:ot})}),socket.on("NewSubscriber",L=>{const{audio:j,profilePictureUrl:k,nickname:v,color:g,textColor:W}=L;T.push({profilePictureUrl:k,nickname:v,message:"se juntou ao bando!",color:g,textColor:W,priority:ot}),Y.push({audio:j||"subscribe",nickname:v,profilePictureUrl:k,priority:ot})}),socket.on("NewShare",L=>{const{audio:j,profilePictureUrl:k,nickname:v,color:g,textColor:W}=L;T.push({profilePictureUrl:k,nickname:v,message:"compartilhou a live!",color:g,textColor:W,priority:ot}),Y.push({audio:j||"share",nickname:v,profilePictureUrl:k,priority:ot})}),socket.on("ViewerCount",L=>{const{viewerCount:j}=L;T.push({profilePictureUrl:"",nickname:"",message:`Total de espectadores: ${j}`,color:"black",textColor:"white"})}),socket.on("RemoveHtmlElement",L=>{const{id:j}=L,k=document.getElementById(j);k&&k.remove()}),socket.on("NewHtmlElement",L=>{const{id:j,html:k}=L,v=document.getElementById(j);v&&v.remove(),document.body.insertAdjacentHTML("beforeend",k)}),socket.on("NewMeta",L=>{const{title:j,data:k,audio:v}=L,{type:g,values:W}=k;F(3,G={type:g,values:W,title:j,audio:v}),localStorage.setItem("currentMeta",JSON.stringify(G)),Y.push({audio:v||"meta",nickname:"Sistema",profilePictureUrl:"",priority:Wn})}),$=setInterval(()=>{T.length()>0?F(0,U=T.pop()):F(0,U={nickname:"",message:"",profilePictureUrl:"",message:"",color:""})},4e3)}}),m.$$set=Z=>{"file"in Z&&F(4,S=Z.file)},[U,R,u,G,S]}class ci extends Gn{constructor(C){super(),Hn(this,C,ui,oi,Xn,{file:4})}}function li(m){let C,F;return C=new ci({}),{c(){Mr(C.$$.fragment)},l(S){xr(C.$$.fragment,S)},m(S,Y){Sr(C,S,Y),F=!0},p:Rr,i(S){F||(Dt(C.$$.fragment,S),F=!0)},o(S){nn(C.$$.fragment,S),F=!1},d(S){kr(C,S)}}}function fi(m){return Vn(()=>{"serviceWorker"in navigator&&navigator.serviceWorker.register("/sw.js").then(C=>{console.log("Service Worker registered: "+C)}).catch(C=>{console.log("Error registering the Service Worker: "+C)})}),[]}class mi extends Gn{constructor(C){super(),Hn(this,C,fi,li,Xn,{})}}export{mi as component,pi as universal};
