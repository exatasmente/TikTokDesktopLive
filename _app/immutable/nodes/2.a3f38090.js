import{i as _r,f as In,s as zn,h as Rr,o as Gn,j as vt,k as Pr,n as Er}from"../chunks/scheduler.fe7ec8f5.js";import{S as Hn,i as Zn,s as Se,g as ge,m as Ke,c as Le,h as ye,j as Me,f as oe,y as On,n as Je,l as J,k as re,a as ke,x as ce,d as Bt,p as Ar,t as an,b as Tr,o as it,z as Qn,A as Mr,B as xr,r as kr,u as Sr,v as Lr,w as Ir}from"../chunks/index.2d7f3b1d.js";function Nt(p){return(p==null?void 0:p.length)!==void 0?p:Array.from(p)}const Or=!0,vi=Object.freeze(Object.defineProperty({__proto__:null,prerender:Or},Symbol.toStringTag,{value:"Module"}));function Ur(p){const v=p-1;return v*v*v+1}function Fr(p,{delay:v=0,duration:k=400,easing:S=_r}={}){const $=+getComputedStyle(p).opacity;return{delay:v,duration:k,easing:S,css:X=>`opacity: ${X*$}`}}function Yr(p,{delay:v=0,duration:k=400,easing:S=Ur,x:$=0,y:X=0,opacity:O=0}={}){const T=getComputedStyle(p),_=+T.opacity,H=T.transform==="none"?"":T.transform,L=_*(1-O),[x,w]=In($),[u,j]=In(X);return{delay:v,duration:k,easing:S,css:(W,D)=>`
			transform: ${H} translate(${(1-W)*x}${w}, ${(1-W)*u}${j});
			opacity: ${_-L*D}`}}const Ye=()=>{const p=["audio/ad.mp3","audio/ad1.mp3"];return p[Math.floor(Math.random()*p.length)]},Dt=()=>{const p=["audio/rosa.mp3","audio/rosa.mp3","audio/rosa1.mp3","audio/rosa.mp3","audio/flowers_1.mp3","audio/rosa.mp3","audio/rosa.mp3","audio/rosa.mp3","audio/rosa.mp3"];return p[Math.floor(Math.random()*p.length)]},jr=()=>{const p=["audio/tiktok.mp3","audio/tiktok_1.mp3","audio/tiktok_2.mp3"];return p[Math.floor(Math.random()*p.length)]},mt=()=>"audio/random_1.mp3",$r=()=>"audio/random_1.mp3",Dr=()=>{const p=["audio/coffe_3.mp3","audio/coffee.mp3","audio/coffee+2.mp3","audio/coffe_1.mp3"];return p[Math.floor(Math.random()*p.length)]},Wr=()=>"audio/numberone_1.mp3",Br=()=>Ye(),Wt=({giftId:p})=>{if(p=="6416"){const v=["audio/cookie_1.mp3","audio/cookie_2.mp3","audio/cookie_3.mp3","audio/cookie.mp3"];return v[Math.floor(Math.random()*v.length)]}return Ye()},Nr=()=>Ye(),Xr=({lastAudio:p})=>{if(p==="audio/rosa.mp3"){const k=["audio/flowers_and_chocolate_1.mp3","audio/flowers_and_chocolate.mp3"];return k[Math.floor(Math.random()*k.length)]}const v=["audio/chocolate.mp3","audio/chocolate1.mp3"];return v[Math.floor(Math.random()*v.length)]},Vr=()=>"audio/powerhug.mp3",zr=()=>Ye(),Gr=()=>"audio/fire.mp3",Hr=()=>Ye(),Zr=()=>Ye(),Qr=()=>Ye(),qr=()=>"audio/amei.mp3",Kr=()=>Ye(),Un=()=>{const p=["audio/asmr_1.mp3","audio/asmr_2.mp3"];return p[Math.floor(Math.random()*p.length)]},Jr=()=>Ye(),Pt=()=>Ye(),ei=()=>{const p=["audio/like_1.mp3","audio/like_2.mp3","audio/like_3.mp3"];return p[Math.floor(Math.random()*p.length)]},ti=()=>{const p=["audio/subscribe_1.mp3","audio/subscribe_2.mp3","audio/subscribe_3.mp3"];return p[Math.floor(Math.random()*p.length)]},ni=()=>"audio/join.mp3",ri=()=>{const p=["audio/wakeUp.mp3","audio/wakeUp1.mp3","audio/wakeUp2.mp3","audio/wakeUp3.mp3"];return p[Math.floor(Math.random()*p.length)]},ii={like:ei,subscribe:ti,wakeUp:ri,join:ni,5269:jr,5327:mt,5328:$r,5333:Dr,5338:Br,5460:Wr,5487:mt,5494:Ye,5547:Wt,5566:mt,5585:Nr,5586:mt,5630:Xr,5631:Vr,5655:Dt,5658:zr,5719:Gr,5780:Dt,5867:Hr,5879:Wt,5886:Zr,5983:Qr,5984:qr,6034:Dt,6097:Kr,6113:Wt,6148:Dt,6185:Un,6240:Un,6246:Jr,6247:mt,6265:Pt,6267:Pt,6271:Pt,6348:Pt,6369:Pt,6416:Wt,7934:mt},ai=p=>ii[p]||Ye,Fn=()=>{const p=[],v=x=>2*x+1,k=x=>2*x+2,S=x=>Math.floor((x-1)/2),$=(x,w)=>{const u=p[x];p[x]=p[w],p[w]=u},X=x=>{p.push(x);let w=p.length-1;for(;w>0&&p[S(w)].priority<p[w].priority;)$(w,S(w)),w=S(w)},O=x=>{const w=v(x),u=k(x);let j=x;w<p.length&&p[w].priority>p[j].priority&&(j=w),u<p.length&&p[u].priority>p[j].priority&&(j=u),j!==x&&($(x,j),O(j))},T=()=>{if(p.length===0)return null;const x=p[0];return p[0]=p[p.length-1],p.pop(),O(0),x};return{push:x=>{X(x)},pop:()=>T(),peek:()=>p[0],length:()=>p.length,toArray:()=>p}};var oi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},qn={exports:{}};(function(p,v){(function(S,$){p.exports=$()})(oi,()=>(()=>{var k=[,(O,T,_)=>{_.r(T),_.d(T,{default:()=>L});var H=(()=>{var x=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return function(w={}){var u=w,j,W;u.ready=new Promise((t,e)=>{j=t,W=e});function D(){function t(f){const c=i;r=e=0,i=new Map,c.forEach(m=>{try{m(f)}catch(h){console.error(h)}}),this.Sa(),s&&s.pb()}let e=0,r=0,i=new Map,s=null,l=null;this.requestAnimationFrame=function(f){e||(e=requestAnimationFrame(t.bind(this)));const c=++r;return i.set(c,f),c},this.cancelAnimationFrame=function(f){i.delete(f),e&&i.size==0&&(cancelAnimationFrame(e),e=0)},this.nb=function(f){l&&(document.body.remove(l),l=null),f||(l=document.createElement("div"),l.style.backgroundColor="black",l.style.position="fixed",l.style.right=0,l.style.top=0,l.style.color="white",l.style.padding="4px",l.innerHTML="RIVE FPS",f=function(c){l.innerHTML="RIVE FPS "+c.toFixed(1)},document.body.appendChild(l)),s=new function(){let c=0,m=0;this.pb=function(){var h=performance.now();m?(++c,h-=m,1e3<h&&(f(1e3*c/h),c=m=0)):(m=h,c=0)}}},this.kb=function(){l&&(document.body.remove(l),l=null),s=null},this.Sa=function(){}}function te(t){console.assert(!0);const e=new Map;let r=-1/0;this.push=function(i){return i=i+((1<<t)-1)>>t,e.has(i)&&clearTimeout(e.get(i)),e.set(i,setTimeout(function(){e.delete(i),e.length==0?r=-1/0:i==r&&(r=Math.max(...e.keys()),console.assert(r<i))},1e3)),r=Math.max(i,r),r<<t}}const pe="createConicGradient createImageData createLinearGradient createPattern createRadialGradient getContextAttributes getImageData getLineDash getTransform isContextLost isPointInPath isPointInStroke measureText".split(" "),fe=new function(){function t(){if(!e){let me=function(Ce,Z,ee){if(Z=E.createShader(Z),E.shaderSource(Z,ee),E.compileShader(Z),ee=E.getShaderInfoLog(Z),0<ee.length)throw ee;E.attachShader(Ce,Z)};var Y=document.createElement("canvas"),z={alpha:1,depth:0,stencil:0,antialias:0,premultipliedAlpha:1,preserveDrawingBuffer:0,preferLowPowerToHighPerformance:0,failIfMajorPerformanceCaveat:0,enableExtensionsByDefault:1,explicitSwapControl:1,renderViaOffscreenBackBuffer:1};let E=Y.getContext("webgl2",z);if(E)r=2;else if(E=Y.getContext("webgl",z))r=1;else return console.log("No WebGL support. Image mesh will not be drawn."),!1;if(i=Math.min(E.getParameter(E.MAX_RENDERBUFFER_SIZE),E.getParameter(E.MAX_TEXTURE_SIZE)),Y=E.createProgram(),me(Y,E.VERTEX_SHADER,`attribute vec2 vertex;
                attribute vec2 uv;
                uniform vec4 mat;
                uniform vec2 translate;
                varying vec2 st;
                void main() {
                    st = uv;
                    gl_Position = vec4(mat2(mat) * vertex + translate, 0, 1);
                }`),me(Y,E.FRAGMENT_SHADER,`precision highp float;
                uniform sampler2D image;
                varying vec2 st;
                void main() {
                    gl_FragColor = texture2D(image, st);
                }`),E.bindAttribLocation(Y,0,"vertex"),E.bindAttribLocation(Y,1,"uv"),E.linkProgram(Y),z=E.getProgramInfoLog(Y),0<z.trim().length)throw z;s=E.getUniformLocation(Y,"mat"),l=E.getUniformLocation(Y,"translate"),E.useProgram(Y),E.bindBuffer(E.ARRAY_BUFFER,E.createBuffer()),E.enableVertexAttribArray(0),E.enableVertexAttribArray(1),E.bindBuffer(E.ELEMENT_ARRAY_BUFFER,E.createBuffer()),E.uniform1i(E.getUniformLocation(Y,"image"),0),E.pixelStorei(E.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),e=E}return!0}let e=null,r=0,i=0,s=null,l=null,f=0,c=0;this.yb=function(){return t(),i},this.ib=function(Y){if(!t())return null;const z=e.createTexture();return e.bindTexture(e.TEXTURE_2D,z),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,Y),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),r==2?(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR_MIPMAP_LINEAR),e.generateMipmap(e.TEXTURE_2D)):e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),z};const m=new te(8),h=new te(8),R=new te(10),F=new te(10);this.mb=function(Y,z,E,me,Ce){if(t()){var Z=m.push(Y),ee=h.push(z);(e.canvas.width!=Z||e.canvas.height!=ee)&&(e.canvas.width=Z,e.canvas.height=ee),e.viewport(0,ee-z,Y,z),e.disable(e.SCISSOR_TEST),e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT),e.enable(e.SCISSOR_TEST),E.sort((ae,rt)=>rt.Wa-ae.Wa),Z=R.push(me),f!=Z&&(e.bufferData(e.ARRAY_BUFFER,8*Z,e.DYNAMIC_DRAW),f=Z),Z=0;for(var _e of E)e.bufferSubData(e.ARRAY_BUFFER,Z,_e.Fa),Z+=4*_e.Fa.length;console.assert(Z==4*me);for(var Oe of E)e.bufferSubData(e.ARRAY_BUFFER,Z,Oe.Za),Z+=4*Oe.Za.length;console.assert(Z==8*me),Z=F.push(Ce),c!=Z&&(e.bufferData(e.ELEMENT_ARRAY_BUFFER,2*Z,e.DYNAMIC_DRAW),c=Z),_e=0;for(var qe of E)e.bufferSubData(e.ELEMENT_ARRAY_BUFFER,_e,qe.indices),_e+=2*qe.indices.length;console.assert(_e==2*Ce),qe=0,Oe=!0,Z=_e=0;for(const ae of E){ae.image.Ba!=qe&&(e.bindTexture(e.TEXTURE_2D,ae.image.fb||null),qe=ae.image.Ba),ae.Bb?(e.scissor(ae.Ka,ee-ae.La-ae.Ra,ae.Ib,ae.Ra),Oe=!0):Oe&&(e.scissor(0,ee-z,Y,z),Oe=!1),E=2/Y;const rt=-2/z;e.uniform4f(s,ae.qa[0]*E*ae.xa,ae.qa[1]*rt*ae.ya,ae.qa[2]*E*ae.xa,ae.qa[3]*rt*ae.ya),e.uniform2f(l,ae.qa[4]*E*ae.xa+E*(ae.Ka-ae.zb*ae.xa)-1,ae.qa[5]*rt*ae.ya+rt*(ae.La-ae.Ab*ae.ya)+1),e.vertexAttribPointer(0,2,e.FLOAT,!1,0,Z),e.vertexAttribPointer(1,2,e.FLOAT,!1,0,Z+4*me),e.drawElements(e.TRIANGLES,ae.indices.length,e.UNSIGNED_SHORT,_e),Z+=4*ae.Fa.length,_e+=2*ae.indices.length}console.assert(Z==4*me),console.assert(_e==2*Ce)}},this.canvas=function(){return t()&&e.canvas}};u.onRuntimeInitialized=function(){function t(C){switch(C){case h.srcOver:return"source-over";case h.screen:return"screen";case h.overlay:return"overlay";case h.darken:return"darken";case h.lighten:return"lighten";case h.colorDodge:return"color-dodge";case h.colorBurn:return"color-burn";case h.hardLight:return"hard-light";case h.softLight:return"soft-light";case h.difference:return"difference";case h.exclusion:return"exclusion";case h.multiply:return"multiply";case h.hue:return"hue";case h.saturation:return"saturation";case h.color:return"color";case h.luminosity:return"luminosity"}}function e(C){return"rgba("+((16711680&C)>>>16)+","+((65280&C)>>>8)+","+((255&C)>>>0)+","+((4278190080&C)>>>24)/255+")"}function r(){0<_e.length&&(fe.mb(ee.drawWidth(),ee.drawHeight(),_e,Oe,qe),_e=[],qe=Oe=0,ee.reset(512,512));for(const C of Z){for(const N of C.fa)N();C.fa=[]}Z.clear()}var i=u.RenderPaintStyle;const s=u.RenderPath,l=u.RenderPaint,f=u.Renderer,c=u.StrokeCap,m=u.StrokeJoin,h=u.BlendMode,R=i.fill,F=i.stroke,Y=u.FillRule.evenOdd;let z=1;var E=u.RenderImage.extend("CanvasRenderImage",{__construct:function(){this.__parent.__construct.call(this),this.Ba=z,z=z+1&2147483647||1},decode:function(C){let N=nn;N.total++;var se=this,ne=new Image;ne.src=URL.createObjectURL(new Blob([C],{type:"image/png"})),ne.onload=function(){if(se.cb=ne,se.fb=fe.ib(ne),se.size(ne.width,ne.height),N.loaded++,N.loaded===N.total){const K=N.ready;K&&(K(),N.ready=null)}}}}),me=s.extend("CanvasRenderPath",{__construct:function(){this.__parent.__construct.call(this),this.ka=new Path2D},rewind:function(){this.ka=new Path2D},addPath:function(C,N,se,ne,K,de,ue){var he=this.ka,Fe=he.addPath;C=C.ka;const Ee=new DOMMatrix;Ee.a=N,Ee.b=se,Ee.c=ne,Ee.d=K,Ee.e=de,Ee.f=ue,Fe.call(he,C,Ee)},fillRule:function(C){this.Ia=C},moveTo:function(C,N){this.ka.moveTo(C,N)},lineTo:function(C,N){this.ka.lineTo(C,N)},cubicTo:function(C,N,se,ne,K,de){this.ka.bezierCurveTo(C,N,se,ne,K,de)},close:function(){this.ka.closePath()}}),Ce=l.extend("CanvasRenderPaint",{color:function(C){this.Ja=e(C)},thickness:function(C){this.gb=C},join:function(C){switch(C){case m.miter:this.Aa="miter";break;case m.round:this.Aa="round";break;case m.bevel:this.Aa="bevel"}},cap:function(C){switch(C){case c.butt:this.za="butt";break;case c.round:this.za="round";break;case c.square:this.za="square"}},style:function(C){this.eb=C},blendMode:function(C){this.bb=t(C)},clearGradient:function(){this.sa=null},linearGradient:function(C,N,se,ne){this.sa={Xa:C,Ya:N,Na:se,Oa:ne,Ea:[]}},radialGradient:function(C,N,se,ne){this.sa={Xa:C,Ya:N,Na:se,Oa:ne,Ea:[],wb:!0}},addStop:function(C,N){this.sa.Ea.push({color:C,stop:N})},completeGradient:function(){},draw:function(C,N,se){let ne=this.eb;var K=this.Ja,de=this.sa;if(C.globalCompositeOperation=this.bb,de!=null){K=de.Xa;var ue=de.Ya;const Fe=de.Na;var he=de.Oa;const Ee=de.Ea;de.wb?(de=Fe-K,he-=ue,K=C.createRadialGradient(K,ue,0,K,ue,Math.sqrt(de*de+he*he))):K=C.createLinearGradient(K,ue,Fe,he);for(let Ve=0,Te=Ee.length;Ve<Te;Ve++)ue=Ee[Ve],K.addColorStop(ue.stop,e(ue.color));this.Ja=K,this.sa=null}switch(ne){case F:C.strokeStyle=K,C.lineWidth=this.gb,C.lineCap=this.za,C.lineJoin=this.Aa,C.stroke(N);break;case R:C.fillStyle=K,C.fill(N,se)}}});const Z=new Set;let ee=null,_e=[],Oe=0,qe=0;var ae=u.CanvasRenderer=f.extend("Renderer",{__construct:function(C){this.__parent.__construct.call(this),this.ja=[1,0,0,1,0,0],this.da=C.getContext("2d"),this.Ha=C,this.fa=[]},save:function(){this.ja.push(...this.ja.slice(this.ja.length-6)),this.fa.push(this.da.save.bind(this.da))},restore:function(){const C=this.ja.length-6;if(6>C)throw"restore() called without matching save().";this.ja.splice(C),this.fa.push(this.da.restore.bind(this.da))},transform:function(C,N,se,ne,K,de){const ue=this.ja,he=ue.length-6;ue.splice(he,6,ue[he]*C+ue[he+2]*N,ue[he+1]*C+ue[he+3]*N,ue[he]*se+ue[he+2]*ne,ue[he+1]*se+ue[he+3]*ne,ue[he]*K+ue[he+2]*de+ue[he+4],ue[he+1]*K+ue[he+3]*de+ue[he+5]),this.fa.push(this.da.transform.bind(this.da,C,N,se,ne,K,de))},rotate:function(C){const N=Math.sin(C);C=Math.cos(C),this.transform(C,N,-N,C,0,0)},_drawPath:function(C,N){this.fa.push(N.draw.bind(N,this.da,C.ka,C.Ia===Y?"evenodd":"nonzero"))},_drawRiveImage:function(C,N,se){var ne=C.cb;if(ne){var K=this.da,de=t(N);this.fa.push(function(){K.globalCompositeOperation=de,K.globalAlpha=se,K.drawImage(ne,0,0),K.globalAlpha=1})}},_getMatrix:function(C){const N=this.ja,se=N.length-6;for(let ne=0;6>ne;++ne)C[ne]=N[se+ne]},_drawImageMesh:function(C,N,se,ne,K,de,ue,he,Fe,Ee){var Ve=this.da.canvas.width,Te=this.da.canvas.height;const xn=Fe-ue,kn=Ee-he;ue=Math.max(ue,0),he=Math.max(he,0),Fe=Math.min(Fe,Ve),Ee=Math.min(Ee,Te);const _t=Fe-ue,Rt=Ee-he;if(console.assert(_t<=Math.min(xn,Ve)),console.assert(Rt<=Math.min(kn,Te)),!(0>=_t||0>=Rt)){Fe=_t<xn||Rt<kn,Ve=Ee=1;var st=Math.ceil(_t*Ee),ut=Math.ceil(Rt*Ve);Te=fe.yb(),st>Te&&(Ee*=Te/st,st=Te),ut>Te&&(Ve*=Te/ut,ut=Te),ee||(ee=new u.DynamicRectanizer(Te),ee.reset(512,512)),Te=ee.addRect(st,ut),0>Te&&(r(),Z.add(this),Te=ee.addRect(st,ut),console.assert(0<=Te));var Sn=Te&65535,Ln=Te>>16;_e.push({qa:this.ja.slice(this.ja.length-6),image:C,Ka:Sn,La:Ln,zb:ue,Ab:he,Ib:st,Ra:ut,xa:Ee,ya:Ve,Fa:new Float32Array(ne),Za:new Float32Array(K),indices:new Uint16Array(de),Bb:Fe,Wa:C.Ba<<1|(Fe?1:0)}),Oe+=ne.length,qe+=de.length;var pt=this.da,Cr=t(N);this.fa.push(function(){pt.save(),pt.resetTransform(),pt.globalCompositeOperation=Cr,pt.globalAlpha=se,pt.drawImage(fe.canvas(),Sn,Ln,st,ut,ue,he,_t,Rt),pt.restore()})}},_clipPath:function(C){this.fa.push(this.da.clip.bind(this.da,C.ka,C.Ia===Y?"evenodd":"nonzero"))},clear:function(){Z.add(this),this.fa.push(this.da.clearRect.bind(this.da,0,0,this.Ha.width,this.Ha.height))},flush:function(){},translate:function(C,N){this.transform(1,0,0,1,C,N)}});u.makeRenderer=function(C){const N=new ae(C),se=N.da;return new Proxy(N,{get(ne,K){if(typeof ne[K]=="function")return function(...de){return ne[K].apply(ne,de)};if(typeof se[K]=="function"){if(-1<pe.indexOf(K))throw Error("RiveException: Method call to '"+K+"()' is not allowed, as the renderer cannot immediately pass through the return                 values of any canvas 2d context methods.");return function(...de){N.fa.push(se[K].bind(se,...de))}}return ne[K]},set(ne,K,de){if(K in se)return se[K]=de,!0}})},u.renderFactory={makeRenderPaint:function(){return new Ce},makeRenderPath:function(){return new me},makeRenderImage:function(){return new E}};let rt=u.load,nn=null;u.load=function(C){return new Promise(function(N){let se=null;nn={total:0,loaded:0,ready:function(){N(se)}},se=rt(C),nn.total==0&&N(se)})},i=new D,u.requestAnimationFrame=i.requestAnimationFrame.bind(i),u.cancelAnimationFrame=i.cancelAnimationFrame.bind(i),u.enableFPSCounter=i.nb.bind(i),u.disableFPSCounter=i.kb,i.Sa=r,u.cleanup=function(){ee&&ee.delete()}};var ve=Object.assign({},u),b="./this.program",A=typeof window=="object",V=typeof importScripts=="function",U="",P,B;(A||V)&&(V?U=self.location.href:typeof document<"u"&&document.currentScript&&(U=document.currentScript.src),x&&(U=x),U.indexOf("blob:")!==0?U=U.substr(0,U.replace(/[?#].*/,"").lastIndexOf("/")+1):U="",V&&(B=t=>{var e=new XMLHttpRequest;return e.open("GET",t,!1),e.responseType="arraybuffer",e.send(null),new Uint8Array(e.response)}),P=(t,e,r)=>{var i=new XMLHttpRequest;i.open("GET",t,!0),i.responseType="arraybuffer",i.onload=()=>{i.status==200||i.status==0&&i.response?e(i.response):r()},i.onerror=r,i.send(null)});var Q=u.print||console.log.bind(console),Re=u.printErr||console.error.bind(console);Object.assign(u,ve),ve=null,u.thisProgram&&(b=u.thisProgram);var o;u.wasmBinary&&(o=u.wasmBinary),u.noExitRuntime,typeof WebAssembly!="object"&&at("no native wasm support detected");var n,a,d=!1,y,g,M,G,ie,I,le,Pe;function Ae(){var t=n.buffer;u.HEAP8=y=new Int8Array(t),u.HEAP16=M=new Int16Array(t),u.HEAP32=ie=new Int32Array(t),u.HEAPU8=g=new Uint8Array(t),u.HEAPU16=G=new Uint16Array(t),u.HEAPU32=I=new Uint32Array(t),u.HEAPF32=le=new Float32Array(t),u.HEAPF64=Pe=new Float64Array(t)}var be,$e=[],De=[],ct=[];function Et(){var t=u.preRun.shift();$e.unshift(t)}var We=0,et=null;function at(t){throw u.onAbort&&u.onAbort(t),t="Aborted("+t+")",Re(t),d=!0,t=new WebAssembly.RuntimeError(t+". Build with -sASSERTIONS for more info."),W(t),t}function tt(t){return t.startsWith("data:application/octet-stream;base64,")}var Be;if(Be="canvas_advanced.wasm",!tt(Be)){var ze=Be;Be=u.locateFile?u.locateFile(ze,U):U+ze}function on(t){if(t==Be&&o)return new Uint8Array(o);if(B)return B(t);throw"both async and sync fetching of the wasm failed"}function Kn(t){if(!o&&(A||V)){if(typeof fetch=="function"&&!t.startsWith("file://"))return fetch(t,{credentials:"same-origin"}).then(e=>{if(!e.ok)throw"failed to load wasm binary file at '"+t+"'";return e.arrayBuffer()}).catch(()=>on(t));if(P)return new Promise((e,r)=>{P(t,i=>e(new Uint8Array(i)),r)})}return Promise.resolve().then(()=>on(t))}function sn(t,e,r){return Kn(t).then(i=>WebAssembly.instantiate(i,e)).then(i=>i).then(r,i=>{Re("failed to asynchronously prepare wasm: "+i),at(i)})}function Jn(t,e){var r=Be;return o||typeof WebAssembly.instantiateStreaming!="function"||tt(r)||r.startsWith("file://")||typeof fetch!="function"?sn(r,t,e):fetch(r,{credentials:"same-origin"}).then(i=>WebAssembly.instantiateStreaming(i,t).then(e,function(s){return Re("wasm streaming compile failed: "+s),Re("falling back to ArrayBuffer instantiation"),sn(r,t,e)}))}var Xt=t=>{for(;0<t.length;)t.shift()(u)};function un(t){if(t===void 0)return"_unknown";t=t.replace(/[^a-zA-Z0-9_]/g,"$");var e=t.charCodeAt(0);return 48<=e&&57>=e?`_${t}`:t}function At(t,e){return t=un(t),{[t]:function(){return e.apply(this,arguments)}}[t]}function ln(){this.la=[void 0],this.Qa=[]}var Ue=new ln,ft=void 0;function q(t){throw new ft(t)}var je=t=>(t||q("Cannot use deleted val. handle = "+t),Ue.get(t).value),Ne=t=>{switch(t){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:return Ue.ab({Va:1,value:t})}};function cn(t){var e=Error,r=At(t,function(i){this.name=t,this.message=i,i=Error(i).stack,i!==void 0&&(this.stack=this.toString()+`
`+i.replace(/^Error(:[^\n]*)?\n/,""))});return r.prototype=Object.create(e.prototype),r.prototype.constructor=r,r.prototype.toString=function(){return this.message===void 0?this.name:`${this.name}: ${this.message}`},r}var fn=void 0,hn=void 0;function we(t){for(var e="";g[t];)e+=hn[g[t++]];return e}var gt=[];function Vt(){for(;gt.length;){var t=gt.pop();t.Y.pa=!1,t.delete()}}var yt=void 0,Ge={};function zt(t,e){for(e===void 0&&q("ptr should not be undefined");t.ba;)e=t.ta(e),t=t.ba;return e}var ot={};function dn(t){t=Tn(t);var e=we(t);return Qe(t),e}function bt(t,e){var r=ot[t];return r===void 0&&q(e+" has unknown type "+dn(t)),r}function Tt(){}var Gt=!1;function pn(t){--t.count.value,t.count.value===0&&(t.ea?t.ha.ma(t.ea):t.aa.Z.ma(t.$))}function mn(t,e,r){return e===r?t:r.ba===void 0?null:(t=mn(t,e,r.ba),t===null?null:r.lb(t))}var vn={};function er(t,e){return e=zt(t,e),Ge[e]}var gn=void 0;function Mt(t){throw new gn(t)}function xt(t,e){return e.aa&&e.$||Mt("makeClassHandle requires ptr and ptrType"),!!e.ha!=!!e.ea&&Mt("Both smartPtrType and smartPtr must be specified"),e.count={value:1},ht(Object.create(t,{Y:{value:e}}))}function ht(t){return typeof FinalizationRegistry>"u"?(ht=e=>e,t):(Gt=new FinalizationRegistry(e=>{pn(e.Y)}),ht=e=>{var r=e.Y;return r.ea&&Gt.register(e,{Y:r},e),e},Tt=e=>{Gt.unregister(e)},ht(t))}var kt={};function wt(t){for(;t.length;){var e=t.pop();t.pop()(e)}}function Ct(t){return this.fromWireType(ie[t>>2])}var dt={},St={};function Ie(t,e,r){function i(c){c=r(c),c.length!==t.length&&Mt("Mismatched type converter count");for(var m=0;m<t.length;++m)Xe(t[m],c[m])}t.forEach(function(c){St[c]=e});var s=Array(e.length),l=[],f=0;e.forEach((c,m)=>{ot.hasOwnProperty(c)?s[m]=ot[c]:(l.push(c),dt.hasOwnProperty(c)||(dt[c]=[]),dt[c].push(()=>{s[m]=ot[c],++f,f===l.length&&i(s)}))}),l.length===0&&i(s)}function Lt(t){switch(t){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError(`Unknown type size: ${t}`)}}function tr(t,e,r={}){var i=e.name;if(t||q(`type "${i}" must have a positive integer typeid pointer`),ot.hasOwnProperty(t)){if(r.vb)return;q(`Cannot register type '${i}' twice`)}ot[t]=e,delete St[t],dt.hasOwnProperty(t)&&(e=dt[t],delete dt[t],e.forEach(s=>s()))}function Xe(t,e,r={}){if(!("argPackAdvance"in e))throw new TypeError("registerType registeredInstance requires argPackAdvance");tr(t,e,r)}function Ht(t){q(t.Y.aa.Z.name+" instance already deleted")}function nt(){}function Zt(t,e,r){if(t[e].ca===void 0){var i=t[e];t[e]=function(){return t[e].ca.hasOwnProperty(arguments.length)||q(`Function '${r}' called with an invalid number of arguments (${arguments.length}) - expects one of (${t[e].ca})!`),t[e].ca[arguments.length].apply(this,arguments)},t[e].ca=[],t[e].ca[i.oa]=i}}function Qt(t,e,r){u.hasOwnProperty(t)?((r===void 0||u[t].ca!==void 0&&u[t].ca[r]!==void 0)&&q(`Cannot register public name '${t}' twice`),Zt(u,t,t),u.hasOwnProperty(r)&&q(`Cannot register multiple overloads of a function with the same number of arguments (${r})!`),u[t].ca[r]=e):(u[t]=e,r!==void 0&&(u[t].Jb=r))}function nr(t,e,r,i,s,l,f,c){this.name=t,this.constructor=e,this.ia=r,this.ma=i,this.ba=s,this.qb=l,this.ta=f,this.lb=c,this.Ta=[]}function It(t,e,r){for(;e!==r;)e.ta||q(`Expected null or instance of ${r.name}, got an instance of ${e.name}`),t=e.ta(t),e=e.ba;return t}function rr(t,e){return e===null?(this.Ca&&q(`null is not a valid ${this.name}`),0):(e.Y||q(`Cannot pass "${Kt(e)}" as a ${this.name}`),e.Y.$||q(`Cannot pass deleted object as a pointer of type ${this.name}`),It(e.Y.$,e.Y.aa.Z,this.Z))}function ir(t,e){if(e===null){if(this.Ca&&q(`null is not a valid ${this.name}`),this.wa){var r=this.Da();return t!==null&&t.push(this.ma,r),r}return 0}if(e.Y||q(`Cannot pass "${Kt(e)}" as a ${this.name}`),e.Y.$||q(`Cannot pass deleted object as a pointer of type ${this.name}`),!this.va&&e.Y.aa.va&&q(`Cannot convert argument of type ${e.Y.ha?e.Y.ha.name:e.Y.aa.name} to parameter type ${this.name}`),r=It(e.Y.$,e.Y.aa.Z,this.Z),this.wa)switch(e.Y.ea===void 0&&q("Passing raw pointer to smart pointer is illegal"),this.Hb){case 0:e.Y.ha===this?r=e.Y.ea:q(`Cannot convert argument of type ${e.Y.ha?e.Y.ha.name:e.Y.aa.name} to parameter type ${this.name}`);break;case 1:r=e.Y.ea;break;case 2:if(e.Y.ha===this)r=e.Y.ea;else{var i=e.clone();r=this.Db(r,Ne(function(){i.delete()})),t!==null&&t.push(this.ma,r)}break;default:q("Unsupporting sharing policy")}return r}function ar(t,e){return e===null?(this.Ca&&q(`null is not a valid ${this.name}`),0):(e.Y||q(`Cannot pass "${Kt(e)}" as a ${this.name}`),e.Y.$||q(`Cannot pass deleted object as a pointer of type ${this.name}`),e.Y.aa.va&&q(`Cannot convert argument of type ${e.Y.aa.name} to parameter type ${this.name}`),It(e.Y.$,e.Y.aa.Z,this.Z))}function He(t,e,r,i){this.name=t,this.Z=e,this.Ca=r,this.va=i,this.wa=!1,this.ma=this.Db=this.Da=this.Ua=this.Hb=this.Cb=void 0,e.ba!==void 0?this.toWireType=ir:(this.toWireType=i?rr:ar,this.ga=null)}function yn(t,e,r){u.hasOwnProperty(t)||Mt("Replacing nonexistant public symbol"),u[t].ca!==void 0&&r!==void 0?u[t].ca[r]=e:(u[t]=e,u[t].oa=r)}var or=(t,e)=>{var r=[];return function(){if(r.length=0,Object.assign(r,arguments),t.includes("j")){var i=u["dynCall_"+t];i=r&&r.length?i.apply(null,[e].concat(r)):i.call(null,e)}else i=be.get(e).apply(null,r);return i}};function xe(t,e){t=we(t);var r=t.includes("j")?or(t,e):be.get(e);return typeof r!="function"&&q(`unknown function pointer with signature ${t}: ${e}`),r}var bn=void 0;function Ze(t,e){function r(l){s[l]||ot[l]||(St[l]?St[l].forEach(r):(i.push(l),s[l]=!0))}var i=[],s={};throw e.forEach(r),new bn(`${t}: `+i.map(dn).join([", "]))}function Ot(t,e,r,i,s){var l=e.length;2>l&&q("argTypes array size mismatch! Must at least get return value and 'this' types!");var f=e[1]!==null&&r!==null,c=!1;for(r=1;r<e.length;++r)if(e[r]!==null&&e[r].ga===void 0){c=!0;break}var m=e[0].name!=="void",h=l-2,R=Array(h),F=[],Y=[];return function(){if(arguments.length!==h&&q(`function ${t} called with ${arguments.length} arguments, expected ${h} args!`),Y.length=0,F.length=f?2:1,F[0]=s,f){var z=e[1].toWireType(Y,this);F[1]=z}for(var E=0;E<h;++E)R[E]=e[E+2].toWireType(Y,arguments[E]),F.push(R[E]);if(E=i.apply(null,F),c)wt(Y);else for(var me=f?1:2;me<e.length;me++){var Ce=me===1?z:R[me-2];e[me].ga!==null&&e[me].ga(Ce)}return z=m?e[0].fromWireType(E):void 0,z}}function Ut(t,e){for(var r=[],i=0;i<t;i++)r.push(I[e+4*i>>2]);return r}function wn(t,e,r){return t instanceof Object||q(`${r} with invalid "this": ${t}`),t instanceof e.Z.constructor||q(`${r} incompatible with "this" of type ${t.constructor.name}`),t.Y.$||q(`cannot call emscripten binding method ${r} on deleted object`),It(t.Y.$,t.Y.aa.Z,e.Z)}function qt(t){t>=Ue.Ga&&--Ue.get(t).Va===0&&Ue.$a(t)}function sr(t,e,r){switch(e){case 0:return function(i){return this.fromWireType((r?y:g)[i])};case 1:return function(i){return this.fromWireType((r?M:G)[i>>1])};case 2:return function(i){return this.fromWireType((r?ie:I)[i>>2])};default:throw new TypeError("Unknown integer type: "+t)}}function Kt(t){if(t===null)return"null";var e=typeof t;return e==="object"||e==="array"||e==="function"?t.toString():""+t}function ur(t,e){switch(e){case 2:return function(r){return this.fromWireType(le[r>>2])};case 3:return function(r){return this.fromWireType(Pe[r>>3])};default:throw new TypeError("Unknown float type: "+t)}}function lr(t,e,r){switch(e){case 0:return r?function(i){return y[i]}:function(i){return g[i]};case 1:return r?function(i){return M[i>>1]}:function(i){return G[i>>1]};case 2:return r?function(i){return ie[i>>2]}:function(i){return I[i>>2]};default:throw new TypeError("Unknown integer type: "+t)}}var Cn=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,_n=(t,e,r)=>{var i=e+r;for(r=e;t[r]&&!(r>=i);)++r;if(16<r-e&&t.buffer&&Cn)return Cn.decode(t.subarray(e,r));for(i="";e<r;){var s=t[e++];if(s&128){var l=t[e++]&63;if((s&224)==192)i+=String.fromCharCode((s&31)<<6|l);else{var f=t[e++]&63;s=(s&240)==224?(s&15)<<12|l<<6|f:(s&7)<<18|l<<12|f<<6|t[e++]&63,65536>s?i+=String.fromCharCode(s):(s-=65536,i+=String.fromCharCode(55296|s>>10,56320|s&1023))}}else i+=String.fromCharCode(s)}return i},Rn=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,cr=(t,e)=>{for(var r=t>>1,i=r+e/2;!(r>=i)&&G[r];)++r;if(r<<=1,32<r-t&&Rn)return Rn.decode(g.subarray(t,r));for(r="",i=0;!(i>=e/2);++i){var s=M[t+2*i>>1];if(s==0)break;r+=String.fromCharCode(s)}return r},fr=(t,e,r)=>{if(r===void 0&&(r=2147483647),2>r)return 0;r-=2;var i=e;r=r<2*t.length?r/2:t.length;for(var s=0;s<r;++s)M[e>>1]=t.charCodeAt(s),e+=2;return M[e>>1]=0,e-i},hr=t=>2*t.length,dr=(t,e)=>{for(var r=0,i="";!(r>=e/4);){var s=ie[t+4*r>>2];if(s==0)break;++r,65536<=s?(s-=65536,i+=String.fromCharCode(55296|s>>10,56320|s&1023)):i+=String.fromCharCode(s)}return i},pr=(t,e,r)=>{if(r===void 0&&(r=2147483647),4>r)return 0;var i=e;r=i+r-4;for(var s=0;s<t.length;++s){var l=t.charCodeAt(s);if(55296<=l&&57343>=l){var f=t.charCodeAt(++s);l=65536+((l&1023)<<10)|f&1023}if(ie[e>>2]=l,e+=4,e+4>r)break}return ie[e>>2]=0,e-i},mr=t=>{for(var e=0,r=0;r<t.length;++r){var i=t.charCodeAt(r);55296<=i&&57343>=i&&++r,e+=4}return e},vr={};function Ft(t){var e=vr[t];return e===void 0?we(t):e}var Yt=[];function gr(t){var e=Yt.length;return Yt.push(t),e}function yr(t,e){for(var r=Array(t),i=0;i<t;++i)r[i]=bt(I[e+4*i>>2],"parameter "+i);return r}var Pn=[],Jt={},En=()=>{if(!en){var t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:b||"./this.program"},e;for(e in Jt)Jt[e]===void 0?delete t[e]:t[e]=Jt[e];var r=[];for(e in t)r.push(`${e}=${t[e]}`);en=r}return en},en,br=[null,[],[]];Object.assign(ln.prototype,{get(t){return this.la[t]},has(t){return this.la[t]!==void 0},ab(t){var e=this.Qa.pop()||this.la.length;return this.la[e]=t,e},$a(t){this.la[t]=void 0,this.Qa.push(t)}}),ft=u.BindingError=class extends Error{constructor(t){super(t),this.name="BindingError"}},Ue.la.push({value:void 0},{value:null},{value:!0},{value:!1}),Ue.Ga=Ue.la.length,u.count_emval_handles=function(){for(var t=0,e=Ue.Ga;e<Ue.la.length;++e)Ue.la[e]!==void 0&&++t;return t},fn=u.PureVirtualError=cn("PureVirtualError");for(var An=Array(256),jt=0;256>jt;++jt)An[jt]=String.fromCharCode(jt);hn=An,u.getInheritedInstanceCount=function(){return Object.keys(Ge).length},u.getLiveInheritedInstances=function(){var t=[],e;for(e in Ge)Ge.hasOwnProperty(e)&&t.push(Ge[e]);return t},u.flushPendingDeletes=Vt,u.setDelayFunction=function(t){yt=t,gt.length&&yt&&yt(Vt)},gn=u.InternalError=class extends Error{constructor(t){super(t),this.name="InternalError"}},nt.prototype.isAliasOf=function(t){if(!(this instanceof nt&&t instanceof nt))return!1;var e=this.Y.aa.Z,r=this.Y.$,i=t.Y.aa.Z;for(t=t.Y.$;e.ba;)r=e.ta(r),e=e.ba;for(;i.ba;)t=i.ta(t),i=i.ba;return e===i&&r===t},nt.prototype.clone=function(){if(this.Y.$||Ht(this),this.Y.ra)return this.Y.count.value+=1,this;var t=ht,e=Object,r=e.create,i=Object.getPrototypeOf(this),s=this.Y;return t=t(r.call(e,i,{Y:{value:{count:s.count,pa:s.pa,ra:s.ra,$:s.$,aa:s.aa,ea:s.ea,ha:s.ha}}})),t.Y.count.value+=1,t.Y.pa=!1,t},nt.prototype.delete=function(){this.Y.$||Ht(this),this.Y.pa&&!this.Y.ra&&q("Object already scheduled for deletion"),Tt(this),pn(this.Y),this.Y.ra||(this.Y.ea=void 0,this.Y.$=void 0)},nt.prototype.isDeleted=function(){return!this.Y.$},nt.prototype.deleteLater=function(){return this.Y.$||Ht(this),this.Y.pa&&!this.Y.ra&&q("Object already scheduled for deletion"),gt.push(this),gt.length===1&&yt&&yt(Vt),this.Y.pa=!0,this},He.prototype.rb=function(t){return this.Ua&&(t=this.Ua(t)),t},He.prototype.Ma=function(t){this.ma&&this.ma(t)},He.prototype.argPackAdvance=8,He.prototype.readValueFromPointer=Ct,He.prototype.deleteObject=function(t){t!==null&&t.delete()},He.prototype.fromWireType=function(t){function e(){return this.wa?xt(this.Z.ia,{aa:this.Cb,$:r,ha:this,ea:t}):xt(this.Z.ia,{aa:this,$:t})}var r=this.rb(t);if(!r)return this.Ma(t),null;var i=er(this.Z,r);if(i!==void 0)return i.Y.count.value===0?(i.Y.$=r,i.Y.ea=t,i.clone()):(i=i.clone(),this.Ma(t),i);if(i=this.Z.qb(r),i=vn[i],!i)return e.call(this);i=this.va?i.hb:i.pointerType;var s=mn(r,this.Z,i.Z);return s===null?e.call(this):this.wa?xt(i.Z.ia,{aa:i,$:s,ha:this,ea:t}):xt(i.Z.ia,{aa:i,$:s})},bn=u.UnboundTypeError=cn("UnboundTypeError");var wr={L:function(t,e,r){t=we(t),e=bt(e,"wrapper"),r=je(r);var i=[].slice,s=e.Z,l=s.ia,f=s.ba.ia,c=s.ba.constructor;t=At(t,function(){s.ba.Ta.forEach((function(h){if(this[h]===f[h])throw new fn(`Pure virtual function ${h} must be implemented in JavaScript`)}).bind(this)),Object.defineProperty(this,"__parent",{value:l}),this.__construct.apply(this,i.call(arguments))}),l.__construct=function(){this===l&&q("Pass correct 'this' to __construct");var h=c.implement.apply(void 0,[this].concat(i.call(arguments)));Tt(h);var R=h.Y;h.notifyOnDestruction(),R.ra=!0,Object.defineProperties(this,{Y:{value:R}}),ht(this),h=R.$,h=zt(s,h),Ge.hasOwnProperty(h)?q(`Tried to register registered instance: ${h}`):Ge[h]=this},l.__destruct=function(){this===l&&q("Pass correct 'this' to __destruct"),Tt(this);var h=this.Y.$;h=zt(s,h),Ge.hasOwnProperty(h)?delete Ge[h]:q(`Tried to unregister unregistered instance: ${h}`)},t.prototype=Object.create(l);for(var m in r)t.prototype[m]=r[m];return Ne(t)},N:function(t){var e=kt[t];delete kt[t];var r=e.Da,i=e.ma,s=e.Pa,l=s.map(f=>f.ub).concat(s.map(f=>f.Fb));Ie([t],l,f=>{var c={};return s.forEach((m,h)=>{var R=f[h],F=m.sb,Y=m.tb,z=f[h+s.length],E=m.Eb,me=m.Gb;c[m.ob]={read:Ce=>R.fromWireType(F(Y,Ce)),write:(Ce,Z)=>{var ee=[];E(me,Ce,z.toWireType(ee,Z)),wt(ee)}}}),[{name:e.name,fromWireType:function(m){var h={},R;for(R in c)h[R]=c[R].read(m);return i(m),h},toWireType:function(m,h){for(var R in c)if(!(R in h))throw new TypeError(`Missing field: "${R}"`);var F=r();for(R in c)c[R].write(F,h[R]);return m!==null&&m.push(i,F),F},argPackAdvance:8,readValueFromPointer:Ct,ga:i}]})},C:function(){},J:function(t,e,r,i,s){var l=Lt(r);e=we(e),Xe(t,{name:e,fromWireType:function(f){return!!f},toWireType:function(f,c){return c?i:s},argPackAdvance:8,readValueFromPointer:function(f){if(r===1)var c=y;else if(r===2)c=M;else if(r===4)c=ie;else throw new TypeError("Unknown boolean type size: "+e);return this.fromWireType(c[f>>l])},ga:null})},f:function(t,e,r,i,s,l,f,c,m,h,R,F,Y){R=we(R),l=xe(s,l),c&&(c=xe(f,c)),h&&(h=xe(m,h)),Y=xe(F,Y);var z=un(R);Qt(z,function(){Ze(`Cannot construct ${R} due to unbound types`,[i])}),Ie([t,e,r],i?[i]:[],function(E){if(E=E[0],i)var me=E.Z,Ce=me.ia;else Ce=nt.prototype;E=At(z,function(){if(Object.getPrototypeOf(this)!==Z)throw new ft("Use 'new' to construct "+R);if(ee.na===void 0)throw new ft(R+" has no accessible constructor");var Oe=ee.na[arguments.length];if(Oe===void 0)throw new ft(`Tried to invoke ctor of ${R} with invalid number of parameters (${arguments.length}) - expected (${Object.keys(ee.na).toString()}) parameters instead!`);return Oe.apply(this,arguments)});var Z=Object.create(Ce,{constructor:{value:E}});E.prototype=Z;var ee=new nr(R,E,Z,Y,me,l,c,h);ee.ba&&(ee.ba.ua===void 0&&(ee.ba.ua=[]),ee.ba.ua.push(ee)),me=new He(R,ee,!0,!1),Ce=new He(R+"*",ee,!1,!1);var _e=new He(R+" const*",ee,!1,!0);return vn[t]={pointerType:Ce,hb:_e},yn(z,E),[me,Ce,_e]})},l:function(t,e,r,i,s,l,f){var c=Ut(r,i);e=we(e),l=xe(s,l),Ie([],[t],function(m){function h(){Ze(`Cannot call ${R} due to unbound types`,c)}m=m[0];var R=`${m.name}.${e}`;e.startsWith("@@")&&(e=Symbol[e.substring(2)]);var F=m.Z.constructor;return F[e]===void 0?(h.oa=r-1,F[e]=h):(Zt(F,e,R),F[e].ca[r-1]=h),Ie([],c,function(Y){if(Y=Ot(R,[Y[0],null].concat(Y.slice(1)),null,l,f),F[e].ca===void 0?(Y.oa=r-1,F[e]=Y):F[e].ca[r-1]=Y,m.Z.ua)for(const z of m.Z.ua)z.constructor.hasOwnProperty(e)||(z.constructor[e]=Y);return[]}),[]})},w:function(t,e,r,i,s,l,f,c){e=we(e),l=xe(s,l),Ie([],[t],function(m){m=m[0];var h=`${m.name}.${e}`,R={get(){Ze(`Cannot access ${h} due to unbound types`,[r])},enumerable:!0,configurable:!0};return R.set=c?()=>{Ze(`Cannot access ${h} due to unbound types`,[r])}:()=>{q(`${h} is a read-only property`)},Object.defineProperty(m.Z.constructor,e,R),Ie([],[r],function(F){F=F[0];var Y={get(){return F.fromWireType(l(i))},enumerable:!0};return c&&(c=xe(f,c),Y.set=z=>{var E=[];c(i,F.toWireType(E,z)),wt(E)}),Object.defineProperty(m.Z.constructor,e,Y),[]}),[]})},r:function(t,e,r,i,s,l){var f=Ut(e,r);s=xe(i,s),Ie([],[t],function(c){c=c[0];var m=`constructor ${c.name}`;if(c.Z.na===void 0&&(c.Z.na=[]),c.Z.na[e-1]!==void 0)throw new ft(`Cannot register multiple constructors with identical number of parameters (${e-1}) for class '${c.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return c.Z.na[e-1]=()=>{Ze(`Cannot construct ${c.name} due to unbound types`,f)},Ie([],f,function(h){return h.splice(1,0,null),c.Z.na[e-1]=Ot(m,h,null,s,l),[]}),[]})},b:function(t,e,r,i,s,l,f,c){var m=Ut(r,i);e=we(e),l=xe(s,l),Ie([],[t],function(h){function R(){Ze(`Cannot call ${F} due to unbound types`,m)}h=h[0];var F=`${h.name}.${e}`;e.startsWith("@@")&&(e=Symbol[e.substring(2)]),c&&h.Z.Ta.push(e);var Y=h.Z.ia,z=Y[e];return z===void 0||z.ca===void 0&&z.className!==h.name&&z.oa===r-2?(R.oa=r-2,R.className=h.name,Y[e]=R):(Zt(Y,e,F),Y[e].ca[r-2]=R),Ie([],m,function(E){return E=Ot(F,E,h,l,f),Y[e].ca===void 0?(E.oa=r-2,Y[e]=E):Y[e].ca[r-2]=E,[]}),[]})},e:function(t,e,r,i,s,l,f,c,m,h){e=we(e),s=xe(i,s),Ie([],[t],function(R){R=R[0];var F=`${R.name}.${e}`,Y={get(){Ze(`Cannot access ${F} due to unbound types`,[r,f])},enumerable:!0,configurable:!0};return Y.set=m?()=>{Ze(`Cannot access ${F} due to unbound types`,[r,f])}:()=>{q(F+" is a read-only property")},Object.defineProperty(R.Z.ia,e,Y),Ie([],m?[r,f]:[r],function(z){var E=z[0],me={get(){var Z=wn(this,R,F+" getter");return E.fromWireType(s(l,Z))},enumerable:!0};if(m){m=xe(c,m);var Ce=z[1];me.set=function(Z){var ee=wn(this,R,F+" setter"),_e=[];m(h,ee,Ce.toWireType(_e,Z)),wt(_e)}}return Object.defineProperty(R.Z.ia,e,me),[]}),[]})},I:function(t,e){e=we(e),Xe(t,{name:e,fromWireType:function(r){var i=je(r);return qt(r),i},toWireType:function(r,i){return Ne(i)},argPackAdvance:8,readValueFromPointer:Ct,ga:null})},o:function(t,e,r,i){function s(){}r=Lt(r),e=we(e),s.values={},Xe(t,{name:e,constructor:s,fromWireType:function(l){return this.constructor.values[l]},toWireType:function(l,f){return f.value},argPackAdvance:8,readValueFromPointer:sr(e,r,i),ga:null}),Qt(e,s)},c:function(t,e,r){var i=bt(t,"enum");e=we(e),t=i.constructor,i=Object.create(i.constructor.prototype,{value:{value:r},constructor:{value:At(`${i.name}_${e}`,function(){})}}),t.values[r]=i,t[e]=i},y:function(t,e,r){r=Lt(r),e=we(e),Xe(t,{name:e,fromWireType:function(i){return i},toWireType:function(i,s){return s},argPackAdvance:8,readValueFromPointer:ur(e,r),ga:null})},t:function(t,e,r,i,s,l){var f=Ut(e,r);t=we(t),s=xe(i,s),Qt(t,function(){Ze(`Cannot call ${t} due to unbound types`,f)},e-1),Ie([],f,function(c){return yn(t,Ot(t,[c[0],null].concat(c.slice(1)),null,s,l),e-1),[]})},k:function(t,e,r,i,s){e=we(e),s===-1&&(s=4294967295),s=Lt(r);var l=c=>c;if(i===0){var f=32-8*r;l=c=>c<<f>>>f}r=e.includes("unsigned")?function(c,m){return m>>>0}:function(c,m){return m},Xe(t,{name:e,fromWireType:l,toWireType:r,argPackAdvance:8,readValueFromPointer:lr(e,s,i!==0),ga:null})},g:function(t,e,r){function i(l){l>>=2;var f=I;return new s(f.buffer,f[l+1],f[l])}var s=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][e];r=we(r),Xe(t,{name:r,fromWireType:i,argPackAdvance:8,readValueFromPointer:i},{vb:!0})},z:function(t,e){e=we(e);var r=e==="std::string";Xe(t,{name:e,fromWireType:function(i){var s=I[i>>2],l=i+4;if(r)for(var f=l,c=0;c<=s;++c){var m=l+c;if(c==s||g[m]==0){if(f=f?_n(g,f,m-f):"",h===void 0)var h=f;else h+=String.fromCharCode(0),h+=f;f=m+1}}else{for(h=Array(s),c=0;c<s;++c)h[c]=String.fromCharCode(g[l+c]);h=h.join("")}return Qe(i),h},toWireType:function(i,s){s instanceof ArrayBuffer&&(s=new Uint8Array(s));var l,f=typeof s=="string";f||s instanceof Uint8Array||s instanceof Uint8ClampedArray||s instanceof Int8Array||q("Cannot pass non-string to std::string");var c;if(r&&f)for(l=c=0;l<s.length;++l){var m=s.charCodeAt(l);127>=m?c++:2047>=m?c+=2:55296<=m&&57343>=m?(c+=4,++l):c+=3}else c=s.length;if(l=c,c=tn(4+l+1),m=c+4,I[c>>2]=l,r&&f){if(f=m,m=l+1,l=g,0<m){m=f+m-1;for(var h=0;h<s.length;++h){var R=s.charCodeAt(h);if(55296<=R&&57343>=R){var F=s.charCodeAt(++h);R=65536+((R&1023)<<10)|F&1023}if(127>=R){if(f>=m)break;l[f++]=R}else{if(2047>=R){if(f+1>=m)break;l[f++]=192|R>>6}else{if(65535>=R){if(f+2>=m)break;l[f++]=224|R>>12}else{if(f+3>=m)break;l[f++]=240|R>>18,l[f++]=128|R>>12&63}l[f++]=128|R>>6&63}l[f++]=128|R&63}}l[f]=0}}else if(f)for(f=0;f<l;++f)h=s.charCodeAt(f),255<h&&(Qe(m),q("String has UTF-16 code units that do not fit in 8 bits")),g[m+f]=h;else for(f=0;f<l;++f)g[m+f]=s[f];return i!==null&&i.push(Qe,c),c},argPackAdvance:8,readValueFromPointer:Ct,ga:function(i){Qe(i)}})},v:function(t,e,r){if(r=we(r),e===2)var i=cr,s=fr,l=hr,f=()=>G,c=1;else e===4&&(i=dr,s=pr,l=mr,f=()=>I,c=2);Xe(t,{name:r,fromWireType:function(m){for(var h=I[m>>2],R=f(),F,Y=m+4,z=0;z<=h;++z){var E=m+4+z*e;(z==h||R[E>>c]==0)&&(Y=i(Y,E-Y),F===void 0?F=Y:(F+=String.fromCharCode(0),F+=Y),Y=E+e)}return Qe(m),F},toWireType:function(m,h){typeof h!="string"&&q(`Cannot pass non-string to C++ string type ${r}`);var R=l(h),F=tn(4+R+e);return I[F>>2]=R>>c,s(h,F+4,R+e),m!==null&&m.push(Qe,F),F},argPackAdvance:8,readValueFromPointer:Ct,ga:function(m){Qe(m)}})},P:function(t,e,r,i,s,l){kt[t]={name:we(e),Da:xe(r,i),ma:xe(s,l),Pa:[]}},O:function(t,e,r,i,s,l,f,c,m,h){kt[t].Pa.push({ob:we(e),ub:r,sb:xe(i,s),tb:l,Fb:f,Eb:xe(c,m),Gb:h})},K:function(t,e){e=we(e),Xe(t,{xb:!0,name:e,argPackAdvance:0,fromWireType:function(){},toWireType:function(){}})},u:function(t,e,r){t=je(t),e=bt(e,"emval::as");var i=[],s=Ne(i);return I[r>>2]=s,e.toWireType(i,t)},A:function(t,e,r,i,s){t=Yt[t],e=je(e),r=Ft(r);var l=[];return I[i>>2]=Ne(l),t(e,r,l,s)},i:function(t,e,r,i){t=Yt[t],e=je(e),r=Ft(r),t(e,r,null,i)},d:qt,h:function(t,e){var r=yr(t,e),i=r[0];e=i.name+"_$"+r.slice(1).map(function(f){return f.name}).join("_")+"$";var s=Pn[e];if(s!==void 0)return s;var l=Array(t-1);return s=gr((f,c,m,h)=>{for(var R=0,F=0;F<t-1;++F)l[F]=r[F+1].readValueFromPointer(h+R),R+=r[F+1].argPackAdvance;for(f=f[c].apply(f,l),F=0;F<t-1;++F)r[F+1].jb&&r[F+1].jb(l[F]);if(!i.xb)return i.toWireType(m,f)}),Pn[e]=s},s:function(t){return t=Ft(t),Ne(u[t])},M:function(t,e){return t=je(t),e=je(e),Ne(t[e])},n:function(t){4<t&&(Ue.get(t).Va+=1)},m:function(t){return Ne(Ft(t))},x:function(){return Ne({})},p:function(t){var e=je(t);wt(e),qt(t)},j:function(t,e,r){t=je(t),e=je(e),r=je(r),t[e]=r},q:function(t,e){return t=bt(t,"_emval_take_value"),t=t.readValueFromPointer(e),Ne(t)},a:()=>{at("")},D:t=>{var e=g.length;if(t>>>=0,2147483648<t)return!1;for(var r=1;4>=r;r*=2){var i=e*(1+.2/r);i=Math.min(i,t+100663296);var s=Math;i=Math.max(t,i);e:{s=s.min.call(s,2147483648,i+(65536-i%65536)%65536)-n.buffer.byteLength+65535>>>16;try{n.grow(s),Ae();var l=1;break e}catch{}l=void 0}if(l)return!0}return!1},E:(t,e)=>{var r=0;return En().forEach(function(i,s){var l=e+r;for(s=I[t+4*s>>2]=l,l=0;l<i.length;++l)y[s++>>0]=i.charCodeAt(l);y[s>>0]=0,r+=i.length+1}),0},F:(t,e)=>{var r=En();I[t>>2]=r.length;var i=0;return r.forEach(function(s){i+=s.length+1}),I[e>>2]=i,0},G:()=>52,B:function(){return 70},H:(t,e,r,i)=>{for(var s=0,l=0;l<r;l++){var f=I[e>>2],c=I[e+4>>2];e+=8;for(var m=0;m<c;m++){var h=g[f+m],R=br[t];h===0||h===10?((t===1?Q:Re)(_n(R,0)),R.length=0):R.push(h)}s+=c}return I[i>>2]=s,0}};(function(){function t(r){if(a=r=r.exports,n=a.Q,Ae(),be=a.W,De.unshift(a.R),We--,u.monitorRunDependencies&&u.monitorRunDependencies(We),We==0&&et){var i=et;et=null,i()}return r}var e={a:wr};if(We++,u.monitorRunDependencies&&u.monitorRunDependencies(We),u.instantiateWasm)try{return u.instantiateWasm(e,t)}catch(r){Re("Module.instantiateWasm callback failed with error: "+r),W(r)}return Jn(e,function(r){t(r.instance)}).catch(W),{}})();var Qe=t=>(Qe=a.S)(t),tn=t=>(tn=a.T)(t),Tn=t=>(Tn=a.U)(t);u.__embind_initialize_bindings=()=>(u.__embind_initialize_bindings=a.V)(),u.dynCall_jiji=(t,e,r,i,s)=>(u.dynCall_jiji=a.X)(t,e,r,i,s);var $t;et=function t(){$t||Mn(),$t||(et=t)};function Mn(){function t(){if(!$t&&($t=!0,u.calledRun=!0,!d)){if(Xt(De),j(u),u.onRuntimeInitialized&&u.onRuntimeInitialized(),u.postRun)for(typeof u.postRun=="function"&&(u.postRun=[u.postRun]);u.postRun.length;){var e=u.postRun.shift();ct.unshift(e)}Xt(ct)}}if(!(0<We)){if(u.preRun)for(typeof u.preRun=="function"&&(u.preRun=[u.preRun]);u.preRun.length;)Et();Xt($e),0<We||(u.setStatus?(u.setStatus("Running..."),setTimeout(function(){setTimeout(function(){u.setStatus("")},1),t()},1)):t())}}if(u.preInit)for(typeof u.preInit=="function"&&(u.preInit=[u.preInit]);0<u.preInit.length;)u.preInit.pop()();return Mn(),w.ready}})();const L=H},O=>{O.exports=JSON.parse(`{"name":"@rive-app/canvas","version":"2.4.3","description":"Rive's canvas based web api.","main":"rive.js","homepage":"https://rive.app","repository":{"type":"git","url":"https://github.com/rive-app/rive-wasm/tree/master/js"},"keywords":["rive","animation"],"author":"Rive","contributors":["Luigi Rosso <luigi@rive.app> (https://rive.app)","Maxwell Talbot <max@rive.app> (https://rive.app)","Arthur Vivian <arthur@rive.app> (https://rive.app)","Umberto Sonnino <umberto@rive.app> (https://rive.app)","Matthew Sullivan <matt.j.sullivan@gmail.com> (mailto:matt.j.sullivan@gmail.com)"],"license":"MIT","files":["rive.js","rive.js.map","rive.wasm","rive.d.ts","rive_advanced.mjs.d.ts"],"typings":"rive.d.ts","dependencies":{},"browser":{"fs":false,"path":false}}`)},(O,T,_)=>{_.r(T),_.d(T,{BLANK_URL:()=>L.BLANK_URL,registerTouchInteractions:()=>H.registerTouchInteractions,sanitizeUrl:()=>L.sanitizeUrl});var H=_(4),L=_(5)},(O,T,_)=>{_.r(T),_.d(T,{registerTouchInteractions:()=>x});var H=void 0,L=function(w){var u,j;return["touchstart","touchmove"].indexOf(w.type)>-1&&(!((u=w.touches)===null||u===void 0)&&u.length)?(w.preventDefault(),{clientX:w.touches[0].clientX,clientY:w.touches[0].clientY}):w.type==="touchend"&&(!((j=w.changedTouches)===null||j===void 0)&&j.length)?{clientX:w.changedTouches[0].clientX,clientY:w.changedTouches[0].clientY}:{clientX:w.clientX,clientY:w.clientY}},x=function(w){var u=w.canvas,j=w.artboard,W=w.stateMachines,D=W===void 0?[]:W,te=w.renderer,pe=w.rive,fe=w.fit,ve=w.alignment;if(!u||!D.length||!te||!pe||!j||typeof window>"u")return null;var b=function(V){var U=V.currentTarget.getBoundingClientRect(),P=L(V),B=P.clientX,Q=P.clientY;if(!(!B&&!Q)){var Re=B-U.left,o=Q-U.top,n=pe.computeAlignment(fe,ve,{minX:0,minY:0,maxX:U.width,maxY:U.height},j.bounds),a=new pe.Mat2D;n.invert(a);var d=new pe.Vec2D(Re,o),y=pe.mapXY(a,d),g=y.x(),M=y.y();switch(y.delete(),a.delete(),d.delete(),n.delete(),V.type){case"touchmove":case"mouseover":case"mouseout":case"mousemove":{for(var G=0,ie=D;G<ie.length;G++){var I=ie[G];I.pointerMove(g,M)}break}case"touchstart":case"mousedown":{for(var le=0,Pe=D;le<Pe.length;le++){var I=Pe[le];I.pointerDown(g,M)}break}case"touchend":case"mouseup":{for(var Ae=0,be=D;Ae<be.length;Ae++){var I=be[Ae];I.pointerUp(g,M)}break}}}},A=b.bind(H);return u.addEventListener("mouseover",A),u.addEventListener("mouseout",A),u.addEventListener("mousemove",A),u.addEventListener("mousedown",A),u.addEventListener("mouseup",A),u.addEventListener("touchmove",A),u.addEventListener("touchstart",A),u.addEventListener("touchend",A),function(){u.removeEventListener("mouseover",A),u.removeEventListener("mouseout",A),u.removeEventListener("mousemove",A),u.removeEventListener("mousedown",A),u.removeEventListener("mouseup",A),u.removeEventListener("touchmove",A),u.removeEventListener("touchstart",A),u.removeEventListener("touchend",A)}}},(O,T,_)=>{_.r(T),_.d(T,{BLANK_URL:()=>W,sanitizeUrl:()=>pe});var H=/^([^\w]*)(javascript|data|vbscript)/im,L=/&#(\w+)(^\w|;)?/g,x=/&(newline|tab);/gi,w=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,u=/^.+(:|&colon;)/gim,j=[".","/"],W="about:blank";function D(fe){return j.indexOf(fe[0])>-1}function te(fe){var ve=fe.replace(w,"");return ve.replace(L,function(b,A){return String.fromCharCode(A)})}function pe(fe){if(!fe)return W;var ve=te(fe).replace(x,"").replace(w,"").trim();if(!ve)return W;if(D(ve))return ve;var b=ve.match(u);if(!b)return ve;var A=b[0];return H.test(A)?W:ve}}],S={};function $(O){var T=S[O];if(T!==void 0)return T.exports;var _=S[O]={exports:{}};return k[O](_,_.exports,$),_.exports}$.d=(O,T)=>{for(var _ in T)$.o(T,_)&&!$.o(O,_)&&Object.defineProperty(O,_,{enumerable:!0,get:T[_]})},$.o=(O,T)=>Object.prototype.hasOwnProperty.call(O,T),$.r=O=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(O,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(O,"__esModule",{value:!0})};var X={};return(()=>{$.r(X),$.d(X,{Alignment:()=>w,EventType:()=>b,Fit:()=>x,Layout:()=>u,LoopType:()=>A,Rive:()=>P,RiveEventType:()=>pe,RuntimeLoader:()=>j,StateMachineInput:()=>te,StateMachineInputType:()=>D,Testing:()=>Re});var O=$(1),T=$(2),_=$(3),H=function(o,n,a,d){function y(g){return g instanceof a?g:new a(function(M){M(g)})}return new(a||(a=Promise))(function(g,M){function G(le){try{I(d.next(le))}catch(Pe){M(Pe)}}function ie(le){try{I(d.throw(le))}catch(Pe){M(Pe)}}function I(le){le.done?g(le.value):y(le.value).then(G,ie)}I((d=d.apply(o,n||[])).next())})},L=function(o,n){var a={label:0,sent:function(){if(g[0]&1)throw g[1];return g[1]},trys:[],ops:[]},d,y,g,M;return M={next:G(0),throw:G(1),return:G(2)},typeof Symbol=="function"&&(M[Symbol.iterator]=function(){return this}),M;function G(I){return function(le){return ie([I,le])}}function ie(I){if(d)throw new TypeError("Generator is already executing.");for(;M&&(M=0,I[0]&&(a=0)),a;)try{if(d=1,y&&(g=I[0]&2?y.return:I[0]?y.throw||((g=y.return)&&g.call(y),0):y.next)&&!(g=g.call(y,I[1])).done)return g;switch(y=0,g&&(I=[I[0]&2,g.value]),I[0]){case 0:case 1:g=I;break;case 4:return a.label++,{value:I[1],done:!1};case 5:a.label++,y=I[1],I=[0];continue;case 7:I=a.ops.pop(),a.trys.pop();continue;default:if(g=a.trys,!(g=g.length>0&&g[g.length-1])&&(I[0]===6||I[0]===2)){a=0;continue}if(I[0]===3&&(!g||I[1]>g[0]&&I[1]<g[3])){a.label=I[1];break}if(I[0]===6&&a.label<g[1]){a.label=g[1],g=I;break}if(g&&a.label<g[2]){a.label=g[2],a.ops.push(I);break}g[2]&&a.ops.pop(),a.trys.pop();continue}I=n.call(o,a)}catch(le){I=[6,le],y=0}finally{d=g=0}if(I[0]&5)throw I[1];return{value:I[0]?I[1]:void 0,done:!0}}},x;(function(o){o.Cover="cover",o.Contain="contain",o.Fill="fill",o.FitWidth="fitWidth",o.FitHeight="fitHeight",o.None="none",o.ScaleDown="scaleDown"})(x||(x={}));var w;(function(o){o.Center="center",o.TopLeft="topLeft",o.TopCenter="topCenter",o.TopRight="topRight",o.CenterLeft="centerLeft",o.CenterRight="centerRight",o.BottomLeft="bottomLeft",o.BottomCenter="bottomCenter",o.BottomRight="bottomRight"})(w||(w={}));var u=function(){function o(n){var a,d,y,g,M,G;this.fit=(a=n==null?void 0:n.fit)!==null&&a!==void 0?a:x.Contain,this.alignment=(d=n==null?void 0:n.alignment)!==null&&d!==void 0?d:w.Center,this.minX=(y=n==null?void 0:n.minX)!==null&&y!==void 0?y:0,this.minY=(g=n==null?void 0:n.minY)!==null&&g!==void 0?g:0,this.maxX=(M=n==null?void 0:n.maxX)!==null&&M!==void 0?M:0,this.maxY=(G=n==null?void 0:n.maxY)!==null&&G!==void 0?G:0}return o.new=function(n){var a=n.fit,d=n.alignment,y=n.minX,g=n.minY,M=n.maxX,G=n.maxY;return console.warn("This function is deprecated: please use `new Layout({})` instead"),new o({fit:a,alignment:d,minX:y,minY:g,maxX:M,maxY:G})},o.prototype.copyWith=function(n){var a=n.fit,d=n.alignment,y=n.minX,g=n.minY,M=n.maxX,G=n.maxY;return new o({fit:a??this.fit,alignment:d??this.alignment,minX:y??this.minX,minY:g??this.minY,maxX:M??this.maxX,maxY:G??this.maxY})},o.prototype.runtimeFit=function(n){if(this.cachedRuntimeFit)return this.cachedRuntimeFit;var a;return this.fit===x.Cover?a=n.Fit.cover:this.fit===x.Contain?a=n.Fit.contain:this.fit===x.Fill?a=n.Fit.fill:this.fit===x.FitWidth?a=n.Fit.fitWidth:this.fit===x.FitHeight?a=n.Fit.fitHeight:this.fit===x.ScaleDown?a=n.Fit.scaleDown:a=n.Fit.none,this.cachedRuntimeFit=a,a},o.prototype.runtimeAlignment=function(n){if(this.cachedRuntimeAlignment)return this.cachedRuntimeAlignment;var a;return this.alignment===w.TopLeft?a=n.Alignment.topLeft:this.alignment===w.TopCenter?a=n.Alignment.topCenter:this.alignment===w.TopRight?a=n.Alignment.topRight:this.alignment===w.CenterLeft?a=n.Alignment.centerLeft:this.alignment===w.CenterRight?a=n.Alignment.centerRight:this.alignment===w.BottomLeft?a=n.Alignment.bottomLeft:this.alignment===w.BottomCenter?a=n.Alignment.bottomCenter:this.alignment===w.BottomRight?a=n.Alignment.bottomRight:a=n.Alignment.center,this.cachedRuntimeAlignment=a,a},o}(),j=function(){function o(){}return o.loadRuntime=function(){O.default({locateFile:function(){return o.wasmURL}}).then(function(n){var a;for(o.runtime=n;o.callBackQueue.length>0;)(a=o.callBackQueue.shift())===null||a===void 0||a(o.runtime)}).catch(function(){var n="https://cdn.jsdelivr.net/npm/".concat(T.name,"@").concat(T.version,"/rive.wasm");o.wasmURL.toLowerCase()!==n?(console.warn("Failed to load WASM from ".concat(o.wasmURL,", trying jsdelivr as a backup")),o.setWasmUrl(n),o.loadRuntime()):console.error("Could not load Rive WASM file from unpkg or jsdelivr, network connection may be down, or 	        you may need to call set a new WASM source via RuntimeLoader.setWasmUrl() and call 	        RuntimeLoader.loadRuntime() again")})},o.getInstance=function(n){o.isLoading||(o.isLoading=!0,o.loadRuntime()),o.runtime?n(o.runtime):o.callBackQueue.push(n)},o.awaitInstance=function(){return new Promise(function(n){return o.getInstance(function(a){return n(a)})})},o.setWasmUrl=function(n){o.wasmURL=n},o.isLoading=!1,o.callBackQueue=[],o.wasmURL="https://unpkg.com/".concat(T.name,"@").concat(T.version,"/rive.wasm"),o}(),W=function(){function o(n,a,d,y){this.animation=n,this.artboard=a,this.playing=y,this.loopCount=0,this.scrubTo=null,this.instance=new d.LinearAnimationInstance(n,a)}return Object.defineProperty(o.prototype,"name",{get:function(){return this.animation.name},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"time",{get:function(){return this.instance.time},set:function(n){this.instance.time=n},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"loopValue",{get:function(){return this.animation.loopValue},enumerable:!1,configurable:!0}),o.prototype.advance=function(n){this.scrubTo===null?this.instance.advance(n):(this.instance.time=0,this.instance.advance(this.scrubTo),this.scrubTo=null)},o.prototype.apply=function(n){this.instance.apply(n)},Object.defineProperty(o.prototype,"needsScrub",{get:function(){return this.scrubTo!==null},enumerable:!1,configurable:!0}),o.prototype.cleanup=function(){this.instance.delete()},o}(),D;(function(o){o[o.Number=56]="Number",o[o.Trigger=58]="Trigger",o[o.Boolean=59]="Boolean"})(D||(D={}));var te=function(){function o(n,a){this.type=n,this.runtimeInput=a}return Object.defineProperty(o.prototype,"name",{get:function(){return this.runtimeInput.name},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"value",{get:function(){return this.runtimeInput.value},set:function(n){this.runtimeInput.value=n},enumerable:!1,configurable:!0}),o.prototype.fire=function(){this.type===D.Trigger&&this.runtimeInput.fire()},o}(),pe;(function(o){o[o.General=128]="General",o[o.OpenUrl=131]="OpenUrl"})(pe||(pe={}));var fe=function(){function o(n,a,d,y){this.stateMachine=n,this.playing=d,this.artboard=y,this.inputs=[],this.instance=new a.StateMachineInstance(n,y),this.initInputs(a)}return Object.defineProperty(o.prototype,"name",{get:function(){return this.stateMachine.name},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"statesChanged",{get:function(){for(var n=[],a=0;a<this.instance.stateChangedCount();a++)n.push(this.instance.stateChangedNameByIndex(a));return n},enumerable:!1,configurable:!0}),o.prototype.advance=function(n){this.instance.advance(n)},o.prototype.reportedEventCount=function(){return this.instance.reportedEventCount()},o.prototype.reportedEventAt=function(n){return this.instance.reportedEventAt(n)},o.prototype.initInputs=function(n){for(var a=0;a<this.instance.inputCount();a++){var d=this.instance.input(a);this.inputs.push(this.mapRuntimeInput(d,n))}},o.prototype.mapRuntimeInput=function(n,a){if(n.type===a.SMIInput.bool)return new te(D.Boolean,n.asBool());if(n.type===a.SMIInput.number)return new te(D.Number,n.asNumber());if(n.type===a.SMIInput.trigger)return new te(D.Trigger,n.asTrigger())},o.prototype.cleanup=function(){this.instance.delete()},o}(),ve=function(){function o(n,a,d,y,g){y===void 0&&(y=[]),g===void 0&&(g=[]),this.runtime=n,this.artboard=a,this.eventManager=d,this.animations=y,this.stateMachines=g}return o.prototype.add=function(n,a,d){if(d===void 0&&(d=!0),n=Q(n),n.length===0)this.animations.forEach(function(be){return be.playing=a}),this.stateMachines.forEach(function(be){return be.playing=a});else for(var y=this.animations.map(function(be){return be.name}),g=this.stateMachines.map(function(be){return be.name}),M=0;M<n.length;M++){var G=y.indexOf(n[M]),ie=g.indexOf(n[M]);if(G>=0||ie>=0)G>=0?this.animations[G].playing=a:this.stateMachines[ie].playing=a;else{var I=this.artboard.animationByName(n[M]);if(I){var le=new W(I,this.artboard,this.runtime,a);le.advance(0),le.apply(1),this.animations.push(le)}else{var Pe=this.artboard.stateMachineByName(n[M]);if(Pe){var Ae=new fe(Pe,this.runtime,a,this.artboard);this.stateMachines.push(Ae)}}}}return d&&(a?this.eventManager.fire({type:b.Play,data:this.playing}):this.eventManager.fire({type:b.Pause,data:this.paused})),a?this.playing:this.paused},o.prototype.play=function(n){return this.add(n,!0)},o.prototype.pause=function(n){return this.add(n,!1)},o.prototype.scrub=function(n,a){var d=this.animations.filter(function(y){return n.includes(y.name)});return d.forEach(function(y){return y.scrubTo=a}),d.map(function(y){return y.name})},Object.defineProperty(o.prototype,"playing",{get:function(){return this.animations.filter(function(n){return n.playing}).map(function(n){return n.name}).concat(this.stateMachines.filter(function(n){return n.playing}).map(function(n){return n.name}))},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"paused",{get:function(){return this.animations.filter(function(n){return!n.playing}).map(function(n){return n.name}).concat(this.stateMachines.filter(function(n){return!n.playing}).map(function(n){return n.name}))},enumerable:!1,configurable:!0}),o.prototype.stop=function(n){var a=this;n=Q(n);var d=[];if(n.length===0)d=this.animations.map(function(M){return M.name}).concat(this.stateMachines.map(function(M){return M.name})),this.animations.forEach(function(M){return M.cleanup()}),this.stateMachines.forEach(function(M){return M.cleanup()}),this.animations.splice(0,this.animations.length),this.stateMachines.splice(0,this.stateMachines.length);else{var y=this.animations.filter(function(M){return n.includes(M.name)});y.forEach(function(M){M.cleanup(),a.animations.splice(a.animations.indexOf(M),1)});var g=this.stateMachines.filter(function(M){return n.includes(M.name)});g.forEach(function(M){M.cleanup(),a.stateMachines.splice(a.stateMachines.indexOf(M),1)}),d=y.map(function(M){return M.name}).concat(g.map(function(M){return M.name}))}return this.eventManager.fire({type:b.Stop,data:d}),d},Object.defineProperty(o.prototype,"isPlaying",{get:function(){return this.animations.reduce(function(n,a){return n||a.playing},!1)||this.stateMachines.reduce(function(n,a){return n||a.playing},!1)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"isPaused",{get:function(){return!this.isPlaying&&(this.animations.length>0||this.stateMachines.length>0)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"isStopped",{get:function(){return this.animations.length===0&&this.stateMachines.length===0},enumerable:!1,configurable:!0}),o.prototype.atLeastOne=function(n,a){a===void 0&&(a=!0);var d;return this.animations.length===0&&this.stateMachines.length===0&&(this.artboard.animationCount()>0?this.add([d=this.artboard.animationByIndex(0).name],n,a):this.artboard.stateMachineCount()>0&&this.add([d=this.artboard.stateMachineByIndex(0).name],n,a)),d},o.prototype.handleLooping=function(){for(var n=0,a=this.animations.filter(function(y){return y.playing});n<a.length;n++){var d=a[n];d.loopValue===0&&d.loopCount?(d.loopCount=0,this.stop(d.name)):d.loopValue===1&&d.loopCount?(this.eventManager.fire({type:b.Loop,data:{animation:d.name,type:A.Loop}}),d.loopCount=0):d.loopValue===2&&d.loopCount>1&&(this.eventManager.fire({type:b.Loop,data:{animation:d.name,type:A.PingPong}}),d.loopCount=0)}},o.prototype.handleStateChanges=function(){for(var n=[],a=0,d=this.stateMachines.filter(function(g){return g.playing});a<d.length;a++){var y=d[a];n.push.apply(n,y.statesChanged)}n.length>0&&this.eventManager.fire({type:b.StateChange,data:n})},o.prototype.handleAdvancing=function(n){this.eventManager.fire({type:b.Advance,data:n})},o}(),b;(function(o){o.Load="load",o.LoadError="loaderror",o.Play="play",o.Pause="pause",o.Stop="stop",o.Loop="loop",o.Draw="draw",o.Advance="advance",o.StateChange="statechange",o.RiveEvent="riveevent"})(b||(b={}));var A;(function(o){o.OneShot="oneshot",o.Loop="loop",o.PingPong="pingpong"})(A||(A={}));var V=function(){function o(n){n===void 0&&(n=[]),this.listeners=n}return o.prototype.getListeners=function(n){return this.listeners.filter(function(a){return a.type===n})},o.prototype.add=function(n){this.listeners.includes(n)||this.listeners.push(n)},o.prototype.remove=function(n){for(var a=0;a<this.listeners.length;a++){var d=this.listeners[a];if(d.type===n.type&&d.callback===n.callback){this.listeners.splice(a,1);break}}},o.prototype.removeAll=function(n){var a=this;n?this.listeners.filter(function(d){return d.type===n}).forEach(function(d){return a.remove(d)}):this.listeners.splice(0,this.listeners.length)},o.prototype.fire=function(n){var a=this.getListeners(n.type);a.forEach(function(d){return d.callback(n)})},o}(),U=function(){function o(n){this.eventManager=n,this.queue=[]}return o.prototype.add=function(n){this.queue.push(n)},o.prototype.process=function(){for(;this.queue.length>0;){var n=this.queue.shift();n!=null&&n.action&&n.action(),n!=null&&n.event&&this.eventManager.fire(n.event)}},o}(),P=function(){function o(n){var a;this.loaded=!1,this.readyForPlaying=!1,this.artboard=null,this.eventCleanup=null,this.shouldDisableRiveListeners=!1,this.automaticallyHandleEvents=!1,this.durations=[],this.frameTimes=[],this.frameCount=0,this.renderSecondTimer=0,this.canvas=n.canvas,this.src=n.src,this.buffer=n.buffer,this.layout=(a=n.layout)!==null&&a!==void 0?a:new u,this.shouldDisableRiveListeners=!!n.shouldDisableRiveListeners,this.automaticallyHandleEvents=!!n.automaticallyHandleEvents,this.eventManager=new V,n.onLoad&&this.on(b.Load,n.onLoad),n.onLoadError&&this.on(b.LoadError,n.onLoadError),n.onPlay&&this.on(b.Play,n.onPlay),n.onPause&&this.on(b.Pause,n.onPause),n.onStop&&this.on(b.Stop,n.onStop),n.onLoop&&this.on(b.Loop,n.onLoop),n.onStateChange&&this.on(b.StateChange,n.onStateChange),n.onAdvance&&this.on(b.Advance,n.onAdvance),n.onload&&!n.onLoad&&this.on(b.Load,n.onload),n.onloaderror&&!n.onLoadError&&this.on(b.LoadError,n.onloaderror),n.onplay&&!n.onPlay&&this.on(b.Play,n.onplay),n.onpause&&!n.onPause&&this.on(b.Pause,n.onpause),n.onstop&&!n.onStop&&this.on(b.Stop,n.onstop),n.onloop&&!n.onLoop&&this.on(b.Loop,n.onloop),n.onstatechange&&!n.onStateChange&&this.on(b.StateChange,n.onstatechange),this.taskQueue=new U(this.eventManager),this.init({src:this.src,buffer:this.buffer,autoplay:n.autoplay,animations:n.animations,stateMachines:n.stateMachines,artboard:n.artboard,useOffscreenRenderer:n.useOffscreenRenderer})}return o.new=function(n){return console.warn("This function is deprecated: please use `new Rive({})` instead"),new o(n)},o.prototype.init=function(n){var a=this,d=n.src,y=n.buffer,g=n.animations,M=n.stateMachines,G=n.artboard,ie=n.autoplay,I=ie===void 0?!1:ie,le=n.useOffscreenRenderer,Pe=le===void 0?!1:le;if(this.src=d,this.buffer=y,!this.src&&!this.buffer)throw new Error(o.missingErrorMessage);var Ae=Q(g),be=Q(M);this.loaded=!1,this.readyForPlaying=!1,j.awaitInstance().then(function($e){a.runtime=$e,a.renderer=a.runtime.makeRenderer(a.canvas,Pe),a.canvas.width||a.canvas.height||a.resizeDrawingSurfaceToCanvas(),a.initData(G,Ae,be,I).then(function(){return a.setupRiveListeners()}).catch(function(De){console.error(De)})}).catch(function($e){console.error($e)})},o.prototype.setupRiveListeners=function(){var n=this;if(!this.shouldDisableRiveListeners){var a=(this.animator.stateMachines||[]).filter(function(d){return d.playing&&n.runtime.hasListeners(d.instance)}).map(function(d){return d.instance});this.eventCleanup=(0,_.registerTouchInteractions)({canvas:this.canvas,artboard:this.artboard,stateMachines:a,renderer:this.renderer,rive:this.runtime,fit:this._layout.runtimeFit(this.runtime),alignment:this._layout.runtimeAlignment(this.runtime)})}},o.prototype.initData=function(n,a,d,y){var g;return H(this,void 0,void 0,function(){var M,G,ie;return L(this,function(I){switch(I.label){case 0:return this.src?(M=this,[4,B(this.src)]):[3,2];case 1:M.buffer=I.sent(),I.label=2;case 2:return G=this,[4,this.runtime.load(new Uint8Array(this.buffer))];case 3:return G.file=I.sent(),this.file?(this.initArtboard(n,a,d,y),this.loaded=!0,this.eventManager.fire({type:b.Load,data:(g=this.src)!==null&&g!==void 0?g:"buffer"}),this.readyForPlaying=!0,this.taskQueue.process(),this.drawFrame(),[2,Promise.resolve()]):(ie="Problem loading file; may be corrupt!",console.warn(ie),this.eventManager.fire({type:b.LoadError,data:ie}),[2,Promise.reject(ie)])}})})},o.prototype.initArtboard=function(n,a,d,y){var g=n?this.file.artboardByName(n):this.file.defaultArtboard();if(!g){var M="Invalid artboard name or no default artboard";console.warn(M),this.eventManager.fire({type:b.LoadError,data:M});return}if(this.artboard=g,this.artboard.animationCount()<1){var M="Artboard has no animations";throw this.eventManager.fire({type:b.LoadError,data:M}),M}this.animator=new ve(this.runtime,this.artboard,this.eventManager);var G;a.length>0||d.length>0?(G=a.concat(d),this.animator.add(G,y,!1)):G=[this.animator.atLeastOne(y,!1)],this.taskQueue.add({event:{type:y?b.Play:b.Pause,data:G}})},o.prototype.drawFrame=function(){this.startRendering()},o.prototype.draw=function(n,a){var d=performance.now();this.frameRequestId=null,this.lastRenderTime||(this.lastRenderTime=n),this.renderSecondTimer+=n-this.lastRenderTime,this.renderSecondTimer>5e3&&(this.renderSecondTimer=0,a==null||a());var y=(n-this.lastRenderTime)/1e3;this.lastRenderTime=n;for(var g=this.animator.animations.filter(function(ze){return ze.playing||ze.needsScrub}).sort(function(ze){return ze.needsScrub?-1:1}),M=0,G=g;M<G.length;M++){var ie=G[M];ie.advance(y),ie.instance.didLoop&&(ie.loopCount+=1),ie.apply(1)}for(var I=this.animator.stateMachines.filter(function(ze){return ze.playing}),le=0,Pe=I;le<Pe.length;le++){var Ae=Pe[le],be=Ae.reportedEventCount();if(be)for(var $e=0;$e<be;$e++){var De=Ae.reportedEventAt($e);if(De)if(De.type===pe.OpenUrl){if(this.eventManager.fire({type:b.RiveEvent,data:De}),this.automaticallyHandleEvents){var ct=document.createElement("a"),Et=De,We=Et.url,et=Et.target,at=(0,_.sanitizeUrl)(We);We&&ct.setAttribute("href",at),et&&ct.setAttribute("target",et),at&&at!==_.BLANK_URL&&ct.click()}}else this.eventManager.fire({type:b.RiveEvent,data:De})}Ae.advance(y)}this.artboard.advance(y);var tt=this.renderer;tt.clear(),tt.save(),this.alignRenderer(),this.artboard.draw(tt),tt.restore(),tt.flush(),this.animator.handleLooping(),this.animator.handleStateChanges(),this.animator.handleAdvancing(y),this.frameCount++;var Be=performance.now();for(this.frameTimes.push(Be),this.durations.push(Be-d);this.frameTimes[0]<=Be-1e3;)this.frameTimes.shift(),this.durations.shift();this.animator.isPlaying?this.startRendering():this.animator.isPaused?this.lastRenderTime=0:this.animator.isStopped&&(this.lastRenderTime=0)},o.prototype.alignRenderer=function(){var n=this,a=n.renderer,d=n.runtime,y=n._layout,g=n.artboard;a.align(y.runtimeFit(d),y.runtimeAlignment(d),{minX:y.minX,minY:y.minY,maxX:y.maxX,maxY:y.maxY},g.bounds)},Object.defineProperty(o.prototype,"fps",{get:function(){return this.durations.length},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"frameTime",{get:function(){return this.durations.length===0?0:(this.durations.reduce(function(n,a){return n+a},0)/this.durations.length).toFixed(4)},enumerable:!1,configurable:!0}),o.prototype.cleanup=function(){var n,a;this.stopRendering(),this.cleanupInstances(),(n=this.renderer)===null||n===void 0||n.delete(),this.renderer=null,(a=this.file)===null||a===void 0||a.delete(),this.file=null},o.prototype.cleanupInstances=function(){this.eventCleanup!==null&&this.eventCleanup(),this.stop(),this.artboard&&(this.artboard.delete(),this.artboard=null)},o.prototype.retrieveTextRun=function(n){var a;if(!n){console.warn("No text run name provided");return}if(!this.artboard){console.warn("Tried to access text run, but the Artboard is null");return}var d=this.artboard.textRun(n);if(!d){console.warn("Could not access a text run with name '".concat(n,"' in the '").concat((a=this.artboard)===null||a===void 0?void 0:a.name,"' Artboard. Note that you must rename a text run node in the Rive editor to make it queryable at runtime."));return}return d},o.prototype.getTextRunValue=function(n){var a=this.retrieveTextRun(n);return a?a.text:void 0},o.prototype.setTextRunValue=function(n,a){var d=this.retrieveTextRun(n);d&&(d.text=a)},o.prototype.play=function(n,a){var d=this;if(n=Q(n),!this.readyForPlaying){this.taskQueue.add({action:function(){return d.play(n,a)}});return}this.animator.play(n),this.eventCleanup&&this.eventCleanup(),this.setupRiveListeners(),this.startRendering()},o.prototype.pause=function(n){var a=this;if(n=Q(n),!this.readyForPlaying){this.taskQueue.add({action:function(){return a.pause(n)}});return}this.eventCleanup&&this.eventCleanup(),this.animator.pause(n)},o.prototype.scrub=function(n,a){var d=this;if(n=Q(n),!this.readyForPlaying){this.taskQueue.add({action:function(){return d.scrub(n,a)}});return}this.animator.scrub(n,a||0),this.drawFrame()},o.prototype.stop=function(n){var a=this;if(n=Q(n),!this.readyForPlaying){this.taskQueue.add({action:function(){return a.stop(n)}});return}this.animator.stop(n),this.eventCleanup&&this.eventCleanup()},o.prototype.reset=function(n){var a,d=n==null?void 0:n.artboard,y=Q(n==null?void 0:n.animations),g=Q(n==null?void 0:n.stateMachines),M=(a=n==null?void 0:n.autoplay)!==null&&a!==void 0?a:!1;this.cleanupInstances(),this.initArtboard(d,y,g,M),this.taskQueue.process()},o.prototype.load=function(n){this.stop(),this.init(n)},Object.defineProperty(o.prototype,"layout",{get:function(){return this._layout},set:function(n){this._layout=n,(!n.maxX||!n.maxY)&&this.resizeToCanvas(),this.loaded&&!this.animator.isPlaying&&this.drawFrame()},enumerable:!1,configurable:!0}),o.prototype.resizeToCanvas=function(){this._layout=this.layout.copyWith({minX:0,minY:0,maxX:this.canvas.width,maxY:this.canvas.height})},o.prototype.resizeDrawingSurfaceToCanvas=function(){if(this.canvas instanceof HTMLCanvasElement&&window){var n=this.canvas.getBoundingClientRect(),a=n.width,d=n.height,y=window.devicePixelRatio||1;this.canvas.width=y*a,this.canvas.height=y*d,this.startRendering(),this.resizeToCanvas()}},Object.defineProperty(o.prototype,"source",{get:function(){return this.src},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"activeArtboard",{get:function(){return this.artboard?this.artboard.name:""},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"animationNames",{get:function(){if(!this.loaded)return[];for(var n=[],a=0;a<this.artboard.animationCount();a++)n.push(this.artboard.animationByIndex(a).name);return n},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"stateMachineNames",{get:function(){if(!this.loaded)return[];for(var n=[],a=0;a<this.artboard.stateMachineCount();a++)n.push(this.artboard.stateMachineByIndex(a).name);return n},enumerable:!1,configurable:!0}),o.prototype.stateMachineInputs=function(n){if(this.loaded){var a=this.animator.stateMachines.find(function(d){return d.name===n});return a==null?void 0:a.inputs}},Object.defineProperty(o.prototype,"playingStateMachineNames",{get:function(){return this.loaded?this.animator.stateMachines.filter(function(n){return n.playing}).map(function(n){return n.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"playingAnimationNames",{get:function(){return this.loaded?this.animator.animations.filter(function(n){return n.playing}).map(function(n){return n.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"pausedAnimationNames",{get:function(){return this.loaded?this.animator.animations.filter(function(n){return!n.playing}).map(function(n){return n.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"pausedStateMachineNames",{get:function(){return this.loaded?this.animator.stateMachines.filter(function(n){return!n.playing}).map(function(n){return n.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"isPlaying",{get:function(){return this.animator.isPlaying},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"isPaused",{get:function(){return this.animator.isPaused},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"isStopped",{get:function(){return this.animator.isStopped},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"bounds",{get:function(){return this.artboard?this.artboard.bounds:void 0},enumerable:!1,configurable:!0}),o.prototype.on=function(n,a){this.eventManager.add({type:n,callback:a})},o.prototype.off=function(n,a){this.eventManager.remove({type:n,callback:a})},o.prototype.unsubscribe=function(n,a){console.warn("This function is deprecated: please use `off()` instead."),this.off(n,a)},o.prototype.removeAllRiveEventListeners=function(n){this.eventManager.removeAll(n)},o.prototype.unsubscribeAll=function(n){console.warn("This function is deprecated: please use `removeAllRiveEventListeners()` instead."),this.removeAllRiveEventListeners(n)},o.prototype.stopRendering=function(){this.loaded&&this.frameRequestId&&(this.runtime.cancelAnimationFrame?this.runtime.cancelAnimationFrame(this.frameRequestId):cancelAnimationFrame(this.frameRequestId),this.frameRequestId=null)},o.prototype.startRendering=function(){this.loaded&&this.artboard&&!this.frameRequestId&&(this.runtime.requestAnimationFrame?this.frameRequestId=this.runtime.requestAnimationFrame(this.draw.bind(this)):this.frameRequestId=requestAnimationFrame(this.draw.bind(this)))},o.prototype.enableFPSCounter=function(n){this.runtime.enableFPSCounter(n)},o.prototype.disableFPSCounter=function(){this.runtime.disableFPSCounter()},Object.defineProperty(o.prototype,"contents",{get:function(){if(this.loaded){for(var n={artboards:[]},a=0;a<this.file.artboardCount();a++){for(var d=this.file.artboardByIndex(a),y={name:d.name,animations:[],stateMachines:[]},g=0;g<d.animationCount();g++){var M=d.animationByIndex(g);y.animations.push(M.name)}for(var G=0;G<d.stateMachineCount();G++){for(var ie=d.stateMachineByIndex(G),I=ie.name,le=new this.runtime.StateMachineInstance(ie,d),Pe=[],Ae=0;Ae<le.inputCount();Ae++){var be=le.input(Ae);Pe.push({name:be.name,type:be.type})}y.stateMachines.push({name:I,inputs:Pe})}n.artboards.push(y)}return n}},enumerable:!1,configurable:!0}),o.missingErrorMessage="Rive source file or data buffer required",o}(),B=function(o){return H(void 0,void 0,void 0,function(){var n,a,d;return L(this,function(y){switch(y.label){case 0:return n=new Request(o),[4,fetch(n)];case 1:return a=y.sent(),[4,a.arrayBuffer()];case 2:return d=y.sent(),[2,d]}})})},Q=function(o){return typeof o=="string"?[o]:o instanceof Array?o:[]},Re={EventManager:V,TaskQueueManager:U}})(),X})())})(qn);var si=qn.exports;function Yn(p,v,k){const S=p.slice();return S[17]=v[k],S[19]=k,S}function jn(p,v,k){const S=p.slice();return S[20]=v[k],S[19]=k,S}function $n(p){let v,k,S=p[3].title+"",$,X,O=Nt(p[3].values),T=[];for(let _=0;_<O.length;_+=1)T[_]=Dn(jn(p,O,_));return{c(){v=ge("div"),k=ge("h1"),$=Ke(S),X=Se();for(let _=0;_<T.length;_+=1)T[_].c();this.h()},l(_){v=ye(_,"DIV",{style:!0});var H=Me(v);k=ye(H,"H1",{class:!0});var L=Me(k);$=Je(L,S),L.forEach(oe),X=Le(H);for(let x=0;x<T.length;x+=1)T[x].l(H);H.forEach(oe),this.h()},h(){re(k,"class","text-lg font-semibold text-center py-3 text-white"),re(v,"style","position: absolute; width: 50%; padding: 20px; top : 270px;")},m(_,H){ke(_,v,H),ce(v,k),ce(k,$),ce(v,X);for(let L=0;L<T.length;L+=1)T[L]&&T[L].m(v,null)},p(_,H){if(H&8&&S!==(S=_[3].title+"")&&it($,S),H&8){O=Nt(_[3].values);let L;for(L=0;L<O.length;L+=1){const x=jn(_,O,L);T[L]?T[L].p(x,H):(T[L]=Dn(x),T[L].c(),T[L].m(v,null))}for(;L<T.length;L+=1)T[L].d(1);T.length=O.length}},d(_){_&&oe(v),Qn(T,_)}}}function Dn(p){let v,k,S,$=p[20].name+"",X,O,T,_,H,L;return{c(){v=ge("div"),k=ge("div"),S=ge("p"),X=Ke($),O=Se(),T=ge("img"),L=Se(),this.h()},l(x){v=ye(x,"DIV",{class:!0});var w=Me(v);k=ye(w,"DIV",{class:!0});var u=Me(k);S=ye(u,"P",{class:!0,style:!0});var j=Me(S);X=Je(j,$),O=Le(j),T=ye(j,"IMG",{alt:!0,src:!0,class:!0}),j.forEach(oe),u.forEach(oe),L=Le(w),w.forEach(oe),this.h()},h(){re(T,"alt",_=p[20].name),vt(T.src,H=p[20].img)||re(T,"src",H),re(T,"class","w-8 h-8"),re(S,"class","text-black flex items-center"),J(S,"font-size","12px"),J(S,"position","absolute"),J(S,"z-index","999"),re(k,"class","relative h-6 flex items-center justify-center"),re(v,"class","bg-white rounded-xl shadow-sm overflow-hidden p-1 m-3")},m(x,w){ke(x,v,w),ce(v,k),ce(k,S),ce(S,X),ce(S,O),ce(S,T),ce(v,L)},p(x,w){w&8&&$!==($=x[20].name+"")&&it(X,$),w&8&&_!==(_=x[20].name)&&re(T,"alt",_),w&8&&!vt(T.src,H=x[20].img)&&re(T,"src",H)},d(x){x&&oe(v)}}}function Wn(p){let v,k,S,$,X,O,T=p[0].nickname+"",_,H,L,x=p[0].message+"",w,u,j,W;return{c(){v=ge("div"),k=ge("img"),$=Se(),X=ge("div"),O=ge("strong"),_=Ke(T),H=Se(),L=ge("p"),w=Ke(x),this.h()},l(D){v=ye(D,"DIV",{style:!0,class:!0,role:!0});var te=Me(v);k=ye(te,"IMG",{class:!0,alt:!0,src:!0}),$=Le(te),X=ye(te,"DIV",{});var pe=Me(X);O=ye(pe,"STRONG",{class:!0,style:!0});var fe=Me(O);_=Je(fe,T),fe.forEach(oe),H=Le(pe),L=ye(pe,"P",{style:!0,class:!0});var ve=Me(L);w=Je(ve,x),ve.forEach(oe),pe.forEach(oe),te.forEach(oe),this.h()},h(){re(k,"class","w-16 h-16"),re(k,"alt","user"),vt(k.src,S=p[0].profilePictureUrl)||re(k,"src",S),re(O,"class","text-bold text-xs"),J(O,"color",p[0].textColor),J(L,"color",p[0].textColor),J(L,"font-size","10px"),re(L,"class","p-2 text-xs"),J(v,"bottom","227px"),J(v,"position","absolute"),J(v,"background-color",p[0].color),J(v,"padding","13px"),J(v,"z-index","999"),J(v,"right","0"),J(v,"width","98%"),re(v,"class","inline-flex w-full items-center rounded-lg px-6 py-5 text-base"),re(v,"role","alert")},m(D,te){ke(D,v,te),ce(v,k),ce(v,$),ce(v,X),ce(X,O),ce(O,_),ce(X,H),ce(X,L),ce(L,w),W=!0},p(D,te){(!W||te&1&&!vt(k.src,S=D[0].profilePictureUrl))&&re(k,"src",S),(!W||te&1)&&T!==(T=D[0].nickname+"")&&it(_,T),(!W||te&1)&&J(O,"color",D[0].textColor),(!W||te&1)&&x!==(x=D[0].message+"")&&it(w,x),(!W||te&1)&&J(L,"color",D[0].textColor),(!W||te&1)&&J(v,"background-color",D[0].color)},i(D){W||(D&&Pr(()=>{W&&(j&&j.end(1),u=Mr(v,Yr,{y:200,duration:500}),u.start())}),W=!0)},o(D){u&&u.invalidate(),D&&(j=xr(v,Fr,{})),W=!1},d(D){D&&oe(v),D&&j&&j.end()}}}function Bn(p){let v,k,S,$,X,O,T=p[17].nickname+"",_,H,L,x=p[17].message+"",w,u;return{c(){v=ge("div"),k=ge("img"),$=Se(),X=ge("div"),O=ge("strong"),_=Ke(T),H=Se(),L=ge("p"),w=Ke(x),u=Se(),this.h()},l(j){v=ye(j,"DIV",{id:!0,style:!0,class:!0,role:!0});var W=Me(v);k=ye(W,"IMG",{class:!0,alt:!0,src:!0}),$=Le(W),X=ye(W,"DIV",{});var D=Me(X);O=ye(D,"STRONG",{class:!0,style:!0});var te=Me(O);_=Je(te,T),te.forEach(oe),H=Le(D),L=ye(D,"P",{style:!0,class:!0});var pe=Me(L);w=Je(pe,x),pe.forEach(oe),D.forEach(oe),u=Le(W),W.forEach(oe),this.h()},h(){re(k,"class","w-10 h-10 mr-3"),re(k,"alt","user"),vt(k.src,S=p[17].profilePictureUrl)||re(k,"src",S),re(O,"class","text-bold text-xs"),J(O,"color",p[17].textColor),J(L,"color",p[17].textColor),J(L,"font-size","10px"),re(L,"class","p-2 text-xs"),re(v,"id","message"+p[19]),J(v,"background-color",p[17].color),J(v,"z-index","998"),J(v,"right","0"),J(v,"width","100%"),re(v,"class","inline-flex w-full items-center rounded-lg p-2 text-base mb-1"),re(v,"role","alert")},m(j,W){ke(j,v,W),ce(v,k),ce(v,$),ce(v,X),ce(X,O),ce(O,_),ce(X,H),ce(X,L),ce(L,w),ce(v,u)},p(j,W){W&16&&!vt(k.src,S=j[17].profilePictureUrl)&&re(k,"src",S),W&16&&T!==(T=j[17].nickname+"")&&it(_,T),W&16&&J(O,"color",j[17].textColor),W&16&&x!==(x=j[17].message+"")&&it(w,x),W&16&&J(L,"color",j[17].textColor),W&16&&J(v,"background-color",j[17].color)},d(j){j&&oe(v)}}}function ui(p){let v,k,S,$,X,O,T,_,H,L,x,w="Meta:",u,j,W,D,te,pe,fe,ve='<canvas id="canvas" width="800" height="350"></canvas>',b=p[3].type==="progress"&&$n(p),A=p[0].nickname&&Wn(p),V=Nt(p[4]),U=[];for(let P=0;P<V.length;P+=1)U[P]=Bn(Yn(p,V,P));return{c(){b&&b.c(),v=Se(),k=Se(),S=ge("div"),$=Se(),A&&A.c(),X=Se(),O=ge("div");for(let P=0;P<U.length;P+=1)U[P].c();T=Se(),_=ge("video"),H=Se(),L=ge("div"),x=ge("p"),x.textContent=w,u=Se(),j=ge("p"),W=Ke(p[2]),D=Ke(" / "),te=Ke(p[1]),pe=Se(),fe=ge("div"),fe.innerHTML=ve,this.h()},l(P){b&&b.l(P),v=Le(P),k=Le(P),S=ye(P,"DIV",{style:!0}),Me(S).forEach(oe),$=Le(P),A&&A.l(P),X=Le(P),O=ye(P,"DIV",{style:!0,class:!0});var B=Me(O);for(let o=0;o<U.length;o+=1)U[o].l(B);B.forEach(oe),T=Le(P),_=ye(P,"VIDEO",{id:!0,width:!0,height:!0}),Me(_).forEach(oe),H=Le(P),L=ye(P,"DIV",{class:!0,style:!0});var Q=Me(L);x=ye(Q,"P",{class:!0,"data-svelte-h":!0}),On(x)!=="svelte-18ynqab"&&(x.textContent=w),u=Le(Q),j=ye(Q,"P",{class:!0});var Re=Me(j);W=Je(Re,p[2]),D=Je(Re," / "),te=Je(Re,p[1]),Re.forEach(oe),Q.forEach(oe),pe=Le(P),fe=ye(P,"DIV",{class:!0,"data-svelte-h":!0}),On(fe)!=="svelte-8entf6"&&(fe.innerHTML=ve),this.h()},h(){J(S,"position","absolute"),J(S,"width","194px"),J(S,"height","100px"),J(S,"z-index","99"),J(S,"background-color","#16171b"),J(S,"bottom","0px"),J(S,"right","0"),J(O,"opacity","50%"),J(O,"bottom","1%"),J(O,"position","absolute"),J(O,"z-index","998"),J(O,"right","0"),J(O,"width","60%"),re(O,"class","w-full items-center"),re(_,"id","videoPlayer"),_.controls=!0,re(_,"width","100%"),re(_,"height","400px"),re(x,"class","text-white text-center text-bold"),re(j,"class","text-white text-center text-bold text-xl mt-4"),re(L,"class","bg-purple rounded-xl shadow-sm overflow-hidden p-1"),re(L,"style","height: 80px;left: 0%; width: 100%; position:absolute; top : 0px; z-index: 99"),re(fe,"class","container wrapper")},m(P,B){b&&b.m(P,B),ke(P,v,B),ke(P,k,B),ke(P,S,B),ke(P,$,B),A&&A.m(P,B),ke(P,X,B),ke(P,O,B);for(let Q=0;Q<U.length;Q+=1)U[Q]&&U[Q].m(O,null);ke(P,T,B),ke(P,_,B),ke(P,H,B),ke(P,L,B),ce(L,x),ce(L,u),ce(L,j),ce(j,W),ce(j,D),ce(j,te),ke(P,pe,B),ke(P,fe,B)},p(P,[B]){if(P[3].type==="progress"?b?b.p(P,B):(b=$n(P),b.c(),b.m(v.parentNode,v)):b&&(b.d(1),b=null),P[0].nickname?A?(A.p(P,B),B&1&&Bt(A,1)):(A=Wn(P),A.c(),Bt(A,1),A.m(X.parentNode,X)):A&&(Ar(),an(A,1,1,()=>{A=null}),Tr()),B&16){V=Nt(P[4]);let Q;for(Q=0;Q<V.length;Q+=1){const Re=Yn(P,V,Q);U[Q]?U[Q].p(Re,B):(U[Q]=Bn(Re),U[Q].c(),U[Q].m(O,null))}for(;Q<U.length;Q+=1)U[Q].d(1);U.length=V.length}B&4&&it(W,P[2]),B&2&&it(te,P[1])},i(P){Bt(A)},o(P){an(A)},d(P){P&&(oe(v),oe(k),oe(S),oe($),oe(X),oe(O),oe(T),oe(_),oe(H),oe(L),oe(pe),oe(fe)),b&&b.d(P),A&&A.d(P),Qn(U,P)}}}const li="./models/default.riv",Nn=100,rn=90,lt=80,Xn=70,Vn=60;function ci(p,v,k){let{file:S=li}=v;const $=Fn();let X=null,O={nickname:"",message:"",profilePictureUrl:"",message:"",color:""},T={audio:"",nickname:"",giftPictureUrl:"",profilePictureUrl:""};const _=Fn();let H=null,L=null;const x={NewGift:D=>{D.value=1,setTimeout(()=>{D.value=0},6e3)},StopGift:D=>{D.value=0}};Rr(()=>{clearInterval(H),clearInterval(L)});let w=100,u=0,j={type:"",values:[]},W=[];return Gn(()=>{k(1,w=parseInt(localStorage.getItem("wakeUpSoundCoinGoal")||"100")||0),k(2,u=parseInt(localStorage.getItem("wakeUpSoundCoin")||"0")||0),socket.on("NewAudio",D=>{console.log(D),$.push({audio:D,nickname:"Sistema",profilePictureUrl:"",priority:lt})}),document.body.onclick=()=>{localStorage.getItem("lastAudioTime"),document.body.onclick=()=>{$.push({audio:"ad",nickname:"Sistema",profilePictureUrl:""})};let D=new si.Rive({src:S,canvas:document.getElementById("canvas"),stateMachines:"GirlState",autoplay:!0}),te=window.serverUrl+"/tmp_dash/index.mpd";dashjs.MediaPlayer().create().initialize(document.querySelector("#videoPlayer"),te,!0),H=setInterval(()=>{if($.length()>0&&(!X||X.ended)){const b=$.pop();let A=b.audio;fe("NewGift"),A.endsWith(".mp3")||(A=ai(A)({giftId:A})),X=new Audio(A),b.giftPictureUrl&&(T=b,T.lastAudio=A),X.onloadedmetadata=()=>{setTimeout(()=>{fe("StopGift")},X.duration*1e3)},X.volume=.7,X.play()}},1e3);const fe=b=>{const V=D.stateMachineInputs("GirlState").find(U=>U.name==="New Gift");V&&x[b](V)};socket.on("NewGift",({giftPictureUrl:b,audio:A,nickname:V,profilePictureUrl:U,coins:P,count:B})=>{k(2,u+=P),u>=w&&($.push({audio:"wakeUp",nickname:"Sistema",profilePictureUrl:"",priority:Nn}),k(2,u=0),k(1,w=w/2),w<30&&k(1,w=30),localStorage.setItem("wakeUpSoundCoinGoal",w)),localStorage.setItem("wakeUpSoundCoin",u);for(let Q=0;Q<B;Q++)$.push({giftPictureUrl:b,nickname:V,profilePictureUrl:U,audio:A,priority:rn})}),socket.on("NewMessage",b=>{const{profilePictureUrl:A,message:V,nickname:U,color:P,textColor:B}=b;console.log(b),_.push({profilePictureUrl:A,nickname:U,message:V,color:P,textColor:B,priority:rn}),V.startsWith("Agora Jogando")||k(4,W=[...W,{profilePictureUrl:A,nickname:U,message:V,color:P,textColor:B,priority:rn}]),W.length>4&&k(4,W=W.slice(1))});const ve={};socket.on("NewJoin",b=>{const{audio:A,profilePictureUrl:V,nickname:U,color:P,textColor:B}=b;_.push({profilePictureUrl:V,nickname:U,message:"entrou na live!",color:P,textColor:B,priority:Xn}),!ve[U]&&(ve[U]=!0,$.push({audio:A||"join",nickname:U,profilePictureUrl:V,priority:Xn}))}),socket.on("NewLike",b=>{const{audio:A,profilePictureUrl:V,nickname:U,totalLikeCount:P,likeCount:B,color:Q,textColor:Re}=b;_.push({profilePictureUrl:V,nickname:U,message:`deu ${B} likes! Total: ${P}`,color:Q,textColor:Re,priority:Vn}),$.push({audio:A||"like",nickname:U,profilePictureUrl:V,priority:Vn})}),socket.on("NewFollower",b=>{const{audio:A,profilePictureUrl:V,nickname:U,color:P,textColor:B}=b;_.push({profilePictureUrl:V,nickname:U,message:"comeou a seguir!",color:P,textColor:B,priority:lt}),$.push({audio:A||"follow",nickname:U,profilePictureUrl:V,priority:lt})}),socket.on("NewSubscriber",b=>{const{audio:A,profilePictureUrl:V,nickname:U,color:P,textColor:B}=b;_.push({profilePictureUrl:V,nickname:U,message:"se juntou ao bando!",color:P,textColor:B,priority:lt}),$.push({audio:A||"subscribe",nickname:U,profilePictureUrl:V,priority:lt})}),socket.on("NewShare",b=>{const{audio:A,profilePictureUrl:V,nickname:U,color:P,textColor:B}=b;_.push({profilePictureUrl:V,nickname:U,message:"compartilhou a live!",color:P,textColor:B,priority:lt}),$.push({audio:A||"share",nickname:U,profilePictureUrl:V,priority:lt})}),socket.on("ViewerCount",b=>{const{viewerCount:A}=b;_.push({profilePictureUrl:"",nickname:"",message:`Total de espectadores: ${A}`,color:"black",textColor:"white"})}),socket.on("RemoveHtmlElement",b=>{const{id:A}=b,V=document.getElementById(A);V&&V.remove()}),socket.on("NewHtmlElement",b=>{const{id:A,html:V}=b,U=document.getElementById(A);U&&U.remove(),document.body.insertAdjacentHTML("beforeend",V)}),socket.on("NewMeta",b=>{const{title:A,data:V,audio:U}=b,{type:P,values:B}=V;k(3,j={type:P,values:B,title:A,audio:U}),localStorage.setItem("currentMeta",JSON.stringify(j)),$.push({audio:U||"meta",nickname:"Sistema",profilePictureUrl:"",priority:Nn})}),L=setInterval(()=>{_.length()>0?k(0,O=_.pop()):k(0,O={nickname:"",message:"",profilePictureUrl:"",message:"",color:""})},4e3)}}),p.$$set=D=>{"file"in D&&k(5,S=D.file)},[O,w,u,j,W,S]}class fi extends Hn{constructor(v){super(),Zn(this,v,ci,ui,zn,{file:5})}}function hi(p){let v,k;return v=new fi({}),{c(){kr(v.$$.fragment)},l(S){Sr(v.$$.fragment,S)},m(S,$){Lr(v,S,$),k=!0},p:Er,i(S){k||(Bt(v.$$.fragment,S),k=!0)},o(S){an(v.$$.fragment,S),k=!1},d(S){Ir(v,S)}}}function di(p){return Gn(()=>{"serviceWorker"in navigator&&navigator.serviceWorker.register("/sw.js").then(v=>{console.log("Service Worker registered: "+v)}).catch(v=>{console.log("Error registering the Service Worker: "+v)})}),[]}class gi extends Hn{constructor(v){super(),Zn(this,v,di,hi,zn,{})}}export{gi as component,vi as universal};
